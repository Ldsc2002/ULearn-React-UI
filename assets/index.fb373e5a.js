var YV=Object.defineProperty;var QV=(t,e,n)=>e in t?YV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var XV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Xe=(t,e,n)=>(QV(t,typeof e!="symbol"?e+"":e,n),n);var CSe=XV((ISe,Iv)=>{const JV=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};JV();var li=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function BC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UC(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var we={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.element"),ZV=Symbol.for("react.portal"),ej=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),nj=Symbol.for("react.profiler"),rj=Symbol.for("react.provider"),ij=Symbol.for("react.context"),oj=Symbol.for("react.forward_ref"),sj=Symbol.for("react.suspense"),aj=Symbol.for("react.memo"),uj=Symbol.for("react.lazy"),vk=Symbol.iterator;function lj(t){return t===null||typeof t!="object"?null:(t=vk&&t[vk]||t["@@iterator"],typeof t=="function"?t:null)}var AN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RN=Object.assign,PN={};function yd(t,e,n){this.props=t,this.context=e,this.refs=PN,this.updater=n||AN}yd.prototype.isReactComponent={};yd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NN(){}NN.prototype=yd.prototype;function zC(t,e,n){this.props=t,this.context=e,this.refs=PN,this.updater=n||AN}var KC=zC.prototype=new NN;KC.constructor=zC;RN(KC,yd.prototype);KC.isPureReactComponent=!0;var yk=Array.isArray,MN=Object.prototype.hasOwnProperty,VC={current:null},FN={key:!0,ref:!0,__self:!0,__source:!0};function LN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)MN.call(e,r)&&!FN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dp,type:t,key:o,ref:s,props:i,_owner:VC.current}}function cj(t,e){return{$$typeof:Dp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dp}function dj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wk=/\/+/g;function y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dj(""+t.key):e.toString(36)}function Xm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Dp:case ZV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+y_(s,0):r,yk(i)?(n="",t!=null&&(n=t.replace(wk,"$&/")+"/"),Xm(i,e,n,"",function(l){return l})):i!=null&&(jC(i)&&(i=cj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wk,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",yk(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+y_(o,a);s+=Xm(o,e,n,u,i)}else if(u=lj(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+y_(o,a++),s+=Xm(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qg(t,e,n){if(t==null)return t;var r=[],i=0;return Xm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function fj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ar={current:null},Jm={transition:null},hj={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Jm,ReactCurrentOwner:VC};Ge.Children={map:Qg,forEach:function(t,e,n){Qg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qg(t,function(){e++}),e},toArray:function(t){return Qg(t,function(e){return e})||[]},only:function(t){if(!jC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=yd;Ge.Fragment=ej;Ge.Profiler=nj;Ge.PureComponent=zC;Ge.StrictMode=tj;Ge.Suspense=sj;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hj;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=VC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)MN.call(e,u)&&!FN.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Dp,type:t.type,key:i,ref:o,props:r,_owner:s}};Ge.createContext=function(t){return t={$$typeof:ij,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rj,_context:t},t.Consumer=t};Ge.createElement=LN;Ge.createFactory=function(t){var e=LN.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:oj,render:t}};Ge.isValidElement=jC;Ge.lazy=function(t){return{$$typeof:uj,_payload:{_status:-1,_result:t},_init:fj}};Ge.memo=function(t,e){return{$$typeof:aj,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Jm.transition;Jm.transition={};try{t()}finally{Jm.transition=e}};Ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ge.useCallback=function(t,e){return Ar.current.useCallback(t,e)};Ge.useContext=function(t){return Ar.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Ar.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Ar.current.useEffect(t,e)};Ge.useId=function(){return Ar.current.useId()};Ge.useImperativeHandle=function(t,e,n){return Ar.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return Ar.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Ar.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Ar.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return Ar.current.useReducer(t,e,n)};Ge.useRef=function(t){return Ar.current.useRef(t)};Ge.useState=function(t){return Ar.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return Ar.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return Ar.current.useTransition()};Ge.version="18.2.0";we.exports=Ge;var et=we.exports,kp={exports:{}},_i={},$N={exports:{}},BN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,W){var K=X.length;X.push(W);e:for(;0<K;){var oe=K-1>>>1,N=X[oe];if(0<i(N,W))X[oe]=W,X[K]=N,K=oe;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var W=X[0],K=X.pop();if(K!==W){X[0]=K;e:for(var oe=0,N=X.length,j=N>>>1;oe<j;){var J=2*(oe+1)-1,L=X[J],V=J+1,se=X[V];if(0>i(L,K))V<N&&0>i(se,L)?(X[oe]=se,X[V]=K,oe=V):(X[oe]=L,X[J]=K,oe=J);else if(V<N&&0>i(se,K))X[oe]=se,X[V]=K,oe=V;else break e}}return W}function i(X,W){var K=X.sortIndex-W.sortIndex;return K!==0?K:X.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],l=[],d=1,f=null,p=3,g=!1,m=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var W=n(l);W!==null;){if(W.callback===null)r(l);else if(W.startTime<=X)r(l),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(l)}}function I(X){if(_=!1,S(X),!m)if(n(u)!==null)m=!0,Ie(k);else{var W=n(l);W!==null&&Ae(I,W.startTime-X)}}function k(X,W){m=!1,_&&(_=!1,w(F),F=-1),g=!0;var K=p;try{for(S(W),f=n(u);f!==null&&(!(f.expirationTime>W)||X&&!Q());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var N=oe(f.expirationTime<=W);W=t.unstable_now(),typeof N=="function"?f.callback=N:f===n(u)&&r(u),S(W)}else r(u);f=n(u)}if(f!==null)var j=!0;else{var J=n(l);J!==null&&Ae(I,J.startTime-W),j=!1}return j}finally{f=null,p=K,g=!1}}var O=!1,A=null,F=-1,G=5,Y=-1;function Q(){return!(t.unstable_now()-Y<G)}function ie(){if(A!==null){var X=t.unstable_now();Y=X;var W=!0;try{W=A(!0,X)}finally{W?ae():(O=!1,A=null)}}else O=!1}var ae;if(typeof y=="function")ae=function(){y(ie)};else if(typeof MessageChannel!="undefined"){var _e=new MessageChannel,De=_e.port2;_e.port1.onmessage=ie,ae=function(){De.postMessage(null)}}else ae=function(){C(ie,0)};function Ie(X){A=X,O||(O=!0,ae())}function Ae(X,W){F=C(function(){X(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,Ie(k))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var K=p;p=W;try{return X()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,W){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var K=p;p=X;try{return W()}finally{p=K}},t.unstable_scheduleCallback=function(X,W,K){var oe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=K+N,X={id:d++,callback:W,priorityLevel:X,startTime:K,expirationTime:N,sortIndex:-1},K>oe?(X.sortIndex=K,e(l,X),n(u)===null&&X===n(l)&&(_?(w(F),F=-1):_=!0,Ae(I,K-oe))):(X.sortIndex=N,e(u,X),m||g||(m=!0,Ie(k))),X},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(X){var W=p;return function(){var K=p;p=W;try{return X.apply(this,arguments)}finally{p=K}}}})(BN);$N.exports=BN;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN=we.exports,vi=$N.exports;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zN=new Set,Oh={};function bl(t,e){Yc(t,e),Yc(t+"Capture",e)}function Yc(t,e){for(Oh[t]=e,t=0;t<e.length;t++)zN.add(e[t])}var Ms=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),oE=Object.prototype.hasOwnProperty,pj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_k={},Sk={};function gj(t){return oE.call(Sk,t)?!0:oE.call(_k,t)?!1:pj.test(t)?Sk[t]=!0:(_k[t]=!0,!1)}function mj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vj(t,e,n,r){if(e===null||typeof e=="undefined"||mj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){er[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];er[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){er[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){er[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){er[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){er[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){er[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){er[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){er[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var WC=/[\-:]([a-z])/g;function HC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WC,HC);er[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WC,HC);er[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WC,HC);er[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){er[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});er.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){er[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function qC(t,e,n,r){var i=er.hasOwnProperty(e)?er[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vj(e,n,i,r)&&(n=null),r||i===null?gj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ws=UN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xg=Symbol.for("react.element"),cc=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),GC=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),KN=Symbol.for("react.provider"),VN=Symbol.for("react.context"),YC=Symbol.for("react.forward_ref"),aE=Symbol.for("react.suspense"),uE=Symbol.for("react.suspense_list"),QC=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),jN=Symbol.for("react.offscreen"),Ek=Symbol.iterator;function sf(t){return t===null||typeof t!="object"?null:(t=Ek&&t[Ek]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,w_;function Kf(t){if(w_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);w_=e&&e[1]||""}return`
`+w_+t}var __=!1;function S_(t,e){if(!t||__)return"";__=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{__=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kf(t):""}function yj(t){switch(t.tag){case 5:return Kf(t.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return t=S_(t.type,!1),t;case 11:return t=S_(t.type.render,!1),t;case 1:return t=S_(t.type,!0),t;default:return""}}function lE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dc:return"Fragment";case cc:return"Portal";case sE:return"Profiler";case GC:return"StrictMode";case aE:return"Suspense";case uE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VN:return(t.displayName||"Context")+".Consumer";case KN:return(t._context.displayName||"Context")+".Provider";case YC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case QC:return e=t.displayName||null,e!==null?e:lE(t.type)||"Memo";case ga:e=t._payload,t=t._init;try{return lE(t(e))}catch{}}return null}function wj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lE(e);case 8:return e===GC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ka(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _j(t){var e=WN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jg(t){t._valueTracker||(t._valueTracker=_j(t))}function HN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tv(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function cE(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Ck(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ka(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qN(t,e){e=e.checked,e!=null&&qC(t,"checked",e,!1)}function dE(t,e){qN(t,e);var n=Ka(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fE(t,e.type,n):e.hasOwnProperty("defaultValue")&&fE(t,e.type,Ka(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fE(t,e,n){(e!=="number"||Tv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vf=Array.isArray;function xc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ka(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ik(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Vf(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ka(n)}}function GN(t,e){var n=Ka(e.value),r=Ka(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zg,QN=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zg=Zg||document.createElement("div"),Zg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sj=["Webkit","ms","Moz","O"];Object.keys(th).forEach(function(t){Sj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),th[e]=th[t]})});function XN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||th.hasOwnProperty(t)&&th[t]?(""+e).trim():e+"px"}function JN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ej=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gE(t,e){if(e){if(Ej[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function mE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vE=null;function XC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yE=null,Oc=null,Ac=null;function Dk(t){if(t=Ap(t)){if(typeof yE!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Xy(e),yE(t.stateNode,t.type,e))}}function ZN(t){Oc?Ac?Ac.push(t):Ac=[t]:Oc=t}function eM(){if(Oc){var t=Oc,e=Ac;if(Ac=Oc=null,Dk(t),e)for(t=0;t<e.length;t++)Dk(e[t])}}function tM(t,e){return t(e)}function nM(){}var E_=!1;function rM(t,e,n){if(E_)return t(e,n);E_=!0;try{return tM(t,e,n)}finally{E_=!1,(Oc!==null||Ac!==null)&&(nM(),eM())}}function Rh(t,e){var n=t.stateNode;if(n===null)return null;var r=Xy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var wE=!1;if(Ms)try{var af={};Object.defineProperty(af,"passive",{get:function(){wE=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{wE=!1}function Cj(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(d){this.onError(d)}}var nh=!1,Dv=null,kv=!1,_E=null,bj={onError:function(t){nh=!0,Dv=t}};function Ij(t,e,n,r,i,o,s,a,u){nh=!1,Dv=null,Cj.apply(bj,arguments)}function Tj(t,e,n,r,i,o,s,a,u){if(Ij.apply(this,arguments),nh){if(nh){var l=Dv;nh=!1,Dv=null}else throw Error(te(198));kv||(kv=!0,_E=l)}}function Il(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kk(t){if(Il(t)!==t)throw Error(te(188))}function Dj(t){var e=t.alternate;if(!e){if(e=Il(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return kk(i),t;if(o===r)return kk(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function oM(t){return t=Dj(t),t!==null?sM(t):null}function sM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sM(t);if(e!==null)return e;t=t.sibling}return null}var aM=vi.unstable_scheduleCallback,xk=vi.unstable_cancelCallback,kj=vi.unstable_shouldYield,xj=vi.unstable_requestPaint,rn=vi.unstable_now,Oj=vi.unstable_getCurrentPriorityLevel,JC=vi.unstable_ImmediatePriority,uM=vi.unstable_UserBlockingPriority,xv=vi.unstable_NormalPriority,Aj=vi.unstable_LowPriority,lM=vi.unstable_IdlePriority,qy=null,Go=null;function Rj(t){if(Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(qy,t,void 0,(t.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:Mj,Pj=Math.log,Nj=Math.LN2;function Mj(t){return t>>>=0,t===0?32:31-(Pj(t)/Nj|0)|0}var em=64,tm=4194304;function jf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ov(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=jf(a):(o&=s,o!==0&&(r=jf(o)))}else s=n&~i,s!==0?r=jf(s):o!==0&&(r=jf(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fo(e),i=1<<n,r|=t[n],e&=~i;return r}function Fj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-fo(o),a=1<<s,u=i[s];u===-1?((a&n)===0||(a&r)!==0)&&(i[s]=Fj(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function SE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cM(){var t=em;return em<<=1,(em&4194240)===0&&(em=64),t}function C_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fo(e),t[e]=n}function $j(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ZC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function dM(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var fM,eb,hM,pM,gM,EE=!1,nm=[],Aa=null,Ra=null,Pa=null,Ph=new Map,Nh=new Map,wa=[],Bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ok(t,e){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(e.pointerId)}}function uf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ap(e),e!==null&&eb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Uj(t,e,n,r,i){switch(e){case"focusin":return Aa=uf(Aa,t,e,n,r,i),!0;case"dragenter":return Ra=uf(Ra,t,e,n,r,i),!0;case"mouseover":return Pa=uf(Pa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ph.set(o,uf(Ph.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nh.set(o,uf(Nh.get(o)||null,t,e,n,r,i)),!0}return!1}function mM(t){var e=Lu(t.target);if(e!==null){var n=Il(e);if(n!==null){if(e=n.tag,e===13){if(e=iM(n),e!==null){t.blockedOn=e,gM(t.priority,function(){hM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=CE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vE=r,n.target.dispatchEvent(r),vE=null}else return e=Ap(n),e!==null&&eb(e),t.blockedOn=n,!1;e.shift()}return!0}function Ak(t,e,n){Zm(t)&&n.delete(e)}function zj(){EE=!1,Aa!==null&&Zm(Aa)&&(Aa=null),Ra!==null&&Zm(Ra)&&(Ra=null),Pa!==null&&Zm(Pa)&&(Pa=null),Ph.forEach(Ak),Nh.forEach(Ak)}function lf(t,e){t.blockedOn===e&&(t.blockedOn=null,EE||(EE=!0,vi.unstable_scheduleCallback(vi.unstable_NormalPriority,zj)))}function Mh(t){function e(i){return lf(i,t)}if(0<nm.length){lf(nm[0],t);for(var n=1;n<nm.length;n++){var r=nm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Aa!==null&&lf(Aa,t),Ra!==null&&lf(Ra,t),Pa!==null&&lf(Pa,t),Ph.forEach(e),Nh.forEach(e),n=0;n<wa.length;n++)r=wa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wa.length&&(n=wa[0],n.blockedOn===null);)mM(n),n.blockedOn===null&&wa.shift()}var Rc=Ws.ReactCurrentBatchConfig,Av=!0;function Kj(t,e,n,r){var i=vt,o=Rc.transition;Rc.transition=null;try{vt=1,tb(t,e,n,r)}finally{vt=i,Rc.transition=o}}function Vj(t,e,n,r){var i=vt,o=Rc.transition;Rc.transition=null;try{vt=4,tb(t,e,n,r)}finally{vt=i,Rc.transition=o}}function tb(t,e,n,r){if(Av){var i=CE(t,e,n,r);if(i===null)P_(t,e,r,Rv,n),Ok(t,r);else if(Uj(i,t,e,n,r))r.stopPropagation();else if(Ok(t,r),e&4&&-1<Bj.indexOf(t)){for(;i!==null;){var o=Ap(i);if(o!==null&&fM(o),o=CE(t,e,n,r),o===null&&P_(t,e,r,Rv,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else P_(t,e,r,null,n)}}var Rv=null;function CE(t,e,n,r){if(Rv=null,t=XC(r),t=Lu(t),t!==null)if(e=Il(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rv=t,null}function vM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oj()){case JC:return 1;case uM:return 4;case xv:case Aj:return 16;case lM:return 536870912;default:return 16}default:return 16}}var ba=null,nb=null,ev=null;function yM(){if(ev)return ev;var t,e=nb,n=e.length,r,i="value"in ba?ba.value:ba.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ev=i.slice(t,1<r?1-r:void 0)}function tv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rm(){return!0}function Rk(){return!1}function Si(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rm:Rk,this.isPropagationStopped=Rk,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rm)},persist:function(){},isPersistent:rm}),e}var wd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rb=Si(wd),Op=Yt({},wd,{view:0,detail:0}),jj=Si(Op),b_,I_,cf,Gy=Yt({},Op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ib,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cf&&(cf&&t.type==="mousemove"?(b_=t.screenX-cf.screenX,I_=t.screenY-cf.screenY):I_=b_=0,cf=t),b_)},movementY:function(t){return"movementY"in t?t.movementY:I_}}),Pk=Si(Gy),Wj=Yt({},Gy,{dataTransfer:0}),Hj=Si(Wj),qj=Yt({},Op,{relatedTarget:0}),T_=Si(qj),Gj=Yt({},wd,{animationName:0,elapsedTime:0,pseudoElement:0}),Yj=Si(Gj),Qj=Yt({},wd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xj=Si(Qj),Jj=Yt({},wd,{data:0}),Nk=Si(Jj),Zj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tW[t])?!!e[t]:!1}function ib(){return nW}var rW=Yt({},Op,{key:function(t){if(t.key){var e=Zj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ib,charCode:function(t){return t.type==="keypress"?tv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iW=Si(rW),oW=Yt({},Gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mk=Si(oW),sW=Yt({},Op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ib}),aW=Si(sW),uW=Yt({},wd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lW=Si(uW),cW=Yt({},Gy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dW=Si(cW),fW=[9,13,27,32],ob=Ms&&"CompositionEvent"in window,rh=null;Ms&&"documentMode"in document&&(rh=document.documentMode);var hW=Ms&&"TextEvent"in window&&!rh,wM=Ms&&(!ob||rh&&8<rh&&11>=rh),Fk=String.fromCharCode(32),Lk=!1;function _M(t,e){switch(t){case"keyup":return fW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fc=!1;function pW(t,e){switch(t){case"compositionend":return SM(e);case"keypress":return e.which!==32?null:(Lk=!0,Fk);case"textInput":return t=e.data,t===Fk&&Lk?null:t;default:return null}}function gW(t,e){if(fc)return t==="compositionend"||!ob&&_M(t,e)?(t=yM(),ev=nb=ba=null,fc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wM&&e.locale!=="ko"?null:e.data;default:return null}}var mW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $k(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mW[t.type]:e==="textarea"}function EM(t,e,n,r){ZN(r),e=Pv(e,"onChange"),0<e.length&&(n=new rb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ih=null,Fh=null;function vW(t){PM(t,0)}function Yy(t){var e=gc(t);if(HN(e))return t}function yW(t,e){if(t==="change")return e}var CM=!1;if(Ms){var D_;if(Ms){var k_="oninput"in document;if(!k_){var Bk=document.createElement("div");Bk.setAttribute("oninput","return;"),k_=typeof Bk.oninput=="function"}D_=k_}else D_=!1;CM=D_&&(!document.documentMode||9<document.documentMode)}function Uk(){ih&&(ih.detachEvent("onpropertychange",bM),Fh=ih=null)}function bM(t){if(t.propertyName==="value"&&Yy(Fh)){var e=[];EM(e,Fh,t,XC(t)),rM(vW,e)}}function wW(t,e,n){t==="focusin"?(Uk(),ih=e,Fh=n,ih.attachEvent("onpropertychange",bM)):t==="focusout"&&Uk()}function _W(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yy(Fh)}function SW(t,e){if(t==="click")return Yy(e)}function EW(t,e){if(t==="input"||t==="change")return Yy(e)}function CW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mo=typeof Object.is=="function"?Object.is:CW;function Lh(t,e){if(mo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oE.call(e,i)||!mo(t[i],e[i]))return!1}return!0}function zk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kk(t,e){var n=zk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zk(n)}}function IM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TM(){for(var t=window,e=Tv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tv(t.document)}return e}function sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bW(t){var e=TM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IM(n.ownerDocument.documentElement,n)){if(r!==null&&sb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Kk(n,o);var s=Kk(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IW=Ms&&"documentMode"in document&&11>=document.documentMode,hc=null,bE=null,oh=null,IE=!1;function Vk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;IE||hc==null||hc!==Tv(r)||(r=hc,"selectionStart"in r&&sb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oh&&Lh(oh,r)||(oh=r,r=Pv(bE,"onSelect"),0<r.length&&(e=new rb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hc)))}function im(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pc={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},x_={},DM={};Ms&&(DM=document.createElement("div").style,"AnimationEvent"in window||(delete pc.animationend.animation,delete pc.animationiteration.animation,delete pc.animationstart.animation),"TransitionEvent"in window||delete pc.transitionend.transition);function Qy(t){if(x_[t])return x_[t];if(!pc[t])return t;var e=pc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DM)return x_[t]=e[n];return t}var kM=Qy("animationend"),xM=Qy("animationiteration"),OM=Qy("animationstart"),AM=Qy("transitionend"),RM=new Map,jk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eu(t,e){RM.set(t,e),bl(e,[t])}for(var O_=0;O_<jk.length;O_++){var A_=jk[O_],TW=A_.toLowerCase(),DW=A_[0].toUpperCase()+A_.slice(1);eu(TW,"on"+DW)}eu(kM,"onAnimationEnd");eu(xM,"onAnimationIteration");eu(OM,"onAnimationStart");eu("dblclick","onDoubleClick");eu("focusin","onFocus");eu("focusout","onBlur");eu(AM,"onTransitionEnd");Yc("onMouseEnter",["mouseout","mouseover"]);Yc("onMouseLeave",["mouseout","mouseover"]);Yc("onPointerEnter",["pointerout","pointerover"]);Yc("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wf));function Wk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tj(r,e,void 0,t),t.currentTarget=null}function PM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Wk(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Wk(i,a,l),o=u}}}if(kv)throw t=_E,kv=!1,_E=null,t}function At(t,e){var n=e[OE];n===void 0&&(n=e[OE]=new Set);var r=t+"__bubble";n.has(r)||(NM(e,t,2,!1),n.add(r))}function R_(t,e,n){var r=0;e&&(r|=4),NM(n,t,r,e)}var om="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[om]){t[om]=!0,zN.forEach(function(n){n!=="selectionchange"&&(kW.has(n)||R_(n,!1,t),R_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[om]||(e[om]=!0,R_("selectionchange",!1,e))}}function NM(t,e,n,r){switch(vM(e)){case 1:var i=Kj;break;case 4:i=Vj;break;default:i=tb}n=i.bind(null,e,n,t),i=void 0,!wE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function P_(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Lu(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}rM(function(){var l=o,d=XC(n),f=[];e:{var p=RM.get(t);if(p!==void 0){var g=rb,m=t;switch(t){case"keypress":if(tv(n)===0)break e;case"keydown":case"keyup":g=iW;break;case"focusin":m="focus",g=T_;break;case"focusout":m="blur",g=T_;break;case"beforeblur":case"afterblur":g=T_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Pk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=aW;break;case kM:case xM:case OM:g=Yj;break;case AM:g=lW;break;case"scroll":g=jj;break;case"wheel":g=dW;break;case"copy":case"cut":case"paste":g=Xj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mk}var _=(e&4)!==0,C=!_&&t==="scroll",w=_?p!==null?p+"Capture":null:p;_=[];for(var y=l,S;y!==null;){S=y;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,w!==null&&(I=Rh(y,w),I!=null&&_.push(Bh(y,I,S)))),C)break;y=y.return}0<_.length&&(p=new g(p,m,null,n,d),f.push({event:p,listeners:_}))}}if((e&7)===0){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==vE&&(m=n.relatedTarget||n.fromElement)&&(Lu(m)||m[Fs]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=l,m=m?Lu(m):null,m!==null&&(C=Il(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(_=Pk,I="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=Mk,I="onPointerLeave",w="onPointerEnter",y="pointer"),C=g==null?p:gc(g),S=m==null?p:gc(m),p=new _(I,y+"leave",g,n,d),p.target=C,p.relatedTarget=S,I=null,Lu(d)===l&&(_=new _(w,y+"enter",m,n,d),_.target=S,_.relatedTarget=C,I=_),C=I,g&&m)t:{for(_=g,w=m,y=0,S=_;S;S=Gl(S))y++;for(S=0,I=w;I;I=Gl(I))S++;for(;0<y-S;)_=Gl(_),y--;for(;0<S-y;)w=Gl(w),S--;for(;y--;){if(_===w||w!==null&&_===w.alternate)break t;_=Gl(_),w=Gl(w)}_=null}else _=null;g!==null&&Hk(f,p,g,_,!1),m!==null&&C!==null&&Hk(f,C,m,_,!0)}}e:{if(p=l?gc(l):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var k=yW;else if($k(p))if(CM)k=EW;else{k=_W;var O=wW}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=SW);if(k&&(k=k(t,l))){EM(f,k,n,d);break e}O&&O(t,p,l),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&fE(p,"number",p.value)}switch(O=l?gc(l):window,t){case"focusin":($k(O)||O.contentEditable==="true")&&(hc=O,bE=l,oh=null);break;case"focusout":oh=bE=hc=null;break;case"mousedown":IE=!0;break;case"contextmenu":case"mouseup":case"dragend":IE=!1,Vk(f,n,d);break;case"selectionchange":if(IW)break;case"keydown":case"keyup":Vk(f,n,d)}var A;if(ob)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else fc?_M(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(wM&&n.locale!=="ko"&&(fc||F!=="onCompositionStart"?F==="onCompositionEnd"&&fc&&(A=yM()):(ba=d,nb="value"in ba?ba.value:ba.textContent,fc=!0)),O=Pv(l,F),0<O.length&&(F=new Nk(F,t,null,n,d),f.push({event:F,listeners:O}),A?F.data=A:(A=SM(n),A!==null&&(F.data=A)))),(A=hW?pW(t,n):gW(t,n))&&(l=Pv(l,"onBeforeInput"),0<l.length&&(d=new Nk("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:l}),d.data=A))}PM(f,e)})}function Bh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rh(t,n),o!=null&&r.unshift(Bh(t,o,i)),o=Rh(t,e),o!=null&&r.push(Bh(t,o,i))),t=t.return}return r}function Gl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hk(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Rh(n,o),u!=null&&s.unshift(Bh(n,u,a))):i||(u=Rh(n,o),u!=null&&s.push(Bh(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var xW=/\r\n?/g,OW=/\u0000|\uFFFD/g;function qk(t){return(typeof t=="string"?t:""+t).replace(xW,`
`).replace(OW,"")}function sm(t,e,n){if(e=qk(e),qk(t)!==e&&n)throw Error(te(425))}function Nv(){}var TE=null,DE=null;function kE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xE=typeof setTimeout=="function"?setTimeout:void 0,AW=typeof clearTimeout=="function"?clearTimeout:void 0,Gk=typeof Promise=="function"?Promise:void 0,RW=typeof queueMicrotask=="function"?queueMicrotask:typeof Gk!="undefined"?function(t){return Gk.resolve(null).then(t).catch(PW)}:xE;function PW(t){setTimeout(function(){throw t})}function N_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mh(e)}function Na(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _d=Math.random().toString(36).slice(2),$o="__reactFiber$"+_d,Uh="__reactProps$"+_d,Fs="__reactContainer$"+_d,OE="__reactEvents$"+_d,NW="__reactListeners$"+_d,MW="__reactHandles$"+_d;function Lu(t){var e=t[$o];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fs]||n[$o]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yk(t);t!==null;){if(n=t[$o])return n;t=Yk(t)}return e}t=n,n=t.parentNode}return null}function Ap(t){return t=t[$o]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Xy(t){return t[Uh]||null}var AE=[],mc=-1;function tu(t){return{current:t}}function Rt(t){0>mc||(t.current=AE[mc],AE[mc]=null,mc--)}function Dt(t,e){mc++,AE[mc]=t.current,t.current=e}var Va={},fr=tu(Va),qr=tu(!1),nl=Va;function Qc(t,e){var n=t.type.contextTypes;if(!n)return Va;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function Mv(){Rt(qr),Rt(fr)}function Qk(t,e,n){if(fr.current!==Va)throw Error(te(168));Dt(fr,e),Dt(qr,n)}function MM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,wj(t)||"Unknown",i));return Yt({},n,r)}function Fv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Va,nl=fr.current,Dt(fr,t),Dt(qr,qr.current),!0}function Xk(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=MM(t,e,nl),r.__reactInternalMemoizedMergedChildContext=t,Rt(qr),Rt(fr),Dt(fr,t)):Rt(qr),Dt(qr,n)}var Es=null,Jy=!1,M_=!1;function FM(t){Es===null?Es=[t]:Es.push(t)}function FW(t){Jy=!0,FM(t)}function nu(){if(!M_&&Es!==null){M_=!0;var t=0,e=vt;try{var n=Es;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Es=null,Jy=!1}catch(i){throw Es!==null&&(Es=Es.slice(t+1)),aM(JC,nu),i}finally{vt=e,M_=!1}}return null}var vc=[],yc=0,Lv=null,$v=0,Mi=[],Fi=0,rl=null,Cs=1,bs="";function Du(t,e){vc[yc++]=$v,vc[yc++]=Lv,Lv=t,$v=e}function LM(t,e,n){Mi[Fi++]=Cs,Mi[Fi++]=bs,Mi[Fi++]=rl,rl=t;var r=Cs;t=bs;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var o=32-fo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cs=1<<32-fo(e)+i|n<<i|r,bs=o+t}else Cs=1<<o|n<<i|r,bs=t}function ab(t){t.return!==null&&(Du(t,1),LM(t,1,0))}function ub(t){for(;t===Lv;)Lv=vc[--yc],vc[yc]=null,$v=vc[--yc],vc[yc]=null;for(;t===rl;)rl=Mi[--Fi],Mi[Fi]=null,bs=Mi[--Fi],Mi[Fi]=null,Cs=Mi[--Fi],Mi[Fi]=null}var pi=null,ci=null,Vt=!1,uo=null;function $M(t,e){var n=$i(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pi=t,ci=Na(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pi=t,ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rl!==null?{id:Cs,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$i(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pi=t,ci=null,!0):!1;default:return!1}}function RE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function PE(t){if(Vt){var e=ci;if(e){var n=e;if(!Jk(t,e)){if(RE(t))throw Error(te(418));e=Na(n.nextSibling);var r=pi;e&&Jk(t,e)?$M(r,n):(t.flags=t.flags&-4097|2,Vt=!1,pi=t)}}else{if(RE(t))throw Error(te(418));t.flags=t.flags&-4097|2,Vt=!1,pi=t}}}function Zk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pi=t}function am(t){if(t!==pi)return!1;if(!Vt)return Zk(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kE(t.type,t.memoizedProps)),e&&(e=ci)){if(RE(t))throw BM(),Error(te(418));for(;e;)$M(t,e),e=Na(e.nextSibling)}if(Zk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ci=Na(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ci=null}}else ci=pi?Na(t.stateNode.nextSibling):null;return!0}function BM(){for(var t=ci;t;)t=Na(t.nextSibling)}function Xc(){ci=pi=null,Vt=!1}function lb(t){uo===null?uo=[t]:uo.push(t)}var LW=Ws.ReactCurrentBatchConfig;function oo(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bv=tu(null),Uv=null,wc=null,cb=null;function db(){cb=wc=Uv=null}function fb(t){var e=Bv.current;Rt(Bv),t._currentValue=e}function NE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pc(t,e){Uv=t,cb=wc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(jr=!0),t.firstContext=null)}function Ki(t){var e=t._currentValue;if(cb!==t)if(t={context:t,memoizedValue:e,next:null},wc===null){if(Uv===null)throw Error(te(308));wc=t,Uv.dependencies={lanes:0,firstContext:t}}else wc=wc.next=t;return e}var $u=null;function hb(t){$u===null?$u=[t]:$u.push(t)}function UM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ls(t,r)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ma=!1;function pb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(it&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ls(t,n)}return i=r.interleaved,i===null?(e.next=e,hb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ls(t,n)}function nv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZC(t,n)}}function ex(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zv(t,e,n,r){var i=t.updateQueue;ma=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,d=l=u=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(p=e,g=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){f=m.call(g,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,p=typeof m=="function"?m.call(g,f,p):m,p==null)break e;f=Yt({},f,p);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(l=d=g,u=f):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ol|=s,t.lanes=s,t.memoizedState=f}}function tx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var KM=new UN.Component().refs;function ME(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zy={isMounted:function(t){return(t=t._reactInternals)?Il(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=La(t),o=Os(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ma(t,o,i),e!==null&&(ho(e,t,i,r),nv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=La(t),o=Os(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ma(t,o,i),e!==null&&(ho(e,t,i,r),nv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=La(t),i=Os(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,r),e!==null&&(ho(e,t,r,n),nv(e,t,r))}};function nx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Lh(n,r)||!Lh(i,o):!0}function VM(t,e,n){var r=!1,i=Va,o=e.contextType;return typeof o=="object"&&o!==null?o=Ki(o):(i=Gr(e)?nl:fr.current,r=e.contextTypes,o=(r=r!=null)?Qc(t,i):Va),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zy.enqueueReplaceState(e,e.state,null)}function FE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=KM,pb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ki(o):(o=Gr(e)?nl:fr.current,i.context=Qc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ME(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zy.enqueueReplaceState(i,i.state,null),zv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===KM&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function um(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ix(t){var e=t._init;return e(t._payload)}function jM(t){function e(w,y){if(t){var S=w.deletions;S===null?(w.deletions=[y],w.flags|=16):S.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=$a(w,y),w.index=0,w.sibling=null,w}function o(w,y,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<y?(w.flags|=2,y):S):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,S,I){return y===null||y.tag!==6?(y=K_(S,w.mode,I),y.return=w,y):(y=i(y,S),y.return=w,y)}function u(w,y,S,I){var k=S.type;return k===dc?d(w,y,S.props.children,I,S.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ga&&ix(k)===y.type)?(I=i(y,S.props),I.ref=df(w,y,S),I.return=w,I):(I=uv(S.type,S.key,S.props,null,w.mode,I),I.ref=df(w,y,S),I.return=w,I)}function l(w,y,S,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=V_(S,w.mode,I),y.return=w,y):(y=i(y,S.children||[]),y.return=w,y)}function d(w,y,S,I,k){return y===null||y.tag!==7?(y=Gu(S,w.mode,I,k),y.return=w,y):(y=i(y,S),y.return=w,y)}function f(w,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=K_(""+y,w.mode,S),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xg:return S=uv(y.type,y.key,y.props,null,w.mode,S),S.ref=df(w,null,y),S.return=w,S;case cc:return y=V_(y,w.mode,S),y.return=w,y;case ga:var I=y._init;return f(w,I(y._payload),S)}if(Vf(y)||sf(y))return y=Gu(y,w.mode,S,null),y.return=w,y;um(w,y)}return null}function p(w,y,S,I){var k=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(w,y,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xg:return S.key===k?u(w,y,S,I):null;case cc:return S.key===k?l(w,y,S,I):null;case ga:return k=S._init,p(w,y,k(S._payload),I)}if(Vf(S)||sf(S))return k!==null?null:d(w,y,S,I,null);um(w,S)}return null}function g(w,y,S,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(S)||null,a(y,w,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xg:return w=w.get(I.key===null?S:I.key)||null,u(y,w,I,k);case cc:return w=w.get(I.key===null?S:I.key)||null,l(y,w,I,k);case ga:var O=I._init;return g(w,y,S,O(I._payload),k)}if(Vf(I)||sf(I))return w=w.get(S)||null,d(y,w,I,k,null);um(y,I)}return null}function m(w,y,S,I){for(var k=null,O=null,A=y,F=y=0,G=null;A!==null&&F<S.length;F++){A.index>F?(G=A,A=null):G=A.sibling;var Y=p(w,A,S[F],I);if(Y===null){A===null&&(A=G);break}t&&A&&Y.alternate===null&&e(w,A),y=o(Y,y,F),O===null?k=Y:O.sibling=Y,O=Y,A=G}if(F===S.length)return n(w,A),Vt&&Du(w,F),k;if(A===null){for(;F<S.length;F++)A=f(w,S[F],I),A!==null&&(y=o(A,y,F),O===null?k=A:O.sibling=A,O=A);return Vt&&Du(w,F),k}for(A=r(w,A);F<S.length;F++)G=g(A,w,F,S[F],I),G!==null&&(t&&G.alternate!==null&&A.delete(G.key===null?F:G.key),y=o(G,y,F),O===null?k=G:O.sibling=G,O=G);return t&&A.forEach(function(Q){return e(w,Q)}),Vt&&Du(w,F),k}function _(w,y,S,I){var k=sf(S);if(typeof k!="function")throw Error(te(150));if(S=k.call(S),S==null)throw Error(te(151));for(var O=k=null,A=y,F=y=0,G=null,Y=S.next();A!==null&&!Y.done;F++,Y=S.next()){A.index>F?(G=A,A=null):G=A.sibling;var Q=p(w,A,Y.value,I);if(Q===null){A===null&&(A=G);break}t&&A&&Q.alternate===null&&e(w,A),y=o(Q,y,F),O===null?k=Q:O.sibling=Q,O=Q,A=G}if(Y.done)return n(w,A),Vt&&Du(w,F),k;if(A===null){for(;!Y.done;F++,Y=S.next())Y=f(w,Y.value,I),Y!==null&&(y=o(Y,y,F),O===null?k=Y:O.sibling=Y,O=Y);return Vt&&Du(w,F),k}for(A=r(w,A);!Y.done;F++,Y=S.next())Y=g(A,w,F,Y.value,I),Y!==null&&(t&&Y.alternate!==null&&A.delete(Y.key===null?F:Y.key),y=o(Y,y,F),O===null?k=Y:O.sibling=Y,O=Y);return t&&A.forEach(function(ie){return e(w,ie)}),Vt&&Du(w,F),k}function C(w,y,S,I){if(typeof S=="object"&&S!==null&&S.type===dc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xg:e:{for(var k=S.key,O=y;O!==null;){if(O.key===k){if(k=S.type,k===dc){if(O.tag===7){n(w,O.sibling),y=i(O,S.props.children),y.return=w,w=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ga&&ix(k)===O.type){n(w,O.sibling),y=i(O,S.props),y.ref=df(w,O,S),y.return=w,w=y;break e}n(w,O);break}else e(w,O);O=O.sibling}S.type===dc?(y=Gu(S.props.children,w.mode,I,S.key),y.return=w,w=y):(I=uv(S.type,S.key,S.props,null,w.mode,I),I.ref=df(w,y,S),I.return=w,w=I)}return s(w);case cc:e:{for(O=S.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(w,y.sibling),y=i(y,S.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=V_(S,w.mode,I),y.return=w,w=y}return s(w);case ga:return O=S._init,C(w,y,O(S._payload),I)}if(Vf(S))return m(w,y,S,I);if(sf(S))return _(w,y,S,I);um(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,S),y.return=w,w=y):(n(w,y),y=K_(S,w.mode,I),y.return=w,w=y),s(w)):n(w,y)}return C}var Jc=jM(!0),WM=jM(!1),Rp={},Yo=tu(Rp),zh=tu(Rp),Kh=tu(Rp);function Bu(t){if(t===Rp)throw Error(te(174));return t}function gb(t,e){switch(Dt(Kh,e),Dt(zh,t),Dt(Yo,Rp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pE(e,t)}Rt(Yo),Dt(Yo,e)}function Zc(){Rt(Yo),Rt(zh),Rt(Kh)}function HM(t){Bu(Kh.current);var e=Bu(Yo.current),n=pE(e,t.type);e!==n&&(Dt(zh,t),Dt(Yo,n))}function mb(t){zh.current===t&&(Rt(Yo),Rt(zh))}var Ht=tu(0);function Kv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F_=[];function vb(){for(var t=0;t<F_.length;t++)F_[t]._workInProgressVersionPrimary=null;F_.length=0}var rv=Ws.ReactCurrentDispatcher,L_=Ws.ReactCurrentBatchConfig,il=0,Gt=null,wn=null,Dn=null,Vv=!1,sh=!1,Vh=0,$W=0;function ir(){throw Error(te(321))}function yb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mo(t[n],e[n]))return!1;return!0}function wb(t,e,n,r,i,o){if(il=o,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rv.current=t===null||t.memoizedState===null?KW:VW,t=n(r,i),sh){o=0;do{if(sh=!1,Vh=0,25<=o)throw Error(te(301));o+=1,Dn=wn=null,e.updateQueue=null,rv.current=jW,t=n(r,i)}while(sh)}if(rv.current=jv,e=wn!==null&&wn.next!==null,il=0,Dn=wn=Gt=null,Vv=!1,e)throw Error(te(300));return t}function _b(){var t=Vh!==0;return Vh=0,t}function Lo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Gt.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function Vi(){if(wn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=Dn===null?Gt.memoizedState:Dn.next;if(e!==null)Dn=e,wn=t;else{if(t===null)throw Error(te(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Dn===null?Gt.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function jh(t,e){return typeof e=="function"?e(t):e}function $_(t){var e=Vi(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=wn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var d=l.lane;if((il&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,Gt.lanes|=d,ol|=d}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,mo(r,e.memoizedState)||(jr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Gt.lanes|=o,ol|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function B_(t){var e=Vi(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);mo(o,e.memoizedState)||(jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function qM(){}function GM(t,e){var n=Gt,r=Vi(),i=e(),o=!mo(r.memoizedState,i);if(o&&(r.memoizedState=i,jr=!0),r=r.queue,Sb(XM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Wh(9,QM.bind(null,n,r,i,e),void 0,null),xn===null)throw Error(te(349));(il&30)!==0||YM(n,e,i)}return i}function YM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QM(t,e,n,r){e.value=n,e.getSnapshot=r,JM(e)&&ZM(t)}function XM(t,e,n){return n(function(){JM(e)&&ZM(t)})}function JM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mo(t,n)}catch{return!0}}function ZM(t){var e=Ls(t,1);e!==null&&ho(e,t,1,-1)}function ox(t){var e=Lo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:t},e.queue=t,t=t.dispatch=zW.bind(null,Gt,t),[e.memoizedState,t]}function Wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eF(){return Vi().memoizedState}function iv(t,e,n,r){var i=Lo();Gt.flags|=t,i.memoizedState=Wh(1|e,n,void 0,r===void 0?null:r)}function e0(t,e,n,r){var i=Vi();r=r===void 0?null:r;var o=void 0;if(wn!==null){var s=wn.memoizedState;if(o=s.destroy,r!==null&&yb(r,s.deps)){i.memoizedState=Wh(e,n,o,r);return}}Gt.flags|=t,i.memoizedState=Wh(1|e,n,o,r)}function sx(t,e){return iv(8390656,8,t,e)}function Sb(t,e){return e0(2048,8,t,e)}function tF(t,e){return e0(4,2,t,e)}function nF(t,e){return e0(4,4,t,e)}function rF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iF(t,e,n){return n=n!=null?n.concat([t]):null,e0(4,4,rF.bind(null,e,t),n)}function Eb(){}function oF(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sF(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aF(t,e,n){return(il&21)===0?(t.baseState&&(t.baseState=!1,jr=!0),t.memoizedState=n):(mo(n,e)||(n=cM(),Gt.lanes|=n,ol|=n,t.baseState=!0),e)}function BW(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=L_.transition;L_.transition={};try{t(!1),e()}finally{vt=n,L_.transition=r}}function uF(){return Vi().memoizedState}function UW(t,e,n){var r=La(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lF(t))cF(e,n);else if(n=UM(t,e,n,r),n!==null){var i=xr();ho(n,t,r,i),dF(n,e,r)}}function zW(t,e,n){var r=La(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lF(t))cF(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mo(a,s)){var u=e.interleaved;u===null?(i.next=i,hb(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=UM(t,e,i,r),n!==null&&(i=xr(),ho(n,t,r,i),dF(n,e,r))}}function lF(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function cF(t,e){sh=Vv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dF(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZC(t,n)}}var jv={readContext:Ki,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},KW={readContext:Ki,useCallback:function(t,e){return Lo().memoizedState=[t,e===void 0?null:e],t},useContext:Ki,useEffect:sx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,iv(4194308,4,rF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return iv(4194308,4,t,e)},useInsertionEffect:function(t,e){return iv(4,2,t,e)},useMemo:function(t,e){var n=Lo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UW.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=Lo();return t={current:t},e.memoizedState=t},useState:ox,useDebugValue:Eb,useDeferredValue:function(t){return Lo().memoizedState=t},useTransition:function(){var t=ox(!1),e=t[0];return t=BW.bind(null,t[1]),Lo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,i=Lo();if(Vt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),xn===null)throw Error(te(349));(il&30)!==0||YM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,sx(XM.bind(null,r,o,t),[t]),r.flags|=2048,Wh(9,QM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Lo(),e=xn.identifierPrefix;if(Vt){var n=bs,r=Cs;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$W++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VW={readContext:Ki,useCallback:oF,useContext:Ki,useEffect:Sb,useImperativeHandle:iF,useInsertionEffect:tF,useLayoutEffect:nF,useMemo:sF,useReducer:$_,useRef:eF,useState:function(){return $_(jh)},useDebugValue:Eb,useDeferredValue:function(t){var e=Vi();return aF(e,wn.memoizedState,t)},useTransition:function(){var t=$_(jh)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:qM,useSyncExternalStore:GM,useId:uF,unstable_isNewReconciler:!1},jW={readContext:Ki,useCallback:oF,useContext:Ki,useEffect:Sb,useImperativeHandle:iF,useInsertionEffect:tF,useLayoutEffect:nF,useMemo:sF,useReducer:B_,useRef:eF,useState:function(){return B_(jh)},useDebugValue:Eb,useDeferredValue:function(t){var e=Vi();return wn===null?e.memoizedState=t:aF(e,wn.memoizedState,t)},useTransition:function(){var t=B_(jh)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:qM,useSyncExternalStore:GM,useId:uF,unstable_isNewReconciler:!1};function ed(t,e){try{var n="",r=e;do n+=yj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function U_(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function LE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WW=typeof WeakMap=="function"?WeakMap:Map;function fF(t,e,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hv||(Hv=!0,qE=r),LE(t,e)},n}function hF(t,e,n){n=Os(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){LE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){LE(t,e),typeof r!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ax(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oH.bind(null,t,e,n),e.then(t,t))}function ux(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lx(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Os(-1,1),e.tag=2,Ma(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var HW=Ws.ReactCurrentOwner,jr=!1;function Cr(t,e,n,r){e.child=t===null?WM(e,null,n,r):Jc(e,t.child,n,r)}function cx(t,e,n,r,i){n=n.render;var o=e.ref;return Pc(e,i),r=wb(t,e,n,r,o,i),n=_b(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$s(t,e,i)):(Vt&&n&&ab(e),e.flags|=1,Cr(t,e,r,i),e.child)}function dx(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ob(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pF(t,e,o,r,i)):(t=uv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Lh,n(s,r)&&t.ref===e.ref)return $s(t,e,i)}return e.flags|=1,t=$a(o,r),t.ref=e.ref,t.return=e,e.child=t}function pF(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Lh(o,r)&&t.ref===e.ref)if(jr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(jr=!0);else return e.lanes=t.lanes,$s(t,e,i)}return $E(t,e,n,r,i)}function gF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Sc,si),si|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(Sc,si),si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Dt(Sc,si),si|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Dt(Sc,si),si|=r;return Cr(t,e,i,n),e.child}function mF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $E(t,e,n,r,i){var o=Gr(n)?nl:fr.current;return o=Qc(e,o),Pc(e,i),n=wb(t,e,n,r,o,i),r=_b(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$s(t,e,i)):(Vt&&r&&ab(e),e.flags|=1,Cr(t,e,n,i),e.child)}function fx(t,e,n,r,i){if(Gr(n)){var o=!0;Fv(e)}else o=!1;if(Pc(e,i),e.stateNode===null)ov(t,e),VM(e,n,r),FE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ki(l):(l=Gr(n)?nl:fr.current,l=Qc(e,l));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&rx(e,s,r,l),ma=!1;var p=e.memoizedState;s.state=p,zv(e,r,s,i),u=e.memoizedState,a!==r||p!==u||qr.current||ma?(typeof d=="function"&&(ME(e,n,d,r),u=e.memoizedState),(a=ma||nx(e,n,a,r,p,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,zM(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:oo(e.type,a),s.props=l,f=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ki(u):(u=Gr(n)?nl:fr.current,u=Qc(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&rx(e,s,r,u),ma=!1,p=e.memoizedState,s.state=p,zv(e,r,s,i);var m=e.memoizedState;a!==f||p!==m||qr.current||ma?(typeof g=="function"&&(ME(e,n,g,r),m=e.memoizedState),(l=ma||nx(e,n,l,r,p,m,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return BE(t,e,n,r,o,i)}function BE(t,e,n,r,i,o){mF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Xk(e,n,!1),$s(t,e,o);r=e.stateNode,HW.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Jc(e,t.child,null,o),e.child=Jc(e,null,a,o)):Cr(t,e,a,o),e.memoizedState=r.state,i&&Xk(e,n,!0),e.child}function vF(t){var e=t.stateNode;e.pendingContext?Qk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qk(t,e.context,!1),gb(t,e.containerInfo)}function hx(t,e,n,r,i){return Xc(),lb(i),e.flags|=256,Cr(t,e,n,r),e.child}var UE={dehydrated:null,treeContext:null,retryLane:0};function zE(t){return{baseLanes:t,cachePool:null,transitions:null}}function yF(t,e,n){var r=e.pendingProps,i=Ht.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dt(Ht,i&1),t===null)return PE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=r0(s,r,0,null),t=Gu(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=zE(n),e.memoizedState=UE,t):Cb(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qW(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=$a(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$a(a,o):(o=Gu(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?zE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=UE,r}return o=t.child,t=o.sibling,r=$a(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cb(t,e){return e=r0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lm(t,e,n,r){return r!==null&&lb(r),Jc(e,t.child,null,n),t=Cb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qW(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=U_(Error(te(422))),lm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=r0({mode:"visible",children:r.children},i,0,null),o=Gu(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&Jc(e,t.child,null,s),e.child.memoizedState=zE(s),e.memoizedState=UE,o);if((e.mode&1)===0)return lm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=U_(o,r,void 0),lm(t,e,s,r)}if(a=(s&t.childLanes)!==0,jr||a){if(r=xn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ls(t,i),ho(r,t,i,-1))}return xb(),r=U_(Error(te(421))),lm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ci=Na(i.nextSibling),pi=e,Vt=!0,uo=null,t!==null&&(Mi[Fi++]=Cs,Mi[Fi++]=bs,Mi[Fi++]=rl,Cs=t.id,bs=t.overflow,rl=e),e=Cb(e,r.children),e.flags|=4096,e)}function px(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),NE(t.return,e,n)}function z_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function wF(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Cr(t,e,r.children,n),r=Ht.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&px(t,n,e);else if(t.tag===19)px(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dt(Ht,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),z_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}z_(e,!0,n,null,o);break;case"together":z_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ov(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=$a(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$a(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GW(t,e,n){switch(e.tag){case 3:vF(e),Xc();break;case 5:HM(e);break;case 1:Gr(e.type)&&Fv(e);break;case 4:gb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dt(Bv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dt(Ht,Ht.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?yF(t,e,n):(Dt(Ht,Ht.current&1),t=$s(t,e,n),t!==null?t.sibling:null);Dt(Ht,Ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return wF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dt(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,gF(t,e,n)}return $s(t,e,n)}var _F,KE,SF,EF;_F=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KE=function(){};SF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bu(Yo.current);var o=null;switch(n){case"input":i=cE(t,i),r=cE(t,r),o=[];break;case"select":i=Yt({},i,{value:void 0}),r=Yt({},r,{value:void 0}),o=[];break;case"textarea":i=hE(t,i),r=hE(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nv)}gE(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Oh.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Oh.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&At("scroll",t),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};EF=function(t,e,n,r){n!==r&&(e.flags|=4)};function ff(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YW(t,e,n){var r=e.pendingProps;switch(ub(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return Gr(e.type)&&Mv(),or(e),null;case 3:return r=e.stateNode,Zc(),Rt(qr),Rt(fr),vb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(am(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,uo!==null&&(QE(uo),uo=null))),KE(t,e),or(e),null;case 5:mb(e);var i=Bu(Kh.current);if(n=e.type,t!==null&&e.stateNode!=null)SF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return or(e),null}if(t=Bu(Yo.current),am(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$o]=e,r[Uh]=o,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(i=0;i<Wf.length;i++)At(Wf[i],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":Ck(r,o),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},At("invalid",r);break;case"textarea":Ik(r,o),At("invalid",r)}gE(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&sm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&sm(r.textContent,a,t),i=["children",""+a]):Oh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&At("scroll",r)}switch(n){case"input":Jg(r),bk(r,o,!0);break;case"textarea":Jg(r),Tk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$o]=e,t[Uh]=r,_F(t,e,!1,!1),e.stateNode=t;e:{switch(s=mE(n,r),n){case"dialog":At("cancel",t),At("close",t),i=r;break;case"iframe":case"object":case"embed":At("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wf.length;i++)At(Wf[i],t);i=r;break;case"source":At("error",t),i=r;break;case"img":case"image":case"link":At("error",t),At("load",t),i=r;break;case"details":At("toggle",t),i=r;break;case"input":Ck(t,r),i=cE(t,r),At("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yt({},r,{value:void 0}),At("invalid",t);break;case"textarea":Ik(t,r),i=hE(t,r),At("invalid",t);break;default:i=r}gE(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?JN(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&QN(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ah(t,u):typeof u=="number"&&Ah(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oh.hasOwnProperty(o)?u!=null&&o==="onScroll"&&At("scroll",t):u!=null&&qC(t,o,u,s))}switch(n){case"input":Jg(t),bk(t,r,!1);break;case"textarea":Jg(t),Tk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ka(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xc(t,!!r.multiple,o,!1):r.defaultValue!=null&&xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)EF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Bu(Kh.current),Bu(Yo.current),am(e)){if(r=e.stateNode,n=e.memoizedProps,r[$o]=e,(o=r.nodeValue!==n)&&(t=pi,t!==null))switch(t.tag){case 3:sm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$o]=e,e.stateNode=r}return or(e),null;case 13:if(Rt(Ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&ci!==null&&(e.mode&1)!==0&&(e.flags&128)===0)BM(),Xc(),e.flags|=98560,o=!1;else if(o=am(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[$o]=e}else Xc(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;or(e),o=!1}else uo!==null&&(QE(uo),uo=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ht.current&1)!==0?Sn===0&&(Sn=3):xb())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return Zc(),KE(t,e),t===null&&$h(e.stateNode.containerInfo),or(e),null;case 10:return fb(e.type._context),or(e),null;case 17:return Gr(e.type)&&Mv(),or(e),null;case 19:if(Rt(Ht),o=e.memoizedState,o===null)return or(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ff(o,!1);else{if(Sn!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Kv(t),s!==null){for(e.flags|=128,ff(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dt(Ht,Ht.current&1|2),e.child}t=t.sibling}o.tail!==null&&rn()>td&&(e.flags|=128,r=!0,ff(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ff(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Vt)return or(e),null}else 2*rn()-o.renderingStartTime>td&&n!==1073741824&&(e.flags|=128,r=!0,ff(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,n=Ht.current,Dt(Ht,r?n&1|2:n&1),e):(or(e),null);case 22:case 23:return kb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(si&1073741824)!==0&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function QW(t,e){switch(ub(e),e.tag){case 1:return Gr(e.type)&&Mv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),Rt(qr),Rt(fr),vb(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return mb(e),null;case 13:if(Rt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(Ht),null;case 4:return Zc(),null;case 10:return fb(e.type._context),null;case 22:case 23:return kb(),null;case 24:return null;default:return null}}var cm=!1,ur=!1,XW=typeof WeakSet=="function"?WeakSet:Set,pe=null;function _c(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function VE(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var gx=!1;function JW(t,e){if(TE=Av,t=TM(),sb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++l===i&&(a=s),p===o&&++d===r&&(u=s),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(DE={focusedElem:t,selectionRange:n},Av=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,C=m.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:oo(e.type,_),C);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(I){Qt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return m=gx,gx=!1,m}function ah(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&VE(e,n,o)}i=i.next}while(i!==r)}}function t0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CF(t){var e=t.alternate;e!==null&&(t.alternate=null,CF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$o],delete e[Uh],delete e[OE],delete e[NW],delete e[MW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bF(t){return t.tag===5||t.tag===3||t.tag===4}function mx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function WE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nv));else if(r!==4&&(t=t.child,t!==null))for(WE(t,e,n),t=t.sibling;t!==null;)WE(t,e,n),t=t.sibling}function HE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(HE(t,e,n),t=t.sibling;t!==null;)HE(t,e,n),t=t.sibling}var Wn=null,ao=!1;function ua(t,e,n){for(n=n.child;n!==null;)IF(t,e,n),n=n.sibling}function IF(t,e,n){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(qy,n)}catch{}switch(n.tag){case 5:ur||_c(n,e);case 6:var r=Wn,i=ao;Wn=null,ua(t,e,n),Wn=r,ao=i,Wn!==null&&(ao?(t=Wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(ao?(t=Wn,n=n.stateNode,t.nodeType===8?N_(t.parentNode,n):t.nodeType===1&&N_(t,n),Mh(t)):N_(Wn,n.stateNode));break;case 4:r=Wn,i=ao,Wn=n.stateNode.containerInfo,ao=!0,ua(t,e,n),Wn=r,ao=i;break;case 0:case 11:case 14:case 15:if(!ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&VE(n,e,s),i=i.next}while(i!==r)}ua(t,e,n);break;case 1:if(!ur&&(_c(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qt(n,e,a)}ua(t,e,n);break;case 21:ua(t,e,n);break;case 22:n.mode&1?(ur=(r=ur)||n.memoizedState!==null,ua(t,e,n),ur=r):ua(t,e,n);break;default:ua(t,e,n)}}function vx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XW),e.forEach(function(r){var i=aH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ro(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wn=a.stateNode,ao=!1;break e;case 3:Wn=a.stateNode.containerInfo,ao=!0;break e;case 4:Wn=a.stateNode.containerInfo,ao=!0;break e}a=a.return}if(Wn===null)throw Error(te(160));IF(o,s,i),Wn=null,ao=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Qt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TF(e,t),e=e.sibling}function TF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ro(e,t),Ao(t),r&4){try{ah(3,t,t.return),t0(3,t)}catch(_){Qt(t,t.return,_)}try{ah(5,t,t.return)}catch(_){Qt(t,t.return,_)}}break;case 1:ro(e,t),Ao(t),r&512&&n!==null&&_c(n,n.return);break;case 5:if(ro(e,t),Ao(t),r&512&&n!==null&&_c(n,n.return),t.flags&32){var i=t.stateNode;try{Ah(i,"")}catch(_){Qt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qN(i,o),mE(a,s);var l=mE(a,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?JN(i,f):d==="dangerouslySetInnerHTML"?QN(i,f):d==="children"?Ah(i,f):qC(i,d,f,l)}switch(a){case"input":dE(i,o);break;case"textarea":GN(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?xc(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?xc(i,!!o.multiple,o.defaultValue,!0):xc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Uh]=o}catch(_){Qt(t,t.return,_)}}break;case 6:if(ro(e,t),Ao(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Qt(t,t.return,_)}}break;case 3:if(ro(e,t),Ao(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mh(e.containerInfo)}catch(_){Qt(t,t.return,_)}break;case 4:ro(e,t),Ao(t);break;case 13:ro(e,t),Ao(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tb=rn())),r&4&&vx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ur=(l=ur)||d,ro(e,t),ur=l):ro(e,t),Ao(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!d&&(t.mode&1)!==0)for(pe=t,d=t.child;d!==null;){for(f=pe=d;pe!==null;){switch(p=pe,g=p.child,p.tag){case 0:case 11:case 14:case 15:ah(4,p,p.return);break;case 1:_c(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Qt(r,n,_)}}break;case 5:_c(p,p.return);break;case 22:if(p.memoizedState!==null){wx(f);continue}}g!==null?(g.return=p,pe=g):wx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=XN("display",s))}catch(_){Qt(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(_){Qt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ro(e,t),Ao(t),r&4&&vx(t);break;case 21:break;default:ro(e,t),Ao(t)}}function Ao(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bF(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ah(i,""),r.flags&=-33);var o=mx(t);HE(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mx(t);WE(t,a,s);break;default:throw Error(te(161))}}catch(u){Qt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZW(t,e,n){pe=t,DF(t)}function DF(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||cm;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ur;a=cm;var l=ur;if(cm=s,(ur=u)&&!l)for(pe=i;pe!==null;)s=pe,u=s.child,s.tag===22&&s.memoizedState!==null?_x(i):u!==null?(u.return=s,pe=u):_x(i);for(;o!==null;)pe=o,DF(o),o=o.sibling;pe=i,cm=a,ur=l}yx(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,pe=o):yx(t)}}function yx(t){for(;pe!==null;){var e=pe;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ur||t0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ur)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tx(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Mh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}ur||e.flags&512&&jE(e)}catch(p){Qt(e,e.return,p)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function wx(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function _x(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{t0(4,e)}catch(u){Qt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Qt(e,i,u)}}var o=e.return;try{jE(e)}catch(u){Qt(e,o,u)}break;case 5:var s=e.return;try{jE(e)}catch(u){Qt(e,s,u)}}}catch(u){Qt(e,e.return,u)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var eH=Math.ceil,Wv=Ws.ReactCurrentDispatcher,bb=Ws.ReactCurrentOwner,Ui=Ws.ReactCurrentBatchConfig,it=0,xn=null,dn=null,Qn=0,si=0,Sc=tu(0),Sn=0,Hh=null,ol=0,n0=0,Ib=0,uh=null,Vr=null,Tb=0,td=1/0,_s=null,Hv=!1,qE=null,Fa=null,dm=!1,Ia=null,qv=0,lh=0,GE=null,sv=-1,av=0;function xr(){return(it&6)!==0?rn():sv!==-1?sv:sv=rn()}function La(t){return(t.mode&1)===0?1:(it&2)!==0&&Qn!==0?Qn&-Qn:LW.transition!==null?(av===0&&(av=cM()),av):(t=vt,t!==0||(t=window.event,t=t===void 0?16:vM(t.type)),t)}function ho(t,e,n,r){if(50<lh)throw lh=0,GE=null,Error(te(185));xp(t,n,r),((it&2)===0||t!==xn)&&(t===xn&&((it&2)===0&&(n0|=n),Sn===4&&_a(t,Qn)),Yr(t,r),n===1&&it===0&&(e.mode&1)===0&&(td=rn()+500,Jy&&nu()))}function Yr(t,e){var n=t.callbackNode;Lj(t,e);var r=Ov(t,t===xn?Qn:0);if(r===0)n!==null&&xk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xk(n),e===1)t.tag===0?FW(Sx.bind(null,t)):FM(Sx.bind(null,t)),RW(function(){(it&6)===0&&nu()}),n=null;else{switch(dM(r)){case 1:n=JC;break;case 4:n=uM;break;case 16:n=xv;break;case 536870912:n=lM;break;default:n=xv}n=MF(n,kF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kF(t,e){if(sv=-1,av=0,(it&6)!==0)throw Error(te(327));var n=t.callbackNode;if(Nc()&&t.callbackNode!==n)return null;var r=Ov(t,t===xn?Qn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Gv(t,r);else{e=r;var i=it;it|=2;var o=OF();(xn!==t||Qn!==e)&&(_s=null,td=rn()+500,qu(t,e));do try{rH();break}catch(a){xF(t,a)}while(1);db(),Wv.current=o,it=i,dn!==null?e=0:(xn=null,Qn=0,e=Sn)}if(e!==0){if(e===2&&(i=SE(t),i!==0&&(r=i,e=YE(t,i))),e===1)throw n=Hh,qu(t,0),_a(t,r),Yr(t,rn()),n;if(e===6)_a(t,r);else{if(i=t.current.alternate,(r&30)===0&&!tH(i)&&(e=Gv(t,r),e===2&&(o=SE(t),o!==0&&(r=o,e=YE(t,o))),e===1))throw n=Hh,qu(t,0),_a(t,r),Yr(t,rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ku(t,Vr,_s);break;case 3:if(_a(t,r),(r&130023424)===r&&(e=Tb+500-rn(),10<e)){if(Ov(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xE(ku.bind(null,t,Vr,_s),e);break}ku(t,Vr,_s);break;case 4:if(_a(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eH(r/1960))-r,10<r){t.timeoutHandle=xE(ku.bind(null,t,Vr,_s),r);break}ku(t,Vr,_s);break;case 5:ku(t,Vr,_s);break;default:throw Error(te(329))}}}return Yr(t,rn()),t.callbackNode===n?kF.bind(null,t):null}function YE(t,e){var n=uh;return t.current.memoizedState.isDehydrated&&(qu(t,e).flags|=256),t=Gv(t,e),t!==2&&(e=Vr,Vr=n,e!==null&&QE(e)),t}function QE(t){Vr===null?Vr=t:Vr.push.apply(Vr,t)}function tH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e){for(e&=~Ib,e&=~n0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fo(e),r=1<<n;t[n]=-1,e&=~r}}function Sx(t){if((it&6)!==0)throw Error(te(327));Nc();var e=Ov(t,0);if((e&1)===0)return Yr(t,rn()),null;var n=Gv(t,e);if(t.tag!==0&&n===2){var r=SE(t);r!==0&&(e=r,n=YE(t,r))}if(n===1)throw n=Hh,qu(t,0),_a(t,e),Yr(t,rn()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ku(t,Vr,_s),Yr(t,rn()),null}function Db(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(td=rn()+500,Jy&&nu())}}function sl(t){Ia!==null&&Ia.tag===0&&(it&6)===0&&Nc();var e=it;it|=1;var n=Ui.transition,r=vt;try{if(Ui.transition=null,vt=1,t)return t()}finally{vt=r,Ui.transition=n,it=e,(it&6)===0&&nu()}}function kb(){si=Sc.current,Rt(Sc)}function qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AW(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(ub(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mv();break;case 3:Zc(),Rt(qr),Rt(fr),vb();break;case 5:mb(r);break;case 4:Zc();break;case 13:Rt(Ht);break;case 19:Rt(Ht);break;case 10:fb(r.type._context);break;case 22:case 23:kb()}n=n.return}if(xn=t,dn=t=$a(t.current,null),Qn=si=e,Sn=0,Hh=null,Ib=n0=ol=0,Vr=uh=null,$u!==null){for(e=0;e<$u.length;e++)if(n=$u[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$u=null}return t}function xF(t,e){do{var n=dn;try{if(db(),rv.current=jv,Vv){for(var r=Gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vv=!1}if(il=0,Dn=wn=Gt=null,sh=!1,Vh=0,bb.current=null,n===null||n.return===null){Sn=1,Hh=e,dn=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Qn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=a,f=d.tag;if((d.mode&1)===0&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ux(s);if(g!==null){g.flags&=-257,lx(g,s,a,o,e),g.mode&1&&ax(o,l,e),e=g,u=l;var m=e.updateQueue;if(m===null){var _=new Set;_.add(u),e.updateQueue=_}else m.add(u);break e}else{if((e&1)===0){ax(o,l,e),xb();break e}u=Error(te(426))}}else if(Vt&&a.mode&1){var C=ux(s);if(C!==null){(C.flags&65536)===0&&(C.flags|=256),lx(C,s,a,o,e),lb(ed(u,a));break e}}o=u=ed(u,a),Sn!==4&&(Sn=2),uh===null?uh=[o]:uh.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=fF(o,u,e);ex(o,w);break e;case 1:a=u;var y=o.type,S=o.stateNode;if((o.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fa===null||!Fa.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=hF(o,a,e);ex(o,I);break e}}o=o.return}while(o!==null)}RF(n)}catch(k){e=k,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(1)}function OF(){var t=Wv.current;return Wv.current=jv,t===null?jv:t}function xb(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),xn===null||(ol&268435455)===0&&(n0&268435455)===0||_a(xn,Qn)}function Gv(t,e){var n=it;it|=2;var r=OF();(xn!==t||Qn!==e)&&(_s=null,qu(t,e));do try{nH();break}catch(i){xF(t,i)}while(1);if(db(),it=n,Wv.current=r,dn!==null)throw Error(te(261));return xn=null,Qn=0,Sn}function nH(){for(;dn!==null;)AF(dn)}function rH(){for(;dn!==null&&!kj();)AF(dn)}function AF(t){var e=NF(t.alternate,t,si);t.memoizedProps=t.pendingProps,e===null?RF(t):dn=e,bb.current=null}function RF(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=YW(n,e,si),n!==null){dn=n;return}}else{if(n=QW(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,dn=null;return}}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);Sn===0&&(Sn=5)}function ku(t,e,n){var r=vt,i=Ui.transition;try{Ui.transition=null,vt=1,iH(t,e,n,r)}finally{Ui.transition=i,vt=r}return null}function iH(t,e,n,r){do Nc();while(Ia!==null);if((it&6)!==0)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($j(t,o),t===xn&&(dn=xn=null,Qn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||dm||(dm=!0,MF(xv,function(){return Nc(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Ui.transition,Ui.transition=null;var s=vt;vt=1;var a=it;it|=4,bb.current=null,JW(t,n),TF(n,t),bW(DE),Av=!!TE,DE=TE=null,t.current=n,ZW(n),xj(),it=a,vt=s,Ui.transition=o}else t.current=n;if(dm&&(dm=!1,Ia=t,qv=i),o=t.pendingLanes,o===0&&(Fa=null),Rj(n.stateNode),Yr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hv)throw Hv=!1,t=qE,qE=null,t;return(qv&1)!==0&&t.tag!==0&&Nc(),o=t.pendingLanes,(o&1)!==0?t===GE?lh++:(lh=0,GE=t):lh=0,nu(),null}function Nc(){if(Ia!==null){var t=dM(qv),e=Ui.transition,n=vt;try{if(Ui.transition=null,vt=16>t?16:t,Ia===null)var r=!1;else{if(t=Ia,Ia=null,qv=0,(it&6)!==0)throw Error(te(331));var i=it;for(it|=4,pe=t.current;pe!==null;){var o=pe,s=o.child;if((pe.flags&16)!==0){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(pe=l;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:ah(8,d,o)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var p=d.sibling,g=d.return;if(CF(d),d===l){pe=null;break}if(p!==null){p.return=g,pe=p;break}pe=g}}}var m=o.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}pe=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:ah(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,pe=w;break e}pe=o.return}}var y=t.current;for(pe=y;pe!==null;){s=pe;var S=s.child;if((s.subtreeFlags&2064)!==0&&S!==null)S.return=s,pe=S;else e:for(s=y;pe!==null;){if(a=pe,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:t0(9,a)}}catch(k){Qt(a,a.return,k)}if(a===s){pe=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,pe=I;break e}pe=a.return}}if(it=i,nu(),Go&&typeof Go.onPostCommitFiberRoot=="function")try{Go.onPostCommitFiberRoot(qy,t)}catch{}r=!0}return r}finally{vt=n,Ui.transition=e}}return!1}function Ex(t,e,n){e=ed(n,e),e=fF(t,e,1),t=Ma(t,e,1),e=xr(),t!==null&&(xp(t,1,e),Yr(t,e))}function Qt(t,e,n){if(t.tag===3)Ex(t,t,n);else for(;e!==null;){if(e.tag===3){Ex(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fa===null||!Fa.has(r))){t=ed(n,t),t=hF(e,t,1),e=Ma(e,t,1),t=xr(),e!==null&&(xp(e,1,t),Yr(e,t));break}}e=e.return}}function oH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,xn===t&&(Qn&n)===n&&(Sn===4||Sn===3&&(Qn&130023424)===Qn&&500>rn()-Tb?qu(t,0):Ib|=n),Yr(t,e)}function PF(t,e){e===0&&((t.mode&1)===0?e=1:(e=tm,tm<<=1,(tm&130023424)===0&&(tm=4194304)));var n=xr();t=Ls(t,e),t!==null&&(xp(t,e,n),Yr(t,n))}function sH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PF(t,n)}function aH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),PF(t,n)}var NF;NF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qr.current)jr=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return jr=!1,GW(t,e,n);jr=(t.flags&131072)!==0}else jr=!1,Vt&&(e.flags&1048576)!==0&&LM(e,$v,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ov(t,e),t=e.pendingProps;var i=Qc(e,fr.current);Pc(e,n),i=wb(null,e,r,t,i,n);var o=_b();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(r)?(o=!0,Fv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pb(e),i.updater=Zy,e.stateNode=i,i._reactInternals=e,FE(e,r,t,n),e=BE(null,e,r,!0,o,n)):(e.tag=0,Vt&&o&&ab(e),Cr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ov(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lH(r),t=oo(r,t),i){case 0:e=$E(null,e,r,t,n);break e;case 1:e=fx(null,e,r,t,n);break e;case 11:e=cx(null,e,r,t,n);break e;case 14:e=dx(null,e,r,oo(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),$E(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),fx(t,e,r,i,n);case 3:e:{if(vF(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,zM(t,e),zv(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ed(Error(te(423)),e),e=hx(t,e,r,n,i);break e}else if(r!==i){i=ed(Error(te(424)),e),e=hx(t,e,r,n,i);break e}else for(ci=Na(e.stateNode.containerInfo.firstChild),pi=e,Vt=!0,uo=null,n=WM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xc(),r===i){e=$s(t,e,n);break e}Cr(t,e,r,n)}e=e.child}return e;case 5:return HM(e),t===null&&PE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,kE(r,i)?s=null:o!==null&&kE(r,o)&&(e.flags|=32),mF(t,e),Cr(t,e,s,n),e.child;case 6:return t===null&&PE(e),null;case 13:return yF(t,e,n);case 4:return gb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jc(e,null,r,n):Cr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),cx(t,e,r,i,n);case 7:return Cr(t,e,e.pendingProps,n),e.child;case 8:return Cr(t,e,e.pendingProps.children,n),e.child;case 12:return Cr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Dt(Bv,r._currentValue),r._currentValue=s,o!==null)if(mo(o.value,s)){if(o.children===i.children&&!qr.current){e=$s(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Os(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),NE(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),NE(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Cr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pc(e,n),i=Ki(i),r=r(i),e.flags|=1,Cr(t,e,r,n),e.child;case 14:return r=e.type,i=oo(r,e.pendingProps),i=oo(r.type,i),dx(t,e,r,i,n);case 15:return pF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),ov(t,e),e.tag=1,Gr(r)?(t=!0,Fv(e)):t=!1,Pc(e,n),VM(e,r,i),FE(e,r,i,n),BE(null,e,r,!0,t,n);case 19:return wF(t,e,n);case 22:return gF(t,e,n)}throw Error(te(156,e.tag))};function MF(t,e){return aM(t,e)}function uH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(t,e,n,r){return new uH(t,e,n,r)}function Ob(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lH(t){if(typeof t=="function")return Ob(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YC)return 11;if(t===QC)return 14}return 2}function $a(t,e){var n=t.alternate;return n===null?(n=$i(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uv(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ob(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case dc:return Gu(n.children,i,o,e);case GC:s=8,i|=8;break;case sE:return t=$i(12,n,e,i|2),t.elementType=sE,t.lanes=o,t;case aE:return t=$i(13,n,e,i),t.elementType=aE,t.lanes=o,t;case uE:return t=$i(19,n,e,i),t.elementType=uE,t.lanes=o,t;case jN:return r0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KN:s=10;break e;case VN:s=9;break e;case YC:s=11;break e;case QC:s=14;break e;case ga:s=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=$i(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Gu(t,e,n,r){return t=$i(7,t,r,e),t.lanes=n,t}function r0(t,e,n,r){return t=$i(22,t,r,e),t.elementType=jN,t.lanes=n,t.stateNode={isHidden:!1},t}function K_(t,e,n){return t=$i(6,t,null,e),t.lanes=n,t}function V_(t,e,n){return e=$i(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C_(0),this.expirationTimes=C_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ab(t,e,n,r,i,o,s,a,u){return t=new cH(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$i(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pb(o),t}function dH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FF(t){if(!t)return Va;t=t._reactInternals;e:{if(Il(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Gr(n))return MM(t,n,e)}return e}function LF(t,e,n,r,i,o,s,a,u){return t=Ab(n,r,!0,t,i,o,s,a,u),t.context=FF(null),n=t.current,r=xr(),i=La(n),o=Os(r,i),o.callback=e!=null?e:null,Ma(n,o,i),t.current.lanes=i,xp(t,i,r),Yr(t,r),t}function i0(t,e,n,r){var i=e.current,o=xr(),s=La(i);return n=FF(n),e.context===null?e.context=n:e.pendingContext=n,e=Os(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ma(i,e,s),t!==null&&(ho(t,i,s,o),nv(t,i,s)),s}function Yv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rb(t,e){Cx(t,e),(t=t.alternate)&&Cx(t,e)}function fH(){return null}var $F=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pb(t){this._internalRoot=t}o0.prototype.render=Pb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));i0(t,e,null,null)};o0.prototype.unmount=Pb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){i0(null,t,null,null)}),e[Fs]=null}};function o0(t){this._internalRoot=t}o0.prototype.unstable_scheduleHydration=function(t){if(t){var e=pM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wa.length&&e!==0&&e<wa[n].priority;n++);wa.splice(n,0,t),n===0&&mM(t)}};function Nb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bx(){}function hH(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Yv(s);o.call(l)}}var s=LF(e,r,t,0,null,!1,!1,"",bx);return t._reactRootContainer=s,t[Fs]=s.current,$h(t.nodeType===8?t.parentNode:t),sl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Yv(u);a.call(l)}}var u=Ab(t,0,!1,null,null,!1,!1,"",bx);return t._reactRootContainer=u,t[Fs]=u.current,$h(t.nodeType===8?t.parentNode:t),sl(function(){i0(e,u,n,r)}),u}function a0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Yv(s);a.call(u)}}i0(e,s,t,i)}else s=hH(n,e,t,i,r);return Yv(s)}fM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jf(e.pendingLanes);n!==0&&(ZC(e,n|1),Yr(e,rn()),(it&6)===0&&(td=rn()+500,nu()))}break;case 13:sl(function(){var r=Ls(t,1);if(r!==null){var i=xr();ho(r,t,1,i)}}),Rb(t,1)}};eb=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var n=xr();ho(e,t,134217728,n)}Rb(t,134217728)}};hM=function(t){if(t.tag===13){var e=La(t),n=Ls(t,e);if(n!==null){var r=xr();ho(n,t,e,r)}Rb(t,e)}};pM=function(){return vt};gM=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};yE=function(t,e,n){switch(e){case"input":if(dE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xy(r);if(!i)throw Error(te(90));HN(r),dE(r,i)}}}break;case"textarea":GN(t,n);break;case"select":e=n.value,e!=null&&xc(t,!!n.multiple,e,!1)}};tM=Db;nM=sl;var pH={usingClientEntryPoint:!1,Events:[Ap,gc,Xy,ZN,eM,Db]},hf={findFiberByHostInstance:Lu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gH={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oM(t),t===null?null:t.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||fH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fm.isDisabled&&fm.supportsFiber)try{qy=fm.inject(gH),Go=fm}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pH;_i.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nb(e))throw Error(te(200));return dH(t,e,null,n)};_i.createRoot=function(t,e){if(!Nb(t))throw Error(te(299));var n=!1,r="",i=$F;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ab(t,1,!1,null,null,n,!1,r,i),t[Fs]=e.current,$h(t.nodeType===8?t.parentNode:t),new Pb(e)};_i.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=oM(e),t=t===null?null:t.stateNode,t};_i.flushSync=function(t){return sl(t)};_i.hydrate=function(t,e,n){if(!s0(e))throw Error(te(200));return a0(null,t,e,!0,n)};_i.hydrateRoot=function(t,e,n){if(!Nb(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=$F;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=LF(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Fs]=e.current,$h(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new o0(e)};_i.render=function(t,e,n){if(!s0(e))throw Error(te(200));return a0(null,t,e,!1,n)};_i.unmountComponentAtNode=function(t){if(!s0(t))throw Error(te(40));return t._reactRootContainer?(sl(function(){a0(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1};_i.unstable_batchedUpdates=Db;_i.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s0(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return a0(t,e,n,!1,r)};_i.version="18.2.0-next-9e3b772b8-20220608";function BF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BF)}catch(t){console.error(t)}}BF(),kp.exports=_i;var UF,Ix=kp.exports;UF=Ix.createRoot,Ix.hydrateRoot;function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function Zo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,XE(t,e)}var is={exports:{}},mH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vH=mH,yH=vH;function zF(){}function KF(){}KF.resetWarningCache=zF;var wH=function(){function t(r,i,o,s,a,u){if(u!==yH){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KF,resetWarningCache:zF};return n.PropTypes=n,n};is.exports=wH();var Tx=is.exports;function hr(){return hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hr.apply(this,arguments)}function hm(t){return t.charAt(0)==="/"}function j_(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function _H(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&hm(t),o=e&&hm(e),s=i||o;if(t&&hm(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var l=0,d=r.length;d>=0;d--){var f=r[d];f==="."?j_(r,d):f===".."?(j_(r,d),l++):l&&(j_(r,d),l--)}if(!s)for(;l--;l)r.unshift("..");s&&r[0]!==""&&(!r[0]||!hm(r[0]))&&r.unshift("");var p=r.join("/");return a&&p.substr(-1)!=="/"&&(p+="/"),p}var SH=!0,W_="Invariant failed";function ru(t,e){if(!t){if(SH)throw new Error(W_);var n=typeof e=="function"?e():e,r=n?W_+": "+n:W_;throw new Error(r)}}function ch(t){return t.charAt(0)==="/"?t:"/"+t}function Dx(t){return t.charAt(0)==="/"?t.substr(1):t}function EH(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function VF(t,e){return EH(t,e)?t.substr(e.length):t}function jF(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function CH(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Ur(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function di(t,e,n,r){var i;typeof t=="string"?(i=CH(t),i.state=e):(i=hr({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=_H(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Mb(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,u,l){if(t!=null){var d=typeof t=="function"?t(s,a):t;typeof d=="string"?typeof u=="function"?u(d,l):l(!0):l(d!==!1)}else l(!0)}var r=[];function i(s){var a=!0;function u(){a&&s.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(l){return l!==u})}}function o(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var WF=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function HF(t,e){e(window.confirm(t))}function bH(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function IH(){return window.navigator.userAgent.indexOf("Trident")===-1}function TH(){return window.navigator.userAgent.indexOf("Firefox")===-1}function DH(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var kx="popstate",xx="hashchange";function Ox(){try{return window.history.state||{}}catch{return{}}}function kH(t){t===void 0&&(t={}),WF||ru(!1);var e=window.history,n=bH(),r=!IH(),i=t,o=i.forceRefresh,s=o===void 0?!1:o,a=i.getUserConfirmation,u=a===void 0?HF:a,l=i.keyLength,d=l===void 0?6:l,f=t.basename?jF(ch(t.basename)):"";function p(W){var K=W||{},oe=K.key,N=K.state,j=window.location,J=j.pathname,L=j.search,V=j.hash,se=J+L+V;return f&&(se=VF(se,f)),di(se,N,oe)}function g(){return Math.random().toString(36).substr(2,d)}var m=Mb();function _(W){hr(X,W),X.length=e.length,m.notifyListeners(X.location,X.action)}function C(W){DH(W)||S(p(W.state))}function w(){S(p(Ox()))}var y=!1;function S(W){if(y)y=!1,_();else{var K="POP";m.confirmTransitionTo(W,K,u,function(oe){oe?_({action:K,location:W}):I(W)})}}function I(W){var K=X.location,oe=O.indexOf(K.key);oe===-1&&(oe=0);var N=O.indexOf(W.key);N===-1&&(N=0);var j=oe-N;j&&(y=!0,Y(j))}var k=p(Ox()),O=[k.key];function A(W){return f+Ur(W)}function F(W,K){var oe="PUSH",N=di(W,K,g(),X.location);m.confirmTransitionTo(N,oe,u,function(j){if(!!j){var J=A(N),L=N.key,V=N.state;if(n)if(e.pushState({key:L,state:V},null,J),s)window.location.href=J;else{var se=O.indexOf(X.location.key),ye=O.slice(0,se+1);ye.push(N.key),O=ye,_({action:oe,location:N})}else window.location.href=J}})}function G(W,K){var oe="REPLACE",N=di(W,K,g(),X.location);m.confirmTransitionTo(N,oe,u,function(j){if(!!j){var J=A(N),L=N.key,V=N.state;if(n)if(e.replaceState({key:L,state:V},null,J),s)window.location.replace(J);else{var se=O.indexOf(X.location.key);se!==-1&&(O[se]=N.key),_({action:oe,location:N})}else window.location.replace(J)}})}function Y(W){e.go(W)}function Q(){Y(-1)}function ie(){Y(1)}var ae=0;function _e(W){ae+=W,ae===1&&W===1?(window.addEventListener(kx,C),r&&window.addEventListener(xx,w)):ae===0&&(window.removeEventListener(kx,C),r&&window.removeEventListener(xx,w))}var De=!1;function Ie(W){W===void 0&&(W=!1);var K=m.setPrompt(W);return De||(_e(1),De=!0),function(){return De&&(De=!1,_e(-1)),K()}}function Ae(W){var K=m.appendListener(W);return _e(1),function(){_e(-1),K()}}var X={length:e.length,action:"POP",location:k,createHref:A,push:F,replace:G,go:Y,goBack:Q,goForward:ie,block:Ie,listen:Ae};return X}var Ax="hashchange",xH={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Dx(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Dx,decodePath:ch},slash:{encodePath:ch,decodePath:ch}};function qF(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function pf(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function OH(t){window.location.hash=t}function H_(t){window.location.replace(qF(window.location.href)+"#"+t)}function AH(t){t===void 0&&(t={}),WF||ru(!1);var e=window.history;TH();var n=t,r=n.getUserConfirmation,i=r===void 0?HF:r,o=n.hashType,s=o===void 0?"slash":o,a=t.basename?jF(ch(t.basename)):"",u=xH[s],l=u.encodePath,d=u.decodePath;function f(){var K=d(pf());return a&&(K=VF(K,a)),di(K)}var p=Mb();function g(K){hr(W,K),W.length=e.length,p.notifyListeners(W.location,W.action)}var m=!1,_=null;function C(K,oe){return K.pathname===oe.pathname&&K.search===oe.search&&K.hash===oe.hash}function w(){var K=pf(),oe=l(K);if(K!==oe)H_(oe);else{var N=f(),j=W.location;if(!m&&C(j,N)||_===Ur(N))return;_=null,y(N)}}function y(K){if(m)m=!1,g();else{var oe="POP";p.confirmTransitionTo(K,oe,i,function(N){N?g({action:oe,location:K}):S(K)})}}function S(K){var oe=W.location,N=A.lastIndexOf(Ur(oe));N===-1&&(N=0);var j=A.lastIndexOf(Ur(K));j===-1&&(j=0);var J=N-j;J&&(m=!0,Q(J))}var I=pf(),k=l(I);I!==k&&H_(k);var O=f(),A=[Ur(O)];function F(K){var oe=document.querySelector("base"),N="";return oe&&oe.getAttribute("href")&&(N=qF(window.location.href)),N+"#"+l(a+Ur(K))}function G(K,oe){var N="PUSH",j=di(K,void 0,void 0,W.location);p.confirmTransitionTo(j,N,i,function(J){if(!!J){var L=Ur(j),V=l(a+L),se=pf()!==V;if(se){_=L,OH(V);var ye=A.lastIndexOf(Ur(W.location)),Re=A.slice(0,ye+1);Re.push(L),A=Re,g({action:N,location:j})}else g()}})}function Y(K,oe){var N="REPLACE",j=di(K,void 0,void 0,W.location);p.confirmTransitionTo(j,N,i,function(J){if(!!J){var L=Ur(j),V=l(a+L),se=pf()!==V;se&&(_=L,H_(V));var ye=A.indexOf(Ur(W.location));ye!==-1&&(A[ye]=L),g({action:N,location:j})}})}function Q(K){e.go(K)}function ie(){Q(-1)}function ae(){Q(1)}var _e=0;function De(K){_e+=K,_e===1&&K===1?window.addEventListener(Ax,w):_e===0&&window.removeEventListener(Ax,w)}var Ie=!1;function Ae(K){K===void 0&&(K=!1);var oe=p.setPrompt(K);return Ie||(De(1),Ie=!0),function(){return Ie&&(Ie=!1,De(-1)),oe()}}function X(K){var oe=p.appendListener(K);return De(1),function(){De(-1),oe()}}var W={length:e.length,action:"POP",location:O,createHref:F,push:G,replace:Y,go:Q,goBack:ie,goForward:ae,block:Ae,listen:X};return W}function Rx(t,e,n){return Math.min(Math.max(t,e),n)}function RH(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,u=a===void 0?6:a,l=Mb();function d(F){hr(A,F),A.length=A.entries.length,l.notifyListeners(A.location,A.action)}function f(){return Math.random().toString(36).substr(2,u)}var p=Rx(s,0,i.length-1),g=i.map(function(F){return typeof F=="string"?di(F,void 0,f()):di(F,void 0,F.key||f())}),m=Ur;function _(F,G){var Y="PUSH",Q=di(F,G,f(),A.location);l.confirmTransitionTo(Q,Y,n,function(ie){if(!!ie){var ae=A.index,_e=ae+1,De=A.entries.slice(0);De.length>_e?De.splice(_e,De.length-_e,Q):De.push(Q),d({action:Y,location:Q,index:_e,entries:De})}})}function C(F,G){var Y="REPLACE",Q=di(F,G,f(),A.location);l.confirmTransitionTo(Q,Y,n,function(ie){!ie||(A.entries[A.index]=Q,d({action:Y,location:Q}))})}function w(F){var G=Rx(A.index+F,0,A.entries.length-1),Y="POP",Q=A.entries[G];l.confirmTransitionTo(Q,Y,n,function(ie){ie?d({action:Y,location:Q,index:G}):d()})}function y(){w(-1)}function S(){w(1)}function I(F){var G=A.index+F;return G>=0&&G<A.entries.length}function k(F){return F===void 0&&(F=!1),l.setPrompt(F)}function O(F){return l.appendListener(F)}var A={length:g.length,action:"POP",location:g[p],index:p,entries:g,createHref:m,push:_,replace:C,go:w,goBack:y,goForward:S,canGo:I,block:k,listen:O};return A}var q_=1073741823,Px=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function PH(){var t="__global_unique_id__";return Px[t]=(Px[t]||0)+1}function NH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function MH(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(o){return o(t,i)})}}}function FH(t){return Array.isArray(t)?t[0]:t}function LH(t,e){var n,r,i="__create-react-context-"+PH()+"__",o=function(a){Zo(u,a);function u(){var d;return d=a.apply(this,arguments)||this,d.emitter=MH(d.props.value),d}var l=u.prototype;return l.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},l.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var p=this.props.value,g=f.value,m;NH(p,g)?m=0:(m=typeof e=="function"?e(p,g):q_,m|=0,m!==0&&this.emitter.set(f.value,m))}},l.render=function(){return this.props.children},u}(we.exports.Component);o.childContextTypes=(n={},n[i]=Tx.object.isRequired,n);var s=function(a){Zo(u,a);function u(){var d;return d=a.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(f,p){var g=d.observedBits|0;(g&p)!==0&&d.setState({value:d.getValue()})},d}var l=u.prototype;return l.componentWillReceiveProps=function(f){var p=f.observedBits;this.observedBits=p==null?q_:p},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?q_:f},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():t},l.render=function(){return FH(this.props.children)(this.state.value)},u}(we.exports.Component);return s.contextTypes=(r={},r[i]=Tx.object,r),{Provider:o,Consumer:s}}var $H=et.createContext||LH,Sd={exports:{}},BH=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Qv=BH;Sd.exports=QF;Sd.exports.parse=Fb;Sd.exports.compile=zH;Sd.exports.tokensToFunction=GF;Sd.exports.tokensToRegExp=YF;var UH=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Fb(t,e){for(var n=[],r=0,i=0,o="",s=e&&e.delimiter||"/",a;(a=UH.exec(t))!=null;){var u=a[0],l=a[1],d=a.index;if(o+=t.slice(i,d),i=d+u.length,l){o+=l[1];continue}var f=t[i],p=a[2],g=a[3],m=a[4],_=a[5],C=a[6],w=a[7];o&&(n.push(o),o="");var y=p!=null&&f!=null&&f!==p,S=C==="+"||C==="*",I=C==="?"||C==="*",k=a[2]||s,O=m||_;n.push({name:g||r++,prefix:p||"",delimiter:k,optional:I,repeat:S,partial:y,asterisk:!!w,pattern:O?jH(O):w?".*":"[^"+lv(k)+"]+?"})}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function zH(t,e){return GF(Fb(t,e),e)}function KH(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function VH(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function GF(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",$b(e)));return function(i,o){for(var s="",a=i||{},u=o||{},l=u.pretty?KH:encodeURIComponent,d=0;d<t.length;d++){var f=t[d];if(typeof f=="string"){s+=f;continue}var p=a[f.name],g;if(p==null)if(f.optional){f.partial&&(s+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(Qv(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(p.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(g=l(p[m]),!n[d].test(g))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(g)+"`");s+=(m===0?f.prefix:f.delimiter)+g}continue}if(g=f.asterisk?VH(p):l(p),!n[d].test(g))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+g+'"');s+=f.prefix+g}return s}}function lv(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function jH(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Lb(t,e){return t.keys=e,t}function $b(t){return t&&t.sensitive?"":"i"}function WH(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Lb(t,e)}function HH(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(QF(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",$b(n));return Lb(o,e)}function qH(t,e,n){return YF(Fb(t,n),e,n)}function YF(t,e,n){Qv(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=lv(a);else{var u=lv(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+u+l+")*"),a.optional?a.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",o+=l}}var d=lv(n.delimiter||"/"),f=o.slice(-d.length)===d;return r||(o=(f?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),i?o+="$":o+=r&&f?"":"(?="+d+"|$)",Lb(new RegExp("^"+o,$b(n)),e)}function QF(t,e,n){return Qv(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?WH(t,e):Qv(t)?HH(t,e,n):qH(t,e,n)}var GH=Sd.exports,St={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mn=typeof Symbol=="function"&&Symbol.for,Bb=Mn?Symbol.for("react.element"):60103,Ub=Mn?Symbol.for("react.portal"):60106,u0=Mn?Symbol.for("react.fragment"):60107,l0=Mn?Symbol.for("react.strict_mode"):60108,c0=Mn?Symbol.for("react.profiler"):60114,d0=Mn?Symbol.for("react.provider"):60109,f0=Mn?Symbol.for("react.context"):60110,zb=Mn?Symbol.for("react.async_mode"):60111,h0=Mn?Symbol.for("react.concurrent_mode"):60111,p0=Mn?Symbol.for("react.forward_ref"):60112,g0=Mn?Symbol.for("react.suspense"):60113,YH=Mn?Symbol.for("react.suspense_list"):60120,m0=Mn?Symbol.for("react.memo"):60115,v0=Mn?Symbol.for("react.lazy"):60116,QH=Mn?Symbol.for("react.block"):60121,XH=Mn?Symbol.for("react.fundamental"):60117,JH=Mn?Symbol.for("react.responder"):60118,ZH=Mn?Symbol.for("react.scope"):60119;function Ei(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bb:switch(t=t.type,t){case zb:case h0:case u0:case c0:case l0:case g0:return t;default:switch(t=t&&t.$$typeof,t){case f0:case p0:case v0:case m0:case d0:return t;default:return e}}case Ub:return e}}}function XF(t){return Ei(t)===h0}St.AsyncMode=zb;St.ConcurrentMode=h0;St.ContextConsumer=f0;St.ContextProvider=d0;St.Element=Bb;St.ForwardRef=p0;St.Fragment=u0;St.Lazy=v0;St.Memo=m0;St.Portal=Ub;St.Profiler=c0;St.StrictMode=l0;St.Suspense=g0;St.isAsyncMode=function(t){return XF(t)||Ei(t)===zb};St.isConcurrentMode=XF;St.isContextConsumer=function(t){return Ei(t)===f0};St.isContextProvider=function(t){return Ei(t)===d0};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bb};St.isForwardRef=function(t){return Ei(t)===p0};St.isFragment=function(t){return Ei(t)===u0};St.isLazy=function(t){return Ei(t)===v0};St.isMemo=function(t){return Ei(t)===m0};St.isPortal=function(t){return Ei(t)===Ub};St.isProfiler=function(t){return Ei(t)===c0};St.isStrictMode=function(t){return Ei(t)===l0};St.isSuspense=function(t){return Ei(t)===g0};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u0||t===h0||t===c0||t===l0||t===g0||t===YH||typeof t=="object"&&t!==null&&(t.$$typeof===v0||t.$$typeof===m0||t.$$typeof===d0||t.$$typeof===f0||t.$$typeof===p0||t.$$typeof===XH||t.$$typeof===JH||t.$$typeof===ZH||t.$$typeof===QH)};St.typeOf=Ei;function Pp(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JF={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=typeof Symbol=="function"&&Symbol.for,Kb=Fn?Symbol.for("react.element"):60103,Vb=Fn?Symbol.for("react.portal"):60106,y0=Fn?Symbol.for("react.fragment"):60107,w0=Fn?Symbol.for("react.strict_mode"):60108,_0=Fn?Symbol.for("react.profiler"):60114,S0=Fn?Symbol.for("react.provider"):60109,E0=Fn?Symbol.for("react.context"):60110,jb=Fn?Symbol.for("react.async_mode"):60111,C0=Fn?Symbol.for("react.concurrent_mode"):60111,b0=Fn?Symbol.for("react.forward_ref"):60112,I0=Fn?Symbol.for("react.suspense"):60113,e4=Fn?Symbol.for("react.suspense_list"):60120,T0=Fn?Symbol.for("react.memo"):60115,D0=Fn?Symbol.for("react.lazy"):60116,t4=Fn?Symbol.for("react.block"):60121,n4=Fn?Symbol.for("react.fundamental"):60117,r4=Fn?Symbol.for("react.responder"):60118,i4=Fn?Symbol.for("react.scope"):60119;function Ci(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Kb:switch(t=t.type,t){case jb:case C0:case y0:case _0:case w0:case I0:return t;default:switch(t=t&&t.$$typeof,t){case E0:case b0:case D0:case T0:case S0:return t;default:return e}}case Vb:return e}}}function ZF(t){return Ci(t)===C0}yt.AsyncMode=jb;yt.ConcurrentMode=C0;yt.ContextConsumer=E0;yt.ContextProvider=S0;yt.Element=Kb;yt.ForwardRef=b0;yt.Fragment=y0;yt.Lazy=D0;yt.Memo=T0;yt.Portal=Vb;yt.Profiler=_0;yt.StrictMode=w0;yt.Suspense=I0;yt.isAsyncMode=function(t){return ZF(t)||Ci(t)===jb};yt.isConcurrentMode=ZF;yt.isContextConsumer=function(t){return Ci(t)===E0};yt.isContextProvider=function(t){return Ci(t)===S0};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kb};yt.isForwardRef=function(t){return Ci(t)===b0};yt.isFragment=function(t){return Ci(t)===y0};yt.isLazy=function(t){return Ci(t)===D0};yt.isMemo=function(t){return Ci(t)===T0};yt.isPortal=function(t){return Ci(t)===Vb};yt.isProfiler=function(t){return Ci(t)===_0};yt.isStrictMode=function(t){return Ci(t)===w0};yt.isSuspense=function(t){return Ci(t)===I0};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===y0||t===C0||t===_0||t===w0||t===I0||t===e4||typeof t=="object"&&t!==null&&(t.$$typeof===D0||t.$$typeof===T0||t.$$typeof===S0||t.$$typeof===E0||t.$$typeof===b0||t.$$typeof===n4||t.$$typeof===r4||t.$$typeof===i4||t.$$typeof===t4)};yt.typeOf=Ci;JF.exports=yt;var Wb=JF.exports,o4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hb={};Hb[Wb.ForwardRef]=a4;Hb[Wb.Memo]=eL;function Nx(t){return Wb.isMemo(t)?eL:Hb[t.$$typeof]||o4}var u4=Object.defineProperty,l4=Object.getOwnPropertyNames,Mx=Object.getOwnPropertySymbols,c4=Object.getOwnPropertyDescriptor,d4=Object.getPrototypeOf,Fx=Object.prototype;function tL(t,e,n){if(typeof e!="string"){if(Fx){var r=d4(e);r&&r!==Fx&&tL(t,r,n)}var i=l4(e);Mx&&(i=i.concat(Mx(e)));for(var o=Nx(t),s=Nx(e),a=0;a<i.length;++a){var u=i[a];if(!s4[u]&&!(n&&n[u])&&!(s&&s[u])&&!(o&&o[u])){var l=c4(e,u);try{u4(t,u,l)}catch{}}}}return t}var f4=tL,h4=f4,nL=function(e){var n=$H();return n.displayName=e,n},p4=nL("Router-History"),al=nL("Router"),k0=function(t){Zo(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return et.createElement(al.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},et.createElement(p4.Provider,{children:this.props.children||null,value:this.props.history}))},e}(et.Component);et.Component;et.Component;var Lx={},g4=1e4,$x=0;function m4(t,e){var n=""+e.end+e.strict+e.sensitive,r=Lx[n]||(Lx[n]={});if(r[t])return r[t];var i=[],o=GH(t,i,e),s={regexp:o,keys:i};return $x<g4&&(r[t]=s,$x++),s}function qb(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=i===void 0?!1:i,s=n.strict,a=s===void 0?!1:s,u=n.sensitive,l=u===void 0?!1:u,d=[].concat(r);return d.reduce(function(f,p){if(!p&&p!=="")return null;if(f)return f;var g=m4(p,{end:o,strict:a,sensitive:l}),m=g.regexp,_=g.keys,C=m.exec(t);if(!C)return null;var w=C[0],y=C.slice(1),S=t===w;return o&&!S?null:{path:p,url:p==="/"&&w===""?"/":w,isExact:S,params:_.reduce(function(I,k,O){return I[k.name]=y[O],I},{})}},null)}function v4(t){return et.Children.count(t)===0}var pm=function(t){Zo(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return et.createElement(al.Consumer,null,function(o){o||ru(!1);var s=i.props.location||o.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?qb(s.pathname,i.props):o.match,u=hr({},o,{location:s,match:a}),l=i.props,d=l.children,f=l.component,p=l.render;return Array.isArray(d)&&v4(d)&&(d=null),et.createElement(al.Provider,{value:u},u.match?d?typeof d=="function"?d(u):d:f?et.createElement(f,u):p?p(u):null:typeof d=="function"?d(u):null)})},e}(et.Component);function Gb(t){return t.charAt(0)==="/"?t:"/"+t}function y4(t,e){return t?hr({},e,{pathname:Gb(t)+e.pathname}):e}function w4(t,e){if(!t)return e;var n=Gb(t);return e.pathname.indexOf(n)!==0?e:hr({},e,{pathname:e.pathname.substr(n.length)})}function Bx(t){return typeof t=="string"?t:Ur(t)}function G_(t){return function(){ru(!1)}}function Ux(){}et.Component;var _4=function(t){Zo(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return et.createElement(al.Consumer,null,function(o){o||ru(!1);var s=i.props.location||o.location,a,u;return et.Children.forEach(i.props.children,function(l){if(u==null&&et.isValidElement(l)){a=l;var d=l.props.path||l.props.from;u=d?qb(s.pathname,hr({},l.props,{path:d})):o.match}}),u?et.cloneElement(a,{location:s,computedMatch:u}):null})},e}(et.Component);function S4(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var o=i.wrappedComponentRef,s=Pp(i,["wrappedComponentRef"]);return et.createElement(al.Consumer,null,function(a){return a||ru(!1),et.createElement(t,hr({},s,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,h4(n,t)}et.useContext;et.Component;var E4=function(t){Zo(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.history=AH(r.props),r}var n=e.prototype;return n.render=function(){return et.createElement(k0,{history:this.history,children:this.props.children})},e}(et.Component),JE=function(e,n){return typeof e=="function"?e(n):e},ZE=function(e,n){return typeof e=="string"?di(e,null,null,n):e},Yb=function(e){return e},nd=et.forwardRef;typeof nd=="undefined"&&(nd=Yb);function C4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var b4=nd(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Pp(t,["innerRef","navigate","onClick"]),s=o.target,a=hr({},o,{onClick:function(l){try{i&&i(l)}catch(d){throw l.preventDefault(),d}!l.defaultPrevented&&l.button===0&&(!s||s==="_self")&&!C4(l)&&(l.preventDefault(),r())}});return Yb!==nd?a.ref=e||n:a.ref=n,et.createElement("a",a)}),I4=nd(function(t,e){var n=t.component,r=n===void 0?b4:n,i=t.replace,o=t.to,s=t.innerRef,a=Pp(t,["component","replace","to","innerRef"]);return et.createElement(al.Consumer,null,function(u){u||ru(!1);var l=u.history,d=ZE(JE(o,u.location),u.location),f=d?l.createHref(d):"",p=hr({},a,{href:f,navigate:function(){var m=JE(o,u.location),_=Ur(u.location)===Ur(ZE(m)),C=i||_?l.replace:l.push;C(m)}});return Yb!==nd?p.ref=e||s:p.innerRef=s,et.createElement(r,p)})}),rL=function(e){return e},Xv=et.forwardRef;typeof Xv=="undefined"&&(Xv=rL);function T4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}Xv(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,o=i===void 0?"active":i,s=t.activeStyle,a=t.className,u=t.exact,l=t.isActive,d=t.location,f=t.sensitive,p=t.strict,g=t.style,m=t.to,_=t.innerRef,C=Pp(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return et.createElement(al.Consumer,null,function(w){w||ru(!1);var y=d||w.location,S=ZE(JE(m,y),y),I=S.pathname,k=I&&I.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=k?qb(y.pathname,{path:k,exact:u,sensitive:f,strict:p}):null,A=!!(l?l(O,y):O),F=typeof a=="function"?a(A):a,G=typeof g=="function"?g(A):g;A&&(F=T4(F,o),G=hr({},G,s));var Y=hr({"aria-current":A&&r||null,className:F,style:G,to:S},C);return rL!==Xv?Y.ref=e||_:Y.innerRef=_,et.createElement(I4,Y)})});const Hs=et.createContext({appActions:{},deviceInfo:{},userInfo:{}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|l>>6,g=l&63;u||(g=64,s||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw Error();const p=o<<2|a>>4;if(r.push(p),l!==64){const g=a<<4&240|l>>2;if(r.push(g),f!==64){const m=l<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},k4=function(t){const e=iL(t);return oL.encodeByteArray(e,!0)},Jv=function(t){return k4(t).replace(/\./g,"")},x4=function(t){try{return oL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!O4(n)||(t[n]=Zv(t[n],e[n]));return t}function O4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Jv(JSON.stringify(n)),Jv(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sL(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Qb(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P4(){return typeof self=="object"&&self.self===self}function Xb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N4(){return Nt().indexOf("Electron/")>=0}function Jb(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M4(){return Nt().indexOf("MSAppHost/")>=0}function F4(){return!Qb()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qh(){return typeof indexedDB=="object"}function L4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$4,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?B4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new lr(i,a,r)}}function B4(t,e){return t.replace(U4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function z4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ey(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Kx(o)&&Kx(s)){if(!ey(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aL(t,e){const n=new K4(t,e);return n.subscribe.bind(n)}class K4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Y_),i.error===void 0&&(i.error=Y_),i.complete===void 0&&(i.complete=Y_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Y_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H4(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xu){return this.instances.has(e)}getOptions(e=xu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xu){return this.component?this.component.multipleInstances?e:xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W4(t){return t===xu?void 0:t}function H4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=[];var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const uL={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},G4=rt.INFO,Y4={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Q4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O0{constructor(e){this.name=e,this._logLevel=G4,this._logHandler=Q4,this._userLogHandler=null,Zb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}function X4(t){Zb.forEach(e=>{e.setLogLevel(t)})}function J4(t,e){for(const n of Zb){let r=null;e&&e.level&&(r=uL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const a=s.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");o>=(r!=null?r:i.logLevel)&&t({level:rt[o].toLowerCase(),message:a,args:s,type:i.name})}}}const Z4=(t,e)=>e.some(n=>t instanceof n);let Vx,jx;function e6(){return Vx||(Vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t6(){return jx||(jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lL=new WeakMap,e1=new WeakMap,cL=new WeakMap,Q_=new WeakMap,eI=new WeakMap;function n6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ba(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lL.set(n,t)}).catch(()=>{}),eI.set(e,t),e}function r6(t){if(e1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});e1.set(t,e)}let t1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i6(t){t1=t(t1)}function o6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(X_(this),e,...n);return cL.set(r,e.sort?e.sort():[e]),Ba(r)}:t6().includes(t)?function(...e){return t.apply(X_(this),e),Ba(lL.get(this))}:function(...e){return Ba(t.apply(X_(this),e))}}function s6(t){return typeof t=="function"?o6(t):(t instanceof IDBTransaction&&r6(t),Z4(t,e6())?new Proxy(t,t1):t)}function Ba(t){if(t instanceof IDBRequest)return n6(t);if(Q_.has(t))return Q_.get(t);const e=s6(t);return e!==t&&(Q_.set(t,e),eI.set(e,t)),e}const X_=t=>eI.get(t);function a6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ba(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ba(s.result),u.oldVersion,u.newVersion,Ba(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const u6=["get","getKey","getAll","getAllKeys","count"],l6=["put","add","delete","clear"],J_=new Map;function Wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J_.get(e))return J_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=l6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u6.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return J_.set(e,o),o}i6(t=>({...t,get:(e,n,r)=>Wx(e,n)||t.get(e,n,r),has:(e,n)=>!!Wx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n1="@firebase/app",Hx="0.7.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new O0("@firebase/app"),f6="@firebase/app-compat",h6="@firebase/analytics-compat",p6="@firebase/analytics",g6="@firebase/app-check-compat",m6="@firebase/app-check",v6="@firebase/auth",y6="@firebase/auth-compat",w6="@firebase/database",_6="@firebase/database-compat",S6="@firebase/functions",E6="@firebase/functions-compat",C6="@firebase/installations",b6="@firebase/installations-compat",I6="@firebase/messaging",T6="@firebase/messaging-compat",D6="@firebase/performance",k6="@firebase/performance-compat",x6="@firebase/remote-config",O6="@firebase/remote-config-compat",A6="@firebase/storage",R6="@firebase/storage-compat",P6="@firebase/firestore",N6="@firebase/firestore-compat",M6="firebase",F6="9.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="[DEFAULT]",L6={[n1]:"fire-core",[f6]:"fire-core-compat",[p6]:"fire-analytics",[h6]:"fire-analytics-compat",[m6]:"fire-app-check",[g6]:"fire-app-check-compat",[v6]:"fire-auth",[y6]:"fire-auth-compat",[w6]:"fire-rtdb",[_6]:"fire-rtdb-compat",[S6]:"fire-fn",[E6]:"fire-fn-compat",[C6]:"fire-iid",[b6]:"fire-iid-compat",[I6]:"fire-fcm",[T6]:"fire-fcm-compat",[D6]:"fire-perf",[k6]:"fire-perf-compat",[x6]:"fire-rc",[O6]:"fire-rc-compat",[A6]:"fire-gcs",[R6]:"fire-gcs-compat",[P6]:"fire-fst",[N6]:"fire-fst-compat","fire-js":"fire-js",[M6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Map,Gh=new Map;function ty(t,e){try{t.container.addComponent(e)}catch(n){ul.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dL(t,e){t.container.addOrOverwriteComponent(e)}function Bs(t){const e=t.name;if(Gh.has(e))return ul.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(const n of ja.values())ty(n,t);return!0}function Np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $6(t,e,n=ll){Np(t,e).clearInstance(n)}function B6(){Gh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wa=new Tl("app","Firebase",U6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=F6;function fL(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:ll,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Wa.create("bad-app-name",{appName:String(r)});const i=ja.get(r);if(i){if(ey(t,i.options)&&ey(n,i.config))return i;throw Wa.create("duplicate-app",{appName:r})}const o=new q4(r);for(const a of Gh.values())o.addComponent(a);const s=new z6(t,n,o);return ja.set(r,s),s}function tI(t=ll){const e=ja.get(t);if(!e)throw Wa.create("no-app",{appName:t});return e}function K6(){return Array.from(ja.values())}async function hL(t){const e=t.name;ja.has(e)&&(ja.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function zi(t,e,n){var r;let i=(r=L6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ul.warn(a.join(" "));return}Bs(new vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function pL(t,e){if(t!==null&&typeof t!="function")throw Wa.create("invalid-log-argument");J4(t,e)}function gL(t){X4(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="firebase-heartbeat-database",j6=1,Yh="firebase-heartbeat-store";let Z_=null;function mL(){return Z_||(Z_=a6(V6,j6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yh)}}}).catch(t=>{throw Wa.create("idb-open",{originalErrorMessage:t.message})})),Z_}async function W6(t){var e;try{return(await mL()).transaction(Yh).objectStore(Yh).get(vL(t))}catch(n){if(n instanceof lr)ul.warn(n.message);else{const r=Wa.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});ul.warn(r.message)}}}async function qx(t,e){var n;try{const i=(await mL()).transaction(Yh,"readwrite");return await i.objectStore(Yh).put(e,vL(t)),i.done}catch(r){if(r instanceof lr)ul.warn(r.message);else{const i=Wa.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});ul.warn(i.message)}}}function vL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=1024,q6=30*24*60*60*1e3;class G6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gx();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=q6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gx(),{heartbeatsToSend:n,unsentEntries:r}=Y6(this._heartbeatsCache.heartbeats),i=Jv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Gx(){return new Date().toISOString().substring(0,10)}function Y6(t,e=H6){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Yx(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qh()?L4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await W6(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Yx(t){return Jv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){Bs(new vo("platform-logger",e=>new c6(e),"PRIVATE")),Bs(new vo("heartbeat",e=>new G6(e),"PRIVATE")),zi(n1,Hx,t),zi(n1,Hx,"esm2017"),zi("fire-js","")}X6("");var J6=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:iu,_DEFAULT_ENTRY_NAME:ll,_addComponent:ty,_addOrOverwriteComponent:dL,_apps:ja,_clearComponents:B6,_components:Gh,_getProvider:Np,_registerComponent:Bs,_removeServiceInstance:$6,deleteApp:hL,getApp:tI,getApps:K6,initializeApp:fL,onLog:pL,registerVersion:zi,setLogLevel:gL,FirebaseError:lr},Symbol.toStringTag,{value:"Module"}));function nI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const gf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function yL(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eq=Z6,tq=yL,wL=new Tl("auth","Firebase",yL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new O0("@firebase/auth");function cv(t,...e){Qx.logLevel<=rt.ERROR&&Qx.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw rI(t,...e)}function Xn(t,...e){return rI(t,...e)}function _L(t,e,n){const r=Object.assign(Object.assign({},tq()),{[e]:n});return new Tl("auth","Firebase",r).create(e,{appName:t.name})}function Cd(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(t,"argument-error"),_L(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wL.create(t,...e)}function re(t,e,...n){if(!t)throw rI(e,...n)}function jo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cv(e),new Error(e)}function yo(t,e){t||jo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;function fi(t){yo(t instanceof Function,"Expected a class definition");let e=Xx.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xx.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t,e){const n=Np(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ey(o,e!=null?e:{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}function rq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iI(){return Jx()==="http:"||Jx()==="https:"}function Jx(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||Xb()||"connection"in navigator)?navigator.onLine:!0}function oq(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=sL()||x0()}get(){return iq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=new Mp(3e4,6e4);function bn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ln(t,e,n,r,i={}){return EL(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ed(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),SL.fetch()(CL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function EL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sq),e);try{const i=new uq(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw qf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw qf(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _L(t,d,l);Rn(t,d)}}catch(i){if(i instanceof lr)throw i;Rn(t,"network-request-failed")}}async function qs(t,e,n,r,i={}){const o=await Ln(t,e,n,r,i);return"mfaPendingCredential"in o&&Rn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function CL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?oI(t.config,i):`${t.config.apiScheme}://${i}`}class uq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),aq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lq(t,e){return Ln(t,"POST","/v1/accounts:delete",e)}async function cq(t,e){return Ln(t,"POST","/v1/accounts:update",e)}async function dq(t,e){return Ln(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fq(t,e=!1){const n=Se(t),r=await n.getIdToken(e),i=A0(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:dh(eS(i.auth_time)),issuedAtTime:dh(eS(i.iat)),expirationTime:dh(eS(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function eS(t){return Number(t)*1e3}function A0(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return cv("JWT malformed, contained fewer than 3 sections"),null;try{const o=x4(r);return o?JSON.parse(o):(cv("Failed to decode base64 JWT payload"),null)}catch(o){return cv("Caught error parsing JWT payload as JSON",(e=o)===null||e===void 0?void 0:e.toString()),null}}function hq(t){const e=A0(t);return re(e,"internal-error"),re(typeof e.exp!="undefined","internal-error"),re(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&pq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Us(t,dq(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yq(o.providerUserInfo):[],a=vq(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=u?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bL(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function mq(t){const e=Se(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yq(t){return t.map(e=>{var{providerId:n}=e,r=nI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e){const n=await EL(t,{},async()=>{const r=Ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=CL(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SL.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken!="undefined","internal-error"),re(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):hq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await wq(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Jh;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jh,this.toJSON())}_performRefresh(){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,e){re(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Yu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bL(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Us(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fq(this,e)}reload(){return mq(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Yu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Us(this,lq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:I,isAnonymous:k,providerData:O,stsTokenManager:A}=n;re(S&&A,e,"internal-error");const F=Jh.fromJSON(this.name,A);re(typeof S=="string",e,"internal-error"),la(f,e.name),la(p,e.name),re(typeof I=="boolean",e,"internal-error"),re(typeof k=="boolean",e,"internal-error"),la(g,e.name),la(m,e.name),la(_,e.name),la(C,e.name),la(w,e.name),la(y,e.name);const G=new Yu({uid:S,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:k,photoURL:m,phoneNumber:g,tenantId:_,stsTokenManager:F,createdAt:w,lastLoginAt:y});return O&&Array.isArray(O)&&(G.providerData=O.map(Y=>Object.assign({},Y))),C&&(G._redirectEventId=C),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jh;i.updateFromServerResponse(n);const o=new Yu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IL.type="NONE";const rd=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Mc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Qu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mc(fi(rd),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||fi(rd);const s=Qu(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const d=await l._get(s);if(d){const f=Yu._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Mc(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new Mc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xL(e))return"Blackberry";if(OL(e))return"Webos";if(sI(e))return"Safari";if((e.includes("chrome/")||DL(e))&&!e.includes("edge/"))return"Chrome";if(Fp(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TL(t=Nt()){return/firefox\//i.test(t)}function sI(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DL(t=Nt()){return/crios\//i.test(t)}function kL(t=Nt()){return/iemobile/i.test(t)}function Fp(t=Nt()){return/android/i.test(t)}function xL(t=Nt()){return/blackberry/i.test(t)}function OL(t=Nt()){return/webos/i.test(t)}function bd(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _q(t=Nt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Sq(t=Nt()){var e;return bd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Eq(){return Jb()&&document.documentMode===10}function AL(t=Nt()){return bd(t)||Fp(t)||OL(t)||xL(t)||/windows phone/i.test(t)||kL(t)}function Cq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e=[]){let n;switch(t){case"Browser":n=Zx(Nt());break;case"Worker":n=`${Zx(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eO(this),this.idTokenSubscription=new eO(this),this.beforeStateQueue=new bq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wL,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Mc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u==null?void 0:u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Xh(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Se(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Mc.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return re(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Pn(t){return Se(t)}class eO{constructor(e){this.auth=e,this.observer=null,this.addObserver=aL(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tq(t,e,n){const r=Pn(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=PL(e),{host:s,port:a}=Dq(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||kq()}function PL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dq(t){const e=PL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tO(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:tO(s)}}}function tO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jo("not implemented")}_getIdTokenResponse(e){return jo("not implemented")}_linkToIdToken(e,n){return jo("not implemented")}_getReauthenticationResolver(e){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return Ln(t,"POST","/v1/accounts:resetPassword",bn(t,e))}async function ML(t,e){return Ln(t,"POST","/v1/accounts:update",e)}async function xq(t,e){return Ln(t,"POST","/v1/accounts:update",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){return qs(t,"POST","/v1/accounts:signInWithPassword",bn(t,e))}async function R0(t,e){return Ln(t,"POST","/v1/accounts:sendOobCode",bn(t,e))}async function Aq(t,e){return R0(t,e)}async function Rq(t,e){return R0(t,e)}async function Pq(t,e){return R0(t,e)}async function Nq(t,e){return R0(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mq(t,e){return qs(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,e))}async function Fq(t,e){return qs(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends Id{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Oq(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Mq(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return ML(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Fq(e,{idToken:n,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return qs(t,"POST","/v1/accounts:signInWithIdp",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq="http://localhost";class es extends Id{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nI(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,As(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:Lq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ed(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e){return Ln(t,"POST","/v1/accounts:sendVerificationCode",bn(t,e))}async function Bq(t,e){return qs(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,e))}async function Uq(t,e){const n=await qs(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,e));if(n.temporaryProof)throw qf(t,"account-exists-with-different-credential",n);return n}const zq={USER_NOT_FOUND:"user-not-found"};async function Kq(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return qs(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,n),zq)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Id{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Xu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Xu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Bq(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Uq(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Kq(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Xu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jq(t){const e=Ec(Hf(t)).link,n=e?Ec(Hf(e)).deep_link_id:null,r=Ec(Hf(t)).deep_link_id;return(r?Ec(Hf(r)).link:null)||r||n||e||t}class P0{constructor(e){var n,r,i,o,s,a;const u=Ec(Hf(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=Vq((i=u.mode)!==null&&i!==void 0?i:null);re(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jq(e);try{return new P0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.providerId=ou.PROVIDER_ID}static credential(e,n){return Zh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=P0.parseLink(n);return re(r,"argument-error"),Zh._fromEmailAndCode(e,r.code,r.tenantId)}}ou.PROVIDER_ID="password";ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fc extends Td{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return re("providerId"in n&&"signInMethod"in n,"argument-error"),es._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return re(e.idToken||e.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Fc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Fc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=e;if(!r&&!i&&!n&&!o||!a)return null;try{return new Fc(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Td{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Td{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.GITHUB_SIGN_IN_METHOD="github.com";zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq="http://localhost";class id extends Id{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,As(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new id(r,o)}static _create(e,n){return new id(e,n)}buildRequest(){return{requestUri:Wq,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="saml.";class ny extends Gs{constructor(e){re(e.startsWith(Hq),"argument-error"),super(e)}static credentialFromResult(e){return ny.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ny.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=id.fromJSON(e);return re(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return id._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Td{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return qs(t,"POST","/v1/accounts:signUp",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Yu._fromIdTokenResponse(e,r,i),s=nO(r);return new ji({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nO(r);return new ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t){var e;const n=Pn(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ji({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await FL(n,{returnSecureToken:!0}),i=await ji._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends lr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ry.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ry(e,n,r,i)}}function LL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ry._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e){const n=Se(t);await N0(!0,n,e);const{providerUserInfo:r}=await cq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=$L(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function aI(t,e,n=!1){const r=await Us(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}async function N0(t,e,n){await Xh(e);const r=$L(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";re(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e,n=!1){var r;const{auth:i}=t,o="reauthenticate";try{const s=await Us(t,LL(i,o,e,t),n);re(s.idToken,i,"internal-error");const a=A0(s.idToken);re(a,i,"internal-error");const{sub:u}=a;return re(t.uid===u,i,"user-mismatch"),ji._forOperation(t,o,s)}catch(s){throw((r=s)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Rn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e,n=!1){const r="signIn",i=await LL(t,r,e),o=await ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function M0(t,e){return UL(Pn(t),e)}async function zL(t,e){const n=Se(t);return await N0(!1,n,e.providerId),aI(n,e)}async function KL(t,e){return BL(Se(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e){return qs(t,"POST","/v1/accounts:signInWithCustomToken",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e){const n=Pn(t),r=await Yq(n,{token:e,returnSecureToken:!0}),i=await ji._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?uI._fromServerResponse(e,n):Rn(e,"internal-error")}}class uI extends F0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new uI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e,n){var r;re(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),re(typeof n.dynamicLinkDomain=="undefined"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e,n){const r=Se(t),i={requestType:"PASSWORD_RESET",email:e};n&&L0(r,i,n),await Rq(r,i)}async function Jq(t,e,n){await NL(Se(t),{oobCode:e,newPassword:n})}async function Zq(t,e){await xq(Se(t),{oobCode:e})}async function VL(t,e){const n=Se(t),r=await NL(n,{oobCode:e}),i=r.requestType;switch(re(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(r.mfaInfo,n,"internal-error");default:re(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=F0._fromServerResponse(Pn(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function e5(t,e){const{data:n}=await VL(Se(t),e);return n.email}async function jL(t,e,n){const r=Pn(t),i=await FL(r,{returnSecureToken:!0,email:e,password:n}),o=await ji._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function WL(t,e,n){return M0(Se(t),ou.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e,n){const r=Se(t),i={requestType:"EMAIL_SIGNIN",email:e};re(n.handleCodeInApp,r,"argument-error"),n&&L0(r,i,n),await Pq(r,i)}function n5(t,e){const n=P0.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function r5(t,e,n){const r=Se(t),i=ou.credentialWithLink(e,n||Qh());return re(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),M0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){return Ln(t,"POST","/v1/accounts:createAuthUri",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){const n=iI()?Qh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await i5(Se(t),r);return i||[]}async function s5(t,e){const n=Se(t),r=await t.getIdToken(),i={requestType:"VERIFY_EMAIL",idToken:r};e&&L0(n.auth,i,e);const{email:o}=await Aq(n.auth,i);o!==t.email&&await t.reload()}async function a5(t,e,n){const r=Se(t),i=await t.getIdToken(),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:e};n&&L0(r.auth,o,n);const{email:s}=await Nq(r.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){return Ln(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Se(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Us(r,u5(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function l5(t,e){return qL(Se(t),e,null)}function c5(t,e){return qL(Se(t),null,e)}async function qL(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Us(t,ML(r,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t==null?void 0:t.idToken)){const s=(n=(e=A0(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new Lc(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new f5(o,i);case"github.com":return new h5(o,i);case"google.com":return new p5(o,i);case"twitter.com":return new g5(o,i,t.screenName||null);case"custom":case"anonymous":return new Lc(o,null);default:return new Lc(o,r,i)}}class Lc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class GL extends Lc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class f5 extends Lc{constructor(e,n){super(e,"facebook.com",n)}}class h5 extends GL{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class p5 extends Lc{constructor(e,n){super(e,"google.com",n)}}class g5 extends GL{constructor(e,n,r){super(e,"twitter.com",n,r)}}function m5(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:d5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e){return Se(t).setPersistence(e)}function y5(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}class Uu{constructor(e,n){this.type=e,this.credential=n}static _fromIdtoken(e){return new Uu("enroll",e)}static _fromMfaPendingCredential(e){return new Uu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Uu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Uu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Pn(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(a=>F0._fromServerResponse(r,a));re(i.mfaPendingCredential,r,"internal-error");const s=Uu._fromMfaPendingCredential(i.mfaPendingCredential);return new lI(s,o,async a=>{const u=await a._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const d=await ji._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return re(n.user,r,"internal-error"),ji._forOperation(n.user,n.operationType,l);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function w5(t,e){var n;const r=Se(t),i=e;return re(e.customData.operationType,r,"argument-error"),re((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),lI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){return Ln(t,"POST","/v2/accounts/mfaEnrollment:start",bn(t,e))}function S5(t,e){return Ln(t,"POST","/v2/accounts/mfaEnrollment:finalize",bn(t,e))}function E5(t,e){return Ln(t,"POST","/v2/accounts/mfaEnrollment:withdraw",bn(t,e))}class cI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>F0._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new cI(e)}async getSession(){return Uu._fromIdtoken(await this.user.getIdToken())}async enroll(e,n){const r=e,i=await this.getSession(),o=await Us(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){var n;const r=typeof e=="string"?e:e.uid,i=await this.user.getIdToken(),o=await Us(this.user,E5(this.user.auth,{idToken:i,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==r),await this.user._updateTokensIfNecessary(o);try{await this.user.reload()}catch(s){if(((n=s)===null||n===void 0?void 0:n.code)!=="auth/user-token-expired")throw s}}}const tS=new WeakMap;function C5(t){const e=Se(t);return tS.has(e)||tS.set(e,cI._fromUser(e)),tS.get(e)}const iy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(iy,"1"),this.storage.removeItem(iy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){const t=Nt();return sI(t)||bd(t)}const I5=1e3,T5=10;class QL extends YL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=b5()&&Cq(),this.fallbackToPolling=AL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Eq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,T5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QL.type="LOCAL";const Lp=QL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL extends YL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XL.type="SESSION";const Ha=XL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async l=>l(n.origin,o)),u=await D5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const l=$p("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function x5(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof _n().WorkerGlobalScope!="undefined"&&typeof _n().importScripts=="function"}async function O5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R5(){return dI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="firebaseLocalStorageDb",P5=1,oy="firebaseLocalStorage",ZL="fbase_key";class Bp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function B0(t,e){return t.transaction([oy],e?"readwrite":"readonly").objectStore(oy)}function N5(){const t=indexedDB.deleteDatabase(JL);return new Bp(t).toPromise()}function r1(){const t=indexedDB.open(JL,P5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oy,{keyPath:ZL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oy)?e(r):(r.close(),await N5(),e(await r1()))})})}async function rO(t,e,n){const r=B0(t,!0).put({[ZL]:e,value:n});return new Bp(r).toPromise()}async function M5(t,e){const n=B0(t,!1).get(e),r=await new Bp(n).toPromise();return r===void 0?null:r.value}function iO(t,e){const n=B0(t,!0).delete(e);return new Bp(n).toPromise()}const F5=800,L5=3;class e${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$0._getInstance(R5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await O5(),!this.activeServiceWorker)return;this.sender=new k5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r1();return await rO(e,iy,"1"),await iO(e,iy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=B0(i,!1).getAll();return new Bp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e$.type="LOCAL";const od=e$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e){return Ln(t,"POST","/v2/accounts/mfaSignIn:start",bn(t,e))}function B5(t,e){return Ln(t,"POST","/v2/accounts/mfaSignIn:finalize",bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t){return(await Ln(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function t$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",z5().appendChild(r)})}function n$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=500,V5=6e4,gm=1e12;class j5{constructor(e){this.auth=e,this.counter=gm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new W5(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||gm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||gm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||gm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class W5{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;re(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=H5(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},V5)},K5))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function H5(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=n$("rcb"),q5=new Mp(3e4,6e4),G5="https://www.google.com/recaptcha/api.js?";class Y5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=_n().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return re(Q5(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(_n().grecaptcha):new Promise((r,i)=>{const o=_n().setTimeout(()=>{i(Xn(e,"network-request-failed"))},q5.get());_n()[nS]=()=>{_n().clearTimeout(o),delete _n()[nS];const a=_n().grecaptcha;if(!a){i(Xn(e,"internal-error"));return}const u=a.render;a.render=(l,d)=>{const f=u(l,d);return this.counter++,f},this.hostLanguage=n,r(a)};const s=`${G5}?${Ed({onload:nS,render:"explicit",hl:n})}`;t$(s).catch(()=>{clearTimeout(o),i(Xn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=_n().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Q5(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class X5{async load(e){return new j5(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="recaptcha",J5={theme:"light",type:"image"};class Z5{constructor(e,n=Object.assign({},J5),r){this.parameters=n,this.type=r$,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(r),this.isInvisible=this.parameters.size==="invisible",re(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;re(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new X5:new Y5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=s=>{!s||(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=_n()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){re(iI()&&!dI(),this.auth,"internal-error"),await e8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await U5(this.auth);re(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function e8(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Xu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function t8(t,e,n){const r=Pn(t),i=await U0(r,e,Se(n));return new fI(i,o=>M0(r,o))}async function n8(t,e,n){const r=Se(t);await N0(!1,r,"phone");const i=await U0(r.auth,e,Se(n));return new fI(i,o=>zL(r,o))}async function r8(t,e,n){const r=Se(t),i=await U0(r.auth,e,Se(n));return new fI(i,o=>KL(r,o))}async function U0(t,e,n){var r;const i=await n.verify();try{re(typeof i=="string",t,"argument-error"),re(n.type===r$,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const s=o.session;if("phoneNumber"in o)return re(s.type==="enroll",t,"internal-error"),(await _5(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{re(s.type==="signin",t,"internal-error");const a=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return re(a,t,"missing-multi-factor-info"),(await $5(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:s}=await $q(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return s}}finally{n._reset()}}async function i8(t,e){await aI(Se(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.providerId=po.PROVIDER_ID,this.auth=Pn(e)}verifyPhoneNumber(e,n){return U0(this.auth,e,Se(n))}static credential(e,n){return Xu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return po.credentialFromTaggedObject(n)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Xu._fromTokenResponse(n,r):null}}po.PROVIDER_ID="phone";po.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){return e?fi(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends Id{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o8(t){return UL(t.auth,new hI(t),t.bypassAuthState)}function s8(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),BL(n,new hI(t),t.bypassAuthState)}async function a8(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),aI(n,new hI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o8;case"linkViaPopup":case"linkViaRedirect":return a8;case"reauthViaPopup":case"reauthViaRedirect":return s8;default:Rn(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=new Mp(2e3,1e4);async function l8(t,e,n){const r=Pn(t);Cd(t,e,Gs);const i=Dl(r,n);return new Is(r,"signInViaPopup",e,i).executeNotNull()}async function c8(t,e,n){const r=Se(t);Cd(r.auth,e,Gs);const i=Dl(r.auth,n);return new Is(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function d8(t,e,n){const r=Se(t);Cd(r.auth,e,Gs);const i=Dl(r.auth,n);return new Is(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Is extends i${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,u8.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="pendingRedirect",fh=new Map;class h8 extends i${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await p8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p8(t,e){const n=s$(e),r=o$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function pI(t,e){return o$(t)._set(s$(e),"true")}function g8(){fh.clear()}function gI(t,e){fh.set(t._key(),e)}function o$(t){return fi(t._redirectPersistence)}function s$(t){return Qu(f8,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e,n){return v8(t,e,n)}async function v8(t,e,n){const r=Pn(t);Cd(t,e,Gs);const i=Dl(r,n);return await pI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function y8(t,e,n){return w8(t,e,n)}async function w8(t,e,n){const r=Se(t);Cd(r.auth,e,Gs);const i=Dl(r.auth,n);await pI(i,r.auth);const o=await a$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function _8(t,e,n){return S8(t,e,n)}async function S8(t,e,n){const r=Se(t);Cd(r.auth,e,Gs);const i=Dl(r.auth,n);await N0(!1,r,e.providerId),await pI(i,r.auth);const o=await a$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function E8(t,e){return await Pn(t)._initializationPromise,z0(t,e,!1)}async function z0(t,e,n=!1){const r=Pn(t),i=Dl(r,e),s=await new h8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function a$(t){const e=$p(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=10*60*1e3;class u${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C8&&this.cachedEventUids.clear(),this.cachedEventUids.has(oO(e))}saveEventToCache(e){this.cachedEventUids.add(oO(e)),this.lastProcessedEventTime=Date.now()}}function oO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e={}){return Ln(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T8=/^https?/;async function D8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c$(t);for(const n of e)try{if(k8(n))return}catch{}Rn(t,"unauthorized-domain")}function k8(t){const e=Qh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!T8.test(n))return!1;if(I8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new Mp(3e4,6e4);function sO(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O8(t){return new Promise((e,n)=>{var r,i,o;function s(){sO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sO(),n(Xn(t,"network-request-failed"))},timeout:x8.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_n().gapi)===null||o===void 0)&&o.load)s();else{const a=n$("iframefcb");return _n()[a]=()=>{gapi.load?s():n(Xn(t,"network-request-failed"))},t$(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw dv=null,e})}let dv=null;function A8(t){return dv=dv||O8(t),dv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new Mp(5e3,15e3),P8="__/auth/iframe",N8="emulator/auth/iframe",M8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L8(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oI(e,N8):`https://${t.config.authDomain}/${P8}`,r={apiKey:e.apiKey,appName:t.name,v:iu},i=F8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ed(r).slice(1)}`}async function $8(t){const e=await A8(t),n=_n().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:L8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Xn(t,"network-request-failed"),a=_n().setTimeout(()=>{o(s)},R8.get());function u(){_n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U8=500,z8=600,K8="_blank",V8="http://localhost";class aO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j8(t,e,n,r=U8,i=z8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},B8),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Nt().toLowerCase();n&&(a=DL(l)?K8:n),TL(l)&&(e=e||V8,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[g,m])=>`${p}${g}=${m},`,"");if(Sq(l)&&a!=="_self")return W8(e||"",a),new aO(null);const f=window.open(e||"",a,d);re(f,t,"popup-blocked");try{f.focus()}catch{}return new aO(f)}function W8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="__/auth/handler",q8="emulator/auth/handler";function i1(t,e,n,r,i,o){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:iu,eventId:i};if(e instanceof Gs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",z4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(o||{}))s[u]=l}if(e instanceof Td){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${G8(t)}?${Ed(a).slice(1)}`}function G8({config:t}){return t.emulator?oI(t,q8):`https://${t.authDomain}/${H8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="webStorageSupport";class Y8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ha,this._completeRedirectFn=z0,this._overrideRedirectResult=gI}async _openPopup(e,n,r,i){var o;yo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=i1(e,n,r,Qh(),i);return j8(e,s,$p())}async _openRedirect(e,n,r,i){return await this._originValidation(e),x5(i1(e,n,r,Qh(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(yo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $8(e),r=new u$(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rS,{type:rS},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[rS];s!==void 0&&n(!!s),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AL()||sI()||bd()}}const d$=Y8;class Q8{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return jo("unexpected MultiFactorSessionType")}}}class mI extends Q8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new mI(e)}_finalizeEnroll(e,n,r){return S5(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return B5(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class f${constructor(){}static assertion(e){return mI._fromCredential(e)}}f$.FACTOR_ID="phone";var uO="@firebase/auth",lO="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z8(t){Bs(new vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,u)=>{re(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),re(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RL(t)},d=new Iq(a,u,l);return rq(d,n),d})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bs(new vo("auth-internal",e=>{const n=Pn(e.getProvider("auth").getImmediate());return(r=>new X8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(uO,lO,J8(t)),zi(uO,lO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t=tI()){const e=Np(t,"auth");return e.isInitialized()?e.getImmediate():nq(t,{popupRedirectResolver:d$,persistence:[od,Lp,Ha]})}Z8("Browser");var st={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(li,function(){var n=Array.prototype.slice;function r(c,h){h&&(c.prototype=Object.create(h.prototype)),c.prototype.constructor=c}function i(c){return u(c)?c:nt(c)}r(o,i);function o(c){return l(c)?c:mt(c)}r(s,i);function s(c){return d(c)?c:ht(c)}r(a,i);function a(c){return u(c)&&!f(c)?c:pn(c)}function u(c){return!!(c&&c[g])}function l(c){return!!(c&&c[m])}function d(c){return!!(c&&c[_])}function f(c){return l(c)||d(c)}function p(c){return!!(c&&c[C])}i.isIterable=u,i.isKeyed=l,i.isIndexed=d,i.isAssociative=f,i.isOrdered=p,i.Keyed=o,i.Indexed=s,i.Set=a;var g="@@__IMMUTABLE_ITERABLE__@@",m="@@__IMMUTABLE_KEYED__@@",_="@@__IMMUTABLE_INDEXED__@@",C="@@__IMMUTABLE_ORDERED__@@",w="delete",y=5,S=1<<y,I=S-1,k={},O={value:!1},A={value:!1};function F(c){return c.value=!1,c}function G(c){c&&(c.value=!0)}function Y(){}function Q(c,h){h=h||0;for(var v=Math.max(0,c.length-h),E=new Array(v),b=0;b<v;b++)E[b]=c[b+h];return E}function ie(c){return c.size===void 0&&(c.size=c.__iterate(_e)),c.size}function ae(c,h){if(typeof h!="number"){var v=h>>>0;if(""+v!==h||v===4294967295)return NaN;h=v}return h<0?ie(c)+h:h}function _e(){return!0}function De(c,h,v){return(c===0||v!==void 0&&c<=-v)&&(h===void 0||v!==void 0&&h>=v)}function Ie(c,h){return X(c,h,0)}function Ae(c,h){return X(c,h,h)}function X(c,h,v){return c===void 0?v:c<0?Math.max(0,h+c):h===void 0?c:Math.min(h,c)}var W=0,K=1,oe=2,N=typeof Symbol=="function"&&Symbol.iterator,j="@@iterator",J=N||j;function L(c){this.next=c}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=W,L.VALUES=K,L.ENTRIES=oe,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[J]=function(){return this};function V(c,h,v,E){var b=c===0?h:c===1?v:[h,v];return E?E.value=b:E={value:b,done:!1},E}function se(){return{value:void 0,done:!0}}function ye(c){return!!hn(c)}function Re(c){return c&&typeof c.next=="function"}function Ue(c){var h=hn(c);return h&&h.call(c)}function hn(c){var h=c&&(N&&c[N]||c[j]);if(typeof h=="function")return h}function vr(c){return c&&typeof c.length=="number"}r(nt,i);function nt(c){return c==null?Fe():u(c)?c.toSeq():Yi(c)}nt.of=function(){return nt(arguments)},nt.prototype.toSeq=function(){return this},nt.prototype.toString=function(){return this.__toString("Seq {","}")},nt.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},nt.prototype.__iterate=function(c,h){return Qi(this,c,h,!0)},nt.prototype.__iterator=function(c,h){return Lt(this,c,h,!0)},r(mt,nt);function mt(c){return c==null?Fe().toKeyedSeq():u(c)?l(c)?c.toSeq():c.fromEntrySeq():bt(c)}mt.prototype.toKeyedSeq=function(){return this},r(ht,nt);function ht(c){return c==null?Fe():u(c)?l(c)?c.entrySeq():c.toIndexedSeq():ze(c)}ht.of=function(){return ht(arguments)},ht.prototype.toIndexedSeq=function(){return this},ht.prototype.toString=function(){return this.__toString("Seq [","]")},ht.prototype.__iterate=function(c,h){return Qi(this,c,h,!1)},ht.prototype.__iterator=function(c,h){return Lt(this,c,h,!1)},r(pn,nt);function pn(c){return(c==null?Fe():u(c)?l(c)?c.entrySeq():c:ze(c)).toSetSeq()}pn.of=function(){return pn(arguments)},pn.prototype.toSetSeq=function(){return this},nt.isSeq=Me,nt.Keyed=mt,nt.Set=pn,nt.Indexed=ht;var Ii="@@__IMMUTABLE_SEQ__@@";nt.prototype[Ii]=!0,r(Un,ht);function Un(c){this._array=c,this.size=c.length}Un.prototype.get=function(c,h){return this.has(c)?this._array[ae(this,c)]:h},Un.prototype.__iterate=function(c,h){for(var v=this._array,E=v.length-1,b=0;b<=E;b++)if(c(v[h?E-b:b],b,this)===!1)return b+1;return b},Un.prototype.__iterator=function(c,h){var v=this._array,E=v.length-1,b=0;return new L(function(){return b>E?se():V(c,b,v[h?E-b++:b++])})},r(xt,mt);function xt(c){var h=Object.keys(c);this._object=c,this._keys=h,this.size=h.length}xt.prototype.get=function(c,h){return h!==void 0&&!this.has(c)?h:this._object[c]},xt.prototype.has=function(c){return this._object.hasOwnProperty(c)},xt.prototype.__iterate=function(c,h){for(var v=this._object,E=this._keys,b=E.length-1,T=0;T<=b;T++){var x=E[h?b-T:T];if(c(v[x],x,this)===!1)return T+1}return T},xt.prototype.__iterator=function(c,h){var v=this._object,E=this._keys,b=E.length-1,T=0;return new L(function(){var x=E[h?b-T:T];return T++>b?se():V(c,x,v[x])})},xt.prototype[C]=!0,r(zn,ht);function zn(c){this._iterable=c,this.size=c.length||c.size}zn.prototype.__iterateUncached=function(c,h){if(h)return this.cacheResult().__iterate(c,h);var v=this._iterable,E=Ue(v),b=0;if(Re(E))for(var T;!(T=E.next()).done&&c(T.value,b++,this)!==!1;);return b},zn.prototype.__iteratorUncached=function(c,h){if(h)return this.cacheResult().__iterator(c,h);var v=this._iterable,E=Ue(v);if(!Re(E))return new L(se);var b=0;return new L(function(){var T=E.next();return T.done?T:V(c,b++,T.value)})},r(yr,ht);function yr(c){this._iterator=c,this._iteratorCache=[]}yr.prototype.__iterateUncached=function(c,h){if(h)return this.cacheResult().__iterate(c,h);for(var v=this._iterator,E=this._iteratorCache,b=0;b<E.length;)if(c(E[b],b++,this)===!1)return b;for(var T;!(T=v.next()).done;){var x=T.value;if(E[b]=x,c(x,b++,this)===!1)break}return b},yr.prototype.__iteratorUncached=function(c,h){if(h)return this.cacheResult().__iterator(c,h);var v=this._iterator,E=this._iteratorCache,b=0;return new L(function(){if(b>=E.length){var T=v.next();if(T.done)return T;E[b]=T.value}return V(c,b,E[b++])})};function Me(c){return!!(c&&c[Ii])}var Qe;function Fe(){return Qe||(Qe=new Un([]))}function bt(c){var h=Array.isArray(c)?new Un(c).fromEntrySeq():Re(c)?new yr(c).fromEntrySeq():ye(c)?new zn(c).fromEntrySeq():typeof c=="object"?new xt(c):void 0;if(!h)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+c);return h}function ze(c){var h=at(c);if(!h)throw new TypeError("Expected Array or iterable object of values: "+c);return h}function Yi(c){var h=at(c)||typeof c=="object"&&new xt(c);if(!h)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+c);return h}function at(c){return vr(c)?new Un(c):Re(c)?new yr(c):ye(c)?new zn(c):void 0}function Qi(c,h,v,E){var b=c._cache;if(b){for(var T=b.length-1,x=0;x<=T;x++){var P=b[v?T-x:x];if(h(P[1],E?P[0]:x,c)===!1)return x+1}return x}return c.__iterateUncached(h,v)}function Lt(c,h,v,E){var b=c._cache;if(b){var T=b.length-1,x=0;return new L(function(){var P=b[v?T-x:x];return x++>T?se():V(h,E?P[0]:x-1,P[1])})}return c.__iteratorUncached(h,v)}function cs(c,h){return h?ds(h,c,"",{"":c}):Ud(c)}function ds(c,h,v,E){return Array.isArray(h)?c.call(E,v,ht(h).map(function(b,T){return ds(c,b,T,h)})):zd(h)?c.call(E,v,mt(h).map(function(b,T){return ds(c,b,T,h)})):h}function Ud(c){return Array.isArray(c)?ht(c).map(Ud).toList():zd(c)?mt(c).map(Ud).toMap():c}function zd(c){return c&&(c.constructor===Object||c.constructor===void 0)}function It(c,h){if(c===h||c!==c&&h!==h)return!0;if(!c||!h)return!1;if(typeof c.valueOf=="function"&&typeof h.valueOf=="function"){if(c=c.valueOf(),h=h.valueOf(),c===h||c!==c&&h!==h)return!0;if(!c||!h)return!1}return!!(typeof c.equals=="function"&&typeof h.equals=="function"&&c.equals(h))}function Kl(c,h){if(c===h)return!0;if(!u(h)||c.size!==void 0&&h.size!==void 0&&c.size!==h.size||c.__hash!==void 0&&h.__hash!==void 0&&c.__hash!==h.__hash||l(c)!==l(h)||d(c)!==d(h)||p(c)!==p(h))return!1;if(c.size===0&&h.size===0)return!0;var v=!f(c);if(p(c)){var E=c.entries();return h.every(function(B,z){var q=E.next().value;return q&&It(q[1],B)&&(v||It(q[0],z))})&&E.next().done}var b=!1;if(c.size===void 0)if(h.size===void 0)typeof c.cacheResult=="function"&&c.cacheResult();else{b=!0;var T=c;c=h,h=T}var x=!0,P=h.__iterate(function(B,z){if(v?!c.has(B):b?!It(B,c.get(z,k)):!It(c.get(z,k),B))return x=!1,!1});return x&&c.size===P}r(gn,ht);function gn(c,h){if(!(this instanceof gn))return new gn(c,h);if(this._value=c,this.size=h===void 0?1/0:Math.max(0,h),this.size===0){if(Kd)return Kd;Kd=this}}gn.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},gn.prototype.get=function(c,h){return this.has(c)?this._value:h},gn.prototype.includes=function(c){return It(this._value,c)},gn.prototype.slice=function(c,h){var v=this.size;return De(c,h,v)?this:new gn(this._value,Ae(h,v)-Ie(c,v))},gn.prototype.reverse=function(){return this},gn.prototype.indexOf=function(c){return It(this._value,c)?0:-1},gn.prototype.lastIndexOf=function(c){return It(this._value,c)?this.size:-1},gn.prototype.__iterate=function(c,h){for(var v=0;v<this.size;v++)if(c(this._value,v,this)===!1)return v+1;return v},gn.prototype.__iterator=function(c,h){var v=this,E=0;return new L(function(){return E<v.size?V(c,E++,v._value):se()})},gn.prototype.equals=function(c){return c instanceof gn?It(this._value,c._value):Kl(c)};var Kd;function Ti(c,h){if(!c)throw new Error(h)}r(mn,ht);function mn(c,h,v){if(!(this instanceof mn))return new mn(c,h,v);if(Ti(v!==0,"Cannot step a Range by 0"),c=c||0,h===void 0&&(h=1/0),v=v===void 0?1:Math.abs(v),h<c&&(v=-v),this._start=c,this._end=h,this._step=v,this.size=Math.max(0,Math.ceil((h-c)/v-1)+1),this.size===0){if(Vd)return Vd;Vd=this}}mn.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},mn.prototype.get=function(c,h){return this.has(c)?this._start+ae(this,c)*this._step:h},mn.prototype.includes=function(c){var h=(c-this._start)/this._step;return h>=0&&h<this.size&&h===Math.floor(h)},mn.prototype.slice=function(c,h){return De(c,h,this.size)?this:(c=Ie(c,this.size),h=Ae(h,this.size),h<=c?new mn(0,0):new mn(this.get(c,this._end),this.get(h,this._end),this._step))},mn.prototype.indexOf=function(c){var h=c-this._start;if(h%this._step===0){var v=h/this._step;if(v>=0&&v<this.size)return v}return-1},mn.prototype.lastIndexOf=function(c){return this.indexOf(c)},mn.prototype.__iterate=function(c,h){for(var v=this.size-1,E=this._step,b=h?this._start+v*E:this._start,T=0;T<=v;T++){if(c(b,T,this)===!1)return T+1;b+=h?-E:E}return T},mn.prototype.__iterator=function(c,h){var v=this.size-1,E=this._step,b=h?this._start+v*E:this._start,T=0;return new L(function(){var x=b;return b+=h?-E:E,T>v?se():V(c,T++,x)})},mn.prototype.equals=function(c){return c instanceof mn?this._start===c._start&&this._end===c._end&&this._step===c._step:Kl(this,c)};var Vd;r(Co,i);function Co(){throw TypeError("Abstract")}r(fs,Co);function fs(){}r(Di,Co);function Di(){}r(na,Co);function na(){}Co.Keyed=fs,Co.Indexed=Di,Co.Set=na;var hs=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(h,v){h=h|0,v=v|0;var E=h&65535,b=v&65535;return E*b+((h>>>16)*b+E*(v>>>16)<<16>>>0)|0};function hu(c){return c>>>1&1073741824|c&3221225471}function vn(c){if(c===!1||c===null||c===void 0||typeof c.valueOf=="function"&&(c=c.valueOf(),c===!1||c===null||c===void 0))return 0;if(c===!0)return 1;var h=typeof c;if(h==="number"){var v=c|0;for(v!==c&&(v^=c*4294967295);c>4294967295;)c/=4294967295,v^=c;return hu(v)}if(h==="string")return c.length>s_?i_(c):jd(c);if(typeof c.hashCode=="function")return c.hashCode();if(h==="object")return o_(c);if(typeof c.toString=="function")return jd(c.toString());throw new Error("Value type "+h+" cannot be hashed.")}function i_(c){var h=ei[c];return h===void 0&&(h=jd(c),Hd===a_&&(Hd=0,ei={}),Hd++,ei[c]=h),h}function jd(c){for(var h=0,v=0;v<c.length;v++)h=31*h+c.charCodeAt(v)|0;return hu(h)}function o_(c){var h;if(pu&&(h=Xi.get(c),h!==void 0)||(h=c[ps],h!==void 0)||!Tg&&(h=c.propertyIsEnumerable&&c.propertyIsEnumerable[ps],h!==void 0||(h=Dg(c),h!==void 0)))return h;if(h=++Wd,Wd&1073741824&&(Wd=0),pu)Xi.set(c,h);else{if(Ig!==void 0&&Ig(c)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Tg)Object.defineProperty(c,ps,{enumerable:!1,configurable:!1,writable:!1,value:h});else if(c.propertyIsEnumerable!==void 0&&c.propertyIsEnumerable===c.constructor.prototype.propertyIsEnumerable)c.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},c.propertyIsEnumerable[ps]=h;else if(c.nodeType!==void 0)c[ps]=h;else throw new Error("Unable to set a non-enumerable property on object.")}return h}var Ig=Object.isExtensible,Tg=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Dg(c){if(c&&c.nodeType>0)switch(c.nodeType){case 1:return c.uniqueID;case 9:return c.documentElement&&c.documentElement.uniqueID}}var pu=typeof WeakMap=="function",Xi;pu&&(Xi=new WeakMap);var Wd=0,ps="__immutablehash__";typeof Symbol=="function"&&(ps=Symbol(ps));var s_=16,a_=255,Hd=0,ei={};function wr(c){Ti(c!==1/0,"Cannot perform this action with an infinite size.")}r(Ye,fs);function Ye(c){return c==null?ki():qd(c)&&!p(c)?c:ki().withMutations(function(h){var v=o(c);wr(v.size),v.forEach(function(E,b){return h.set(b,E)})})}Ye.prototype.toString=function(){return this.__toString("Map {","}")},Ye.prototype.get=function(c,h){return this._root?this._root.get(0,void 0,c,h):h},Ye.prototype.set=function(c,h){return Og(this,c,h)},Ye.prototype.setIn=function(c,h){return this.updateIn(c,k,function(){return h})},Ye.prototype.remove=function(c){return Og(this,c,k)},Ye.prototype.deleteIn=function(c){return this.updateIn(c,function(){return k})},Ye.prototype.update=function(c,h,v){return arguments.length===1?c(this):this.updateIn([c],h,v)},Ye.prototype.updateIn=function(c,h,v){v||(v=h,h=void 0);var E=Pg(this,nk(c),h,v);return E===k?void 0:E},Ye.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ki()},Ye.prototype.merge=function(){return bo(this,void 0,arguments)},Ye.prototype.mergeWith=function(c){var h=n.call(arguments,1);return bo(this,c,h)},Ye.prototype.mergeIn=function(c){var h=n.call(arguments,1);return this.updateIn(c,ki(),function(v){return typeof v.merge=="function"?v.merge.apply(v,h):h[h.length-1]})},Ye.prototype.mergeDeep=function(){return bo(this,Jd,arguments)},Ye.prototype.mergeDeepWith=function(c){var h=n.call(arguments,1);return bo(this,Zd(c),h)},Ye.prototype.mergeDeepIn=function(c){var h=n.call(arguments,1);return this.updateIn(c,ki(),function(v){return typeof v.mergeDeep=="function"?v.mergeDeep.apply(v,h):h[h.length-1]})},Ye.prototype.sort=function(c){return Bt(nr(this,c))},Ye.prototype.sortBy=function(c,h){return Bt(nr(this,h,c))},Ye.prototype.withMutations=function(c){var h=this.asMutable();return c(h),h.wasAltered()?h.__ensureOwner(this.__ownerID):this},Ye.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Y)},Ye.prototype.asImmutable=function(){return this.__ensureOwner()},Ye.prototype.wasAltered=function(){return this.__altered},Ye.prototype.__iterator=function(c,h){return new Gd(this,c,h)},Ye.prototype.__iterate=function(c,h){var v=this,E=0;return this._root&&this._root.iterate(function(b){return E++,c(b[1],b[0],v)},h),E},Ye.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?Yd(this.size,this._root,c,this.__hash):(this.__ownerID=c,this.__altered=!1,this)};function qd(c){return!!(c&&c[kg])}Ye.isMap=qd;var kg="@@__IMMUTABLE_MAP__@@",Ve=Ye.prototype;Ve[kg]=!0,Ve[w]=Ve.remove,Ve.removeIn=Ve.deleteIn;function ti(c,h){this.ownerID=c,this.entries=h}ti.prototype.get=function(c,h,v,E){for(var b=this.entries,T=0,x=b.length;T<x;T++)if(It(v,b[T][0]))return b[T][1];return E},ti.prototype.update=function(c,h,v,E,b,T,x){for(var P=b===k,B=this.entries,z=0,q=B.length;z<q&&!It(E,B[z][0]);z++);var de=z<q;if(de?B[z][1]===b:P)return this;if(G(x),(P||!de)&&G(T),!(P&&B.length===1)){if(!de&&!P&&B.length>=d_)return u_(c,B,E,b);var ve=c&&c===this.ownerID,Pe=ve?B:Q(B);return de?P?z===q-1?Pe.pop():Pe[z]=Pe.pop():Pe[z]=[E,b]:Pe.push([E,b]),ve?(this.entries=Pe,this):new ti(c,Pe)}};function ra(c,h,v){this.ownerID=c,this.bitmap=h,this.nodes=v}ra.prototype.get=function(c,h,v,E){h===void 0&&(h=vn(v));var b=1<<((c===0?h:h>>>c)&I),T=this.bitmap;return(T&b)===0?E:this.nodes[Ng(T&b-1)].get(c+y,h,v,E)},ra.prototype.update=function(c,h,v,E,b,T,x){v===void 0&&(v=vn(E));var P=(h===0?v:v>>>h)&I,B=1<<P,z=this.bitmap,q=(z&B)!==0;if(!q&&b===k)return this;var de=Ng(z&B-1),ve=this.nodes,Pe=q?ve[de]:void 0,je=Qd(Pe,c,h+y,v,E,b,T,x);if(je===Pe)return this;if(!q&&je&&ve.length>=Lg)return l_(c,ve,z,P,je);if(q&&!je&&ve.length===2&&Ag(ve[de^1]))return ve[de^1];if(q&&je&&ve.length===1&&Ag(je))return je;var zt=c&&c===this.ownerID,no=q?je?z:z^B:z|B,Oo=q?je?Mg(ve,de,je,zt):c_(ve,de,zt):Fg(ve,de,je,zt);return zt?(this.bitmap=no,this.nodes=Oo,this):new ra(c,no,Oo)};function gu(c,h,v){this.ownerID=c,this.count=h,this.nodes=v}gu.prototype.get=function(c,h,v,E){h===void 0&&(h=vn(v));var b=(c===0?h:h>>>c)&I,T=this.nodes[b];return T?T.get(c+y,h,v,E):E},gu.prototype.update=function(c,h,v,E,b,T,x){v===void 0&&(v=vn(E));var P=(h===0?v:v>>>h)&I,B=b===k,z=this.nodes,q=z[P];if(B&&!q)return this;var de=Qd(q,c,h+y,v,E,b,T,x);if(de===q)return this;var ve=this.count;if(!q)ve++;else if(!de&&(ve--,ve<jl))return Vl(c,z,ve,P);var Pe=c&&c===this.ownerID,je=Mg(z,P,de,Pe);return Pe?(this.count=ve,this.nodes=je,this):new gu(c,ve,je)};function ia(c,h,v){this.ownerID=c,this.keyHash=h,this.entries=v}ia.prototype.get=function(c,h,v,E){for(var b=this.entries,T=0,x=b.length;T<x;T++)if(It(v,b[T][0]))return b[T][1];return E},ia.prototype.update=function(c,h,v,E,b,T,x){v===void 0&&(v=vn(E));var P=b===k;if(v!==this.keyHash)return P?this:(G(x),G(T),Xd(this,c,h,v,[E,b]));for(var B=this.entries,z=0,q=B.length;z<q&&!It(E,B[z][0]);z++);var de=z<q;if(de?B[z][1]===b:P)return this;if(G(x),(P||!de)&&G(T),P&&q===2)return new Ji(c,this.keyHash,B[z^1]);var ve=c&&c===this.ownerID,Pe=ve?B:Q(B);return de?P?z===q-1?Pe.pop():Pe[z]=Pe.pop():Pe[z]=[E,b]:Pe.push([E,b]),ve?(this.entries=Pe,this):new ia(c,this.keyHash,Pe)};function Ji(c,h,v){this.ownerID=c,this.keyHash=h,this.entry=v}Ji.prototype.get=function(c,h,v,E){return It(v,this.entry[0])?this.entry[1]:E},Ji.prototype.update=function(c,h,v,E,b,T,x){var P=b===k,B=It(E,this.entry[0]);if(B?b===this.entry[1]:P)return this;if(G(x),P){G(T);return}return B?c&&c===this.ownerID?(this.entry[1]=b,this):new Ji(c,this.keyHash,[E,b]):(G(T),Xd(this,c,h,vn(E),[E,b]))},ti.prototype.iterate=ia.prototype.iterate=function(c,h){for(var v=this.entries,E=0,b=v.length-1;E<=b;E++)if(c(v[h?b-E:E])===!1)return!1},ra.prototype.iterate=gu.prototype.iterate=function(c,h){for(var v=this.nodes,E=0,b=v.length-1;E<=b;E++){var T=v[h?b-E:E];if(T&&T.iterate(c,h)===!1)return!1}},Ji.prototype.iterate=function(c,h){return c(this.entry)},r(Gd,L);function Gd(c,h,v){this._type=h,this._reverse=v,this._stack=c._root&&xg(c._root)}Gd.prototype.next=function(){for(var c=this._type,h=this._stack;h;){var v=h.node,E=h.index++,b;if(v.entry){if(E===0)return oa(c,v.entry)}else if(v.entries){if(b=v.entries.length-1,E<=b)return oa(c,v.entries[this._reverse?b-E:E])}else if(b=v.nodes.length-1,E<=b){var T=v.nodes[this._reverse?b-E:E];if(T){if(T.entry)return oa(c,T.entry);h=this._stack=xg(T,h)}continue}h=this._stack=this._stack.__prev}return se()};function oa(c,h){return V(c,h[0],h[1])}function xg(c,h){return{node:c,index:0,__prev:h}}function Yd(c,h,v,E){var b=Object.create(Ve);return b.size=c,b._root=h,b.__ownerID=v,b.__hash=E,b.__altered=!1,b}var Zi;function ki(){return Zi||(Zi=Yd(0))}function Og(c,h,v){var E,b;if(c._root){var T=F(O),x=F(A);if(E=Qd(c._root,c.__ownerID,0,void 0,h,v,T,x),!x.value)return c;b=c.size+(T.value?v===k?-1:1:0)}else{if(v===k)return c;b=1,E=new ti(c.__ownerID,[[h,v]])}return c.__ownerID?(c.size=b,c._root=E,c.__hash=void 0,c.__altered=!0,c):E?Yd(b,E):ki()}function Qd(c,h,v,E,b,T,x,P){return c?c.update(h,v,E,b,T,x,P):T===k?c:(G(P),G(x),new Ji(h,E,[b,T]))}function Ag(c){return c.constructor===Ji||c.constructor===ia}function Xd(c,h,v,E,b){if(c.keyHash===E)return new ia(h,E,[c.entry,b]);var T=(v===0?c.keyHash:c.keyHash>>>v)&I,x=(v===0?E:E>>>v)&I,P,B=T===x?[Xd(c,h,v+y,E,b)]:(P=new Ji(h,E,b),T<x?[c,P]:[P,c]);return new ra(h,1<<T|1<<x,B)}function u_(c,h,v,E){c||(c=new Y);for(var b=new Ji(c,vn(v),[v,E]),T=0;T<h.length;T++){var x=h[T];b=b.update(c,0,void 0,x[0],x[1])}return b}function Vl(c,h,v,E){for(var b=0,T=0,x=new Array(v),P=0,B=1,z=h.length;P<z;P++,B<<=1){var q=h[P];q!==void 0&&P!==E&&(b|=B,x[T++]=q)}return new ra(c,b,x)}function l_(c,h,v,E,b){for(var T=0,x=new Array(S),P=0;v!==0;P++,v>>>=1)x[P]=v&1?h[T++]:void 0;return x[E]=b,new gu(c,T+1,x)}function bo(c,h,v){for(var E=[],b=0;b<v.length;b++){var T=v[b],x=o(T);u(T)||(x=x.map(function(P){return cs(P)})),E.push(x)}return Rg(c,h,E)}function Jd(c,h,v){return c&&c.mergeDeep&&u(h)?c.mergeDeep(h):It(c,h)?c:h}function Zd(c){return function(h,v,E){if(h&&h.mergeDeepWith&&u(v))return h.mergeDeepWith(c,v);var b=c(h,v,E);return It(h,b)?h:b}}function Rg(c,h,v){return v=v.filter(function(E){return E.size!==0}),v.length===0?c:c.size===0&&!c.__ownerID&&v.length===1?c.constructor(v[0]):c.withMutations(function(E){for(var b=h?function(x,P){E.update(P,k,function(B){return B===k?x:h(B,x,P)})}:function(x,P){E.set(P,x)},T=0;T<v.length;T++)v[T].forEach(b)})}function Pg(c,h,v,E){var b=c===k,T=h.next();if(T.done){var x=b?v:c,P=E(x);return P===x?c:P}Ti(b||c&&c.set,"invalid keyPath");var B=T.value,z=b?k:c.get(B,k),q=Pg(z,h,v,E);return q===z?c:q===k?c.remove(B):(b?ki():c).set(B,q)}function Ng(c){return c=c-(c>>1&1431655765),c=(c&858993459)+(c>>2&858993459),c=c+(c>>4)&252645135,c=c+(c>>8),c=c+(c>>16),c&127}function Mg(c,h,v,E){var b=E?c:Q(c);return b[h]=v,b}function Fg(c,h,v,E){var b=c.length+1;if(E&&h+1===b)return c[h]=v,c;for(var T=new Array(b),x=0,P=0;P<b;P++)P===h?(T[P]=v,x=-1):T[P]=c[P+x];return T}function c_(c,h,v){var E=c.length-1;if(v&&h===E)return c.pop(),c;for(var b=new Array(E),T=0,x=0;x<E;x++)x===h&&(T=1),b[x]=c[x+T];return b}var d_=S/4,Lg=S/2,jl=S/4;r(ut,Di);function ut(c){var h=eo();if(c==null)return h;if($g(c))return c;var v=s(c),E=v.size;return E===0?h:(wr(E),E>0&&E<S?vu(0,E,y,null,new Io(v.toArray())):h.withMutations(function(b){b.setSize(E),v.forEach(function(T,x){return b.set(x,T)})}))}ut.of=function(){return this(arguments)},ut.prototype.toString=function(){return this.__toString("List [","]")},ut.prototype.get=function(c,h){if(c=ae(this,c),c>=0&&c<this.size){c+=this._origin;var v=Vg(this,c);return v&&v.array[c&I]}return h},ut.prototype.set=function(c,h){return Kg(this,c,h)},ut.prototype.remove=function(c){return this.has(c)?c===0?this.shift():c===this.size-1?this.pop():this.splice(c,1):this},ut.prototype.insert=function(c,h){return this.splice(c,0,h)},ut.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):eo()},ut.prototype.push=function(){var c=arguments,h=this.size;return this.withMutations(function(v){xi(v,0,h+c.length);for(var E=0;E<c.length;E++)v.set(h+E,c[E])})},ut.prototype.pop=function(){return xi(this,0,-1)},ut.prototype.unshift=function(){var c=arguments;return this.withMutations(function(h){xi(h,-c.length);for(var v=0;v<c.length;v++)h.set(v,c[v])})},ut.prototype.shift=function(){return xi(this,1)},ut.prototype.merge=function(){return Wl(this,void 0,arguments)},ut.prototype.mergeWith=function(c){var h=n.call(arguments,1);return Wl(this,c,h)},ut.prototype.mergeDeep=function(){return Wl(this,Jd,arguments)},ut.prototype.mergeDeepWith=function(c){var h=n.call(arguments,1);return Wl(this,Zd(c),h)},ut.prototype.setSize=function(c){return xi(this,0,c)},ut.prototype.slice=function(c,h){var v=this.size;return De(c,h,v)?this:xi(this,Ie(c,v),Ae(h,v))},ut.prototype.__iterator=function(c,h){var v=0,E=Ug(this,h);return new L(function(){var b=E();return b===mu?se():V(c,v++,b)})},ut.prototype.__iterate=function(c,h){for(var v=0,E=Ug(this,h),b;(b=E())!==mu&&c(b,v++,this)!==!1;);return v},ut.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?vu(this._origin,this._capacity,this._level,this._root,this._tail,c,this.__hash):(this.__ownerID=c,this)};function $g(c){return!!(c&&c[Bg])}ut.isList=$g;var Bg="@@__IMMUTABLE_LIST__@@",$t=ut.prototype;$t[Bg]=!0,$t[w]=$t.remove,$t.setIn=Ve.setIn,$t.deleteIn=$t.removeIn=Ve.removeIn,$t.update=Ve.update,$t.updateIn=Ve.updateIn,$t.mergeIn=Ve.mergeIn,$t.mergeDeepIn=Ve.mergeDeepIn,$t.withMutations=Ve.withMutations,$t.asMutable=Ve.asMutable,$t.asImmutable=Ve.asImmutable,$t.wasAltered=Ve.wasAltered;function Io(c,h){this.array=c,this.ownerID=h}Io.prototype.removeBefore=function(c,h,v){if(v===h?1<<h:this.array.length===0)return this;var E=v>>>h&I;if(E>=this.array.length)return new Io([],c);var b=E===0,T;if(h>0){var x=this.array[E];if(T=x&&x.removeBefore(c,h-y,v),T===x&&b)return this}if(b&&!T)return this;var P=to(this,c);if(!b)for(var B=0;B<E;B++)P.array[B]=void 0;return T&&(P.array[E]=T),P},Io.prototype.removeAfter=function(c,h,v){if(v===(h?1<<h:0)||this.array.length===0)return this;var E=v-1>>>h&I;if(E>=this.array.length)return this;var b;if(h>0){var T=this.array[E];if(b=T&&T.removeAfter(c,h-y,v),b===T&&E===this.array.length-1)return this}var x=to(this,c);return x.array.splice(E+1),b&&(x.array[E]=b),x};var mu={};function Ug(c,h){var v=c._origin,E=c._capacity,b=sa(E),T=c._tail;return x(c._root,c._level,0);function x(z,q,de){return q===0?P(z,de):B(z,q,de)}function P(z,q){var de=q===b?T&&T.array:z&&z.array,ve=q>v?0:v-q,Pe=E-q;return Pe>S&&(Pe=S),function(){if(ve===Pe)return mu;var je=h?--Pe:ve++;return de&&de[je]}}function B(z,q,de){var ve,Pe=z&&z.array,je=de>v?0:v-de>>q,zt=(E-de>>q)+1;return zt>S&&(zt=S),function(){do{if(ve){var no=ve();if(no!==mu)return no;ve=null}if(je===zt)return mu;var Oo=h?--zt:je++;ve=x(Pe&&Pe[Oo],q-y,de+(Oo<<q))}while(!0)}}}function vu(c,h,v,E,b,T,x){var P=Object.create($t);return P.size=h-c,P._origin=c,P._capacity=h,P._level=v,P._root=E,P._tail=b,P.__ownerID=T,P.__hash=x,P.__altered=!1,P}var zg;function eo(){return zg||(zg=vu(0,0,y))}function Kg(c,h,v){if(h=ae(c,h),h!==h)return c;if(h>=c.size||h<0)return c.withMutations(function(x){h<0?xi(x,h).set(0,v):xi(x,0,h+1).set(h,v)});h+=c._origin;var E=c._tail,b=c._root,T=F(A);return h>=sa(c._capacity)?E=ef(E,c.__ownerID,0,h,v,T):b=ef(b,c.__ownerID,c._level,h,v,T),T.value?c.__ownerID?(c._root=b,c._tail=E,c.__hash=void 0,c.__altered=!0,c):vu(c._origin,c._capacity,c._level,b,E):c}function ef(c,h,v,E,b,T){var x=E>>>v&I,P=c&&x<c.array.length;if(!P&&b===void 0)return c;var B;if(v>0){var z=c&&c.array[x],q=ef(z,h,v-y,E,b,T);return q===z?c:(B=to(c,h),B.array[x]=q,B)}return P&&c.array[x]===b?c:(G(T),B=to(c,h),b===void 0&&x===B.array.length-1?B.array.pop():B.array[x]=b,B)}function to(c,h){return h&&c&&h===c.ownerID?c:new Io(c?c.array.slice():[],h)}function Vg(c,h){if(h>=sa(c._capacity))return c._tail;if(h<1<<c._level+y){for(var v=c._root,E=c._level;v&&E>0;)v=v.array[h>>>E&I],E-=y;return v}}function xi(c,h,v){h!==void 0&&(h=h|0),v!==void 0&&(v=v|0);var E=c.__ownerID||new Y,b=c._origin,T=c._capacity,x=b+h,P=v===void 0?T:v<0?T+v:b+v;if(x===b&&P===T)return c;if(x>=P)return c.clear();for(var B=c._level,z=c._root,q=0;x+q<0;)z=new Io(z&&z.array.length?[void 0,z]:[],E),B+=y,q+=1<<B;q&&(x+=q,b+=q,P+=q,T+=q);for(var de=sa(T),ve=sa(P);ve>=1<<B+y;)z=new Io(z&&z.array.length?[z]:[],E),B+=y;var Pe=c._tail,je=ve<de?Vg(c,P-1):ve>de?new Io([],E):Pe;if(Pe&&ve>de&&x<T&&Pe.array.length){z=to(z,E);for(var zt=z,no=B;no>y;no-=y){var Oo=de>>>no&I;zt=zt.array[Oo]=to(zt.array[Oo],E)}zt.array[de>>>y&I]=Pe}if(P<T&&(je=je&&je.removeAfter(E,0,P)),x>=ve)x-=ve,P-=ve,B=y,z=null,je=je&&je.removeBefore(E,0,x);else if(x>b||ve<de){for(q=0;z;){var Yg=x>>>B&I;if(Yg!==ve>>>B&I)break;Yg&&(q+=(1<<B)*Yg),B-=y,z=z.array[Yg]}z&&x>b&&(z=z.removeBefore(E,B,x-q)),z&&ve<de&&(z=z.removeAfter(E,B,ve-q)),q&&(x-=q,P-=q)}return c.__ownerID?(c.size=P-x,c._origin=x,c._capacity=P,c._level=B,c._root=z,c._tail=je,c.__hash=void 0,c.__altered=!0,c):vu(x,P,B,z,je)}function Wl(c,h,v){for(var E=[],b=0,T=0;T<v.length;T++){var x=v[T],P=s(x);P.size>b&&(b=P.size),u(x)||(P=P.map(function(B){return cs(B)})),E.push(P)}return b>c.size&&(c=c.setSize(b)),Rg(c,h,E)}function sa(c){return c<S?0:c-1>>>y<<y}r(Bt,Ye);function Bt(c){return c==null?Hl():tf(c)?c:Hl().withMutations(function(h){var v=o(c);wr(v.size),v.forEach(function(E,b){return h.set(b,E)})})}Bt.of=function(){return this(arguments)},Bt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Bt.prototype.get=function(c,h){var v=this._map.get(c);return v!==void 0?this._list.get(v)[1]:h},Bt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Hl()},Bt.prototype.set=function(c,h){return jg(this,c,h)},Bt.prototype.remove=function(c){return jg(this,c,k)},Bt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Bt.prototype.__iterate=function(c,h){var v=this;return this._list.__iterate(function(E){return E&&c(E[1],E[0],v)},h)},Bt.prototype.__iterator=function(c,h){return this._list.fromEntrySeq().__iterator(c,h)},Bt.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var h=this._map.__ensureOwner(c),v=this._list.__ensureOwner(c);return c?gs(h,v,c,this.__hash):(this.__ownerID=c,this._map=h,this._list=v,this)};function tf(c){return qd(c)&&p(c)}Bt.isOrderedMap=tf,Bt.prototype[C]=!0,Bt.prototype[w]=Bt.prototype.remove;function gs(c,h,v,E){var b=Object.create(Bt.prototype);return b.size=c?c.size:0,b._map=c,b._list=h,b.__ownerID=v,b.__hash=E,b}var nf;function Hl(){return nf||(nf=gs(ki(),eo()))}function jg(c,h,v){var E=c._map,b=c._list,T=E.get(h),x=T!==void 0,P,B;if(v===k){if(!x)return c;b.size>=S&&b.size>=E.size*2?(B=b.filter(function(z,q){return z!==void 0&&T!==q}),P=B.toKeyedSeq().map(function(z){return z[0]}).flip().toMap(),c.__ownerID&&(P.__ownerID=B.__ownerID=c.__ownerID)):(P=E.remove(h),B=T===b.size-1?b.pop():b.set(T,void 0))}else if(x){if(v===b.get(T)[1])return c;P=E,B=b.set(T,[h,v])}else P=E.set(h,b.size),B=b.set(b.size,[h,v]);return c.__ownerID?(c.size=P.size,c._map=P,c._list=B,c.__hash=void 0,c):gs(P,B)}r(Pr,mt);function Pr(c,h){this._iter=c,this._useKeys=h,this.size=c.size}Pr.prototype.get=function(c,h){return this._iter.get(c,h)},Pr.prototype.has=function(c){return this._iter.has(c)},Pr.prototype.valueSeq=function(){return this._iter.valueSeq()},Pr.prototype.reverse=function(){var c=this,h=xe(this,!0);return this._useKeys||(h.valueSeq=function(){return c._iter.toSeq().reverse()}),h},Pr.prototype.map=function(c,h){var v=this,E=wt(this,c,h);return this._useKeys||(E.valueSeq=function(){return v._iter.toSeq().map(c,h)}),E},Pr.prototype.__iterate=function(c,h){var v=this,E;return this._iter.__iterate(this._useKeys?function(b,T){return c(b,T,v)}:(E=h?ZD(this):0,function(b){return c(b,h?--E:E++,v)}),h)},Pr.prototype.__iterator=function(c,h){if(this._useKeys)return this._iter.__iterator(c,h);var v=this._iter.__iterator(K,h),E=h?ZD(this):0;return new L(function(){var b=v.next();return b.done?b:V(c,h?--E:E++,b.value,b)})},Pr.prototype[C]=!0,r(D,ht);function D(c){this._iter=c,this.size=c.size}D.prototype.includes=function(c){return this._iter.includes(c)},D.prototype.__iterate=function(c,h){var v=this,E=0;return this._iter.__iterate(function(b){return c(b,E++,v)},h)},D.prototype.__iterator=function(c,h){var v=this._iter.__iterator(K,h),E=0;return new L(function(){var b=v.next();return b.done?b:V(c,E++,b.value,b)})},r(R,pn);function R(c){this._iter=c,this.size=c.size}R.prototype.has=function(c){return this._iter.includes(c)},R.prototype.__iterate=function(c,h){var v=this;return this._iter.__iterate(function(E){return c(E,E,v)},h)},R.prototype.__iterator=function(c,h){var v=this._iter.__iterator(K,h);return new L(function(){var E=v.next();return E.done?E:V(c,E.value,E.value,E)})},r(H,mt);function H(c){this._iter=c,this.size=c.size}H.prototype.entrySeq=function(){return this._iter.toSeq()},H.prototype.__iterate=function(c,h){var v=this;return this._iter.__iterate(function(E){if(E){JD(E);var b=u(E);return c(b?E.get(1):E[1],b?E.get(0):E[0],v)}},h)},H.prototype.__iterator=function(c,h){var v=this._iter.__iterator(K,h);return new L(function(){for(;;){var E=v.next();if(E.done)return E;var b=E.value;if(b){JD(b);var T=u(b);return V(c,T?b.get(0):b[0],T?b.get(1):b[1],E)}}})},D.prototype.cacheResult=Pr.prototype.cacheResult=R.prototype.cacheResult=H.prototype.cacheResult=f_;function fe(c){var h=Do(c);return h._iter=c,h.size=c.size,h.flip=function(){return c},h.reverse=function(){var v=c.reverse.apply(this);return v.flip=function(){return c.reverse()},v},h.has=function(v){return c.includes(v)},h.includes=function(v){return c.has(v)},h.cacheResult=f_,h.__iterateUncached=function(v,E){var b=this;return c.__iterate(function(T,x){return v(x,T,b)!==!1},E)},h.__iteratorUncached=function(v,E){if(v===oe){var b=c.__iterator(v,E);return new L(function(){var T=b.next();if(!T.done){var x=T.value[0];T.value[0]=T.value[1],T.value[1]=x}return T})}return c.__iterator(v===K?W:K,E)},h}function wt(c,h,v){var E=Do(c);return E.size=c.size,E.has=function(b){return c.has(b)},E.get=function(b,T){var x=c.get(b,k);return x===k?T:h.call(v,x,b,c)},E.__iterateUncached=function(b,T){var x=this;return c.__iterate(function(P,B,z){return b(h.call(v,P,B,z),B,x)!==!1},T)},E.__iteratorUncached=function(b,T){var x=c.__iterator(oe,T);return new L(function(){var P=x.next();if(P.done)return P;var B=P.value,z=B[0];return V(b,z,h.call(v,B[1],z,c),P)})},E}function xe(c,h){var v=Do(c);return v._iter=c,v.size=c.size,v.reverse=function(){return c},c.flip&&(v.flip=function(){var E=fe(c);return E.reverse=function(){return c.flip()},E}),v.get=function(E,b){return c.get(h?E:-1-E,b)},v.has=function(E){return c.has(h?E:-1-E)},v.includes=function(E){return c.includes(E)},v.cacheResult=f_,v.__iterate=function(E,b){var T=this;return c.__iterate(function(x,P){return E(x,P,T)},!b)},v.__iterator=function(E,b){return c.__iterator(E,!b)},v}function Ot(c,h,v,E){var b=Do(c);return E&&(b.has=function(T){var x=c.get(T,k);return x!==k&&!!h.call(v,x,T,c)},b.get=function(T,x){var P=c.get(T,k);return P!==k&&h.call(v,P,T,c)?P:x}),b.__iterateUncached=function(T,x){var P=this,B=0;return c.__iterate(function(z,q,de){if(h.call(v,z,q,de))return B++,T(z,E?q:B-1,P)},x),B},b.__iteratorUncached=function(T,x){var P=c.__iterator(oe,x),B=0;return new L(function(){for(;;){var z=P.next();if(z.done)return z;var q=z.value,de=q[0],ve=q[1];if(h.call(v,ve,de,c))return V(T,E?de:B++,ve,z)}})},b}function un(c,h,v){var E=Ye().asMutable();return c.__iterate(function(b,T){E.update(h.call(v,b,T,c),0,function(x){return x+1})}),E.asImmutable()}function yn(c,h,v){var E=l(c),b=(p(c)?Bt():Ye()).asMutable();c.__iterate(function(x,P){b.update(h.call(v,x,P,c),function(B){return B=B||[],B.push(E?[P,x]:x),B})});var T=ek(c);return b.map(function(x){return lt(c,T(x))})}function Ct(c,h,v,E){var b=c.size;if(h!==void 0&&(h=h|0),v!==void 0&&(v=v|0),De(h,v,b))return c;var T=Ie(h,b),x=Ae(v,b);if(T!==T||x!==x)return Ct(c.toSeq().cacheResult(),h,v,E);var P=x-T,B;P===P&&(B=P<0?0:P);var z=Do(c);return z.size=B===0?B:c.size&&B||void 0,!E&&Me(c)&&B>=0&&(z.get=function(q,de){return q=ae(this,q),q>=0&&q<B?c.get(q+T,de):de}),z.__iterateUncached=function(q,de){var ve=this;if(B===0)return 0;if(de)return this.cacheResult().__iterate(q,de);var Pe=0,je=!0,zt=0;return c.__iterate(function(no,Oo){if(!(je&&(je=Pe++<T)))return zt++,q(no,E?Oo:zt-1,ve)!==!1&&zt!==B}),zt},z.__iteratorUncached=function(q,de){if(B!==0&&de)return this.cacheResult().__iterator(q,de);var ve=B!==0&&c.__iterator(q,de),Pe=0,je=0;return new L(function(){for(;Pe++<T;)ve.next();if(++je>B)return se();var zt=ve.next();return E||q===K?zt:q===W?V(q,je-1,void 0,zt):V(q,je-1,zt.value[1],zt)})},z}function _r(c,h,v){var E=Do(c);return E.__iterateUncached=function(b,T){var x=this;if(T)return this.cacheResult().__iterate(b,T);var P=0;return c.__iterate(function(B,z,q){return h.call(v,B,z,q)&&++P&&b(B,z,x)}),P},E.__iteratorUncached=function(b,T){var x=this;if(T)return this.cacheResult().__iterator(b,T);var P=c.__iterator(oe,T),B=!0;return new L(function(){if(!B)return se();var z=P.next();if(z.done)return z;var q=z.value,de=q[0],ve=q[1];return h.call(v,ve,de,x)?b===oe?z:V(b,de,ve,z):(B=!1,se())})},E}function Nr(c,h,v,E){var b=Do(c);return b.__iterateUncached=function(T,x){var P=this;if(x)return this.cacheResult().__iterate(T,x);var B=!0,z=0;return c.__iterate(function(q,de,ve){if(!(B&&(B=h.call(v,q,de,ve))))return z++,T(q,E?de:z-1,P)}),z},b.__iteratorUncached=function(T,x){var P=this;if(x)return this.cacheResult().__iterator(T,x);var B=c.__iterator(oe,x),z=!0,q=0;return new L(function(){var de,ve,Pe;do{if(de=B.next(),de.done)return E||T===K?de:T===W?V(T,q++,void 0,de):V(T,q++,de.value[1],de);var je=de.value;ve=je[0],Pe=je[1],z&&(z=h.call(v,Pe,ve,P))}while(z);return T===oe?de:V(T,ve,Pe,de)})},b}function In(c,h){var v=l(c),E=[c].concat(h).map(function(x){return u(x)?v&&(x=o(x)):x=v?bt(x):ze(Array.isArray(x)?x:[x]),x}).filter(function(x){return x.size!==0});if(E.length===0)return c;if(E.length===1){var b=E[0];if(b===c||v&&l(b)||d(c)&&d(b))return b}var T=new Un(E);return v?T=T.toKeyedSeq():d(c)||(T=T.toSetSeq()),T=T.flatten(!0),T.size=E.reduce(function(x,P){if(x!==void 0){var B=P.size;if(B!==void 0)return x+B}},0),T}function Sr(c,h,v){var E=Do(c);return E.__iterateUncached=function(b,T){var x=0,P=!1;function B(z,q){var de=this;z.__iterate(function(ve,Pe){return(!h||q<h)&&u(ve)?B(ve,q+1):b(ve,v?Pe:x++,de)===!1&&(P=!0),!P},T)}return B(c,0),x},E.__iteratorUncached=function(b,T){var x=c.__iterator(b,T),P=[],B=0;return new L(function(){for(;x;){var z=x.next();if(z.done!==!1){x=P.pop();continue}var q=z.value;if(b===oe&&(q=q[1]),(!h||P.length<h)&&u(q))P.push(x),x=q.__iterator(b,T);else return v?z:V(b,B++,q,z)}return se()})},E}function Mr(c,h,v){var E=ek(c);return c.toSeq().map(function(b,T){return E(h.call(v,b,T,c))}).flatten(!0)}function To(c,h){var v=Do(c);return v.size=c.size&&c.size*2-1,v.__iterateUncached=function(E,b){var T=this,x=0;return c.__iterate(function(P,B){return(!x||E(h,x++,T)!==!1)&&E(P,x++,T)!==!1},b),x},v.__iteratorUncached=function(E,b){var T=c.__iterator(K,b),x=0,P;return new L(function(){return(!P||x%2)&&(P=T.next(),P.done)?P:x%2?V(E,x++,h):V(E,x++,P.value,P)})},v}function nr(c,h,v){h||(h=tk);var E=l(c),b=0,T=c.toSeq().map(function(x,P){return[P,x,b++,v?v(x,P,c):x]}).toArray();return T.sort(function(x,P){return h(x[3],P[3])||x[2]-P[2]}).forEach(E?function(x,P){T[P].length=2}:function(x,P){T[P]=x[1]}),E?mt(T):d(c)?ht(T):pn(T)}function Oi(c,h,v){if(h||(h=tk),v){var E=c.toSeq().map(function(b,T){return[b,v(b,T,c)]}).reduce(function(b,T){return rf(h,b[1],T[1])?T:b});return E&&E[0]}else return c.reduce(function(b,T){return rf(h,b,T)?T:b})}function rf(c,h,v){var E=c(v,h);return E===0&&v!==h&&(v==null||v!==v)||E>0}function aa(c,h,v){var E=Do(c);return E.size=new Un(v).map(function(b){return b.size}).min(),E.__iterate=function(b,T){for(var x=this.__iterator(K,T),P,B=0;!(P=x.next()).done&&b(P.value,B++,this)!==!1;);return B},E.__iteratorUncached=function(b,T){var x=v.map(function(z){return z=i(z),Ue(T?z.reverse():z)}),P=0,B=!1;return new L(function(){var z;return B||(z=x.map(function(q){return q.next()}),B=z.some(function(q){return q.done})),B?se():V(b,P++,h.apply(null,z.map(function(q){return q.value})))})},E}function lt(c,h){return Me(c)?h:c.constructor(h)}function JD(c){if(c!==Object(c))throw new TypeError("Expected [K, V] tuple: "+c)}function ZD(c){return wr(c.size),ie(c)}function ek(c){return l(c)?o:d(c)?s:a}function Do(c){return Object.create((l(c)?mt:d(c)?ht:pn).prototype)}function f_(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):nt.prototype.cacheResult.call(this)}function tk(c,h){return c>h?1:c<h?-1:0}function nk(c){var h=Ue(c);if(!h){if(!vr(c))throw new TypeError("Expected iterable or array-like: "+c);h=Ue(i(c))}return h}r(ni,fs);function ni(c,h){var v,E=function(x){if(x instanceof E)return x;if(!(this instanceof E))return new E(x);if(!v){v=!0;var P=Object.keys(c);zV(b,P),b.size=P.length,b._name=h,b._keys=P,b._defaultValues=c}this._map=Ye(x)},b=E.prototype=Object.create(Kn);return b.constructor=E,E}ni.prototype.toString=function(){return this.__toString(rk(this)+" {","}")},ni.prototype.has=function(c){return this._defaultValues.hasOwnProperty(c)},ni.prototype.get=function(c,h){if(!this.has(c))return h;var v=this._defaultValues[c];return this._map?this._map.get(c,v):v},ni.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var c=this.constructor;return c._empty||(c._empty=Wg(this,ki()))},ni.prototype.set=function(c,h){if(!this.has(c))throw new Error('Cannot set unknown key "'+c+'" on '+rk(this));var v=this._map&&this._map.set(c,h);return this.__ownerID||v===this._map?this:Wg(this,v)},ni.prototype.remove=function(c){if(!this.has(c))return this;var h=this._map&&this._map.remove(c);return this.__ownerID||h===this._map?this:Wg(this,h)},ni.prototype.wasAltered=function(){return this._map.wasAltered()},ni.prototype.__iterator=function(c,h){var v=this;return o(this._defaultValues).map(function(E,b){return v.get(b)}).__iterator(c,h)},ni.prototype.__iterate=function(c,h){var v=this;return o(this._defaultValues).map(function(E,b){return v.get(b)}).__iterate(c,h)},ni.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var h=this._map&&this._map.__ensureOwner(c);return c?Wg(this,h,c):(this.__ownerID=c,this._map=h,this)};var Kn=ni.prototype;Kn[w]=Kn.remove,Kn.deleteIn=Kn.removeIn=Ve.removeIn,Kn.merge=Ve.merge,Kn.mergeWith=Ve.mergeWith,Kn.mergeIn=Ve.mergeIn,Kn.mergeDeep=Ve.mergeDeep,Kn.mergeDeepWith=Ve.mergeDeepWith,Kn.mergeDeepIn=Ve.mergeDeepIn,Kn.setIn=Ve.setIn,Kn.update=Ve.update,Kn.updateIn=Ve.updateIn,Kn.withMutations=Ve.withMutations,Kn.asMutable=Ve.asMutable,Kn.asImmutable=Ve.asImmutable;function Wg(c,h,v){var E=Object.create(Object.getPrototypeOf(c));return E._map=h,E.__ownerID=v,E}function rk(c){return c._name||c.constructor.name||"Record"}function zV(c,h){try{h.forEach(KV.bind(void 0,c))}catch{}}function KV(c,h){Object.defineProperty(c,h,{get:function(){return this.get(h)},set:function(v){Ti(this.__ownerID,"Cannot set on an immutable record."),this.set(h,v)}})}r(Ut,na);function Ut(c){return c==null?g_():h_(c)&&!p(c)?c:g_().withMutations(function(h){var v=a(c);wr(v.size),v.forEach(function(E){return h.add(E)})})}Ut.of=function(){return this(arguments)},Ut.fromKeys=function(c){return this(o(c).keySeq())},Ut.prototype.toString=function(){return this.__toString("Set {","}")},Ut.prototype.has=function(c){return this._map.has(c)},Ut.prototype.add=function(c){return p_(this,this._map.set(c,!0))},Ut.prototype.remove=function(c){return p_(this,this._map.remove(c))},Ut.prototype.clear=function(){return p_(this,this._map.clear())},Ut.prototype.union=function(){var c=n.call(arguments,0);return c=c.filter(function(h){return h.size!==0}),c.length===0?this:this.size===0&&!this.__ownerID&&c.length===1?this.constructor(c[0]):this.withMutations(function(h){for(var v=0;v<c.length;v++)a(c[v]).forEach(function(E){return h.add(E)})})},Ut.prototype.intersect=function(){var c=n.call(arguments,0);if(c.length===0)return this;c=c.map(function(v){return a(v)});var h=this;return this.withMutations(function(v){h.forEach(function(E){c.every(function(b){return b.includes(E)})||v.remove(E)})})},Ut.prototype.subtract=function(){var c=n.call(arguments,0);if(c.length===0)return this;c=c.map(function(v){return a(v)});var h=this;return this.withMutations(function(v){h.forEach(function(E){c.some(function(b){return b.includes(E)})&&v.remove(E)})})},Ut.prototype.merge=function(){return this.union.apply(this,arguments)},Ut.prototype.mergeWith=function(c){var h=n.call(arguments,1);return this.union.apply(this,h)},Ut.prototype.sort=function(c){return ko(nr(this,c))},Ut.prototype.sortBy=function(c,h){return ko(nr(this,h,c))},Ut.prototype.wasAltered=function(){return this._map.wasAltered()},Ut.prototype.__iterate=function(c,h){var v=this;return this._map.__iterate(function(E,b){return c(b,b,v)},h)},Ut.prototype.__iterator=function(c,h){return this._map.map(function(v,E){return E}).__iterator(c,h)},Ut.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var h=this._map.__ensureOwner(c);return c?this.__make(h,c):(this.__ownerID=c,this._map=h,this)};function h_(c){return!!(c&&c[ik])}Ut.isSet=h_;var ik="@@__IMMUTABLE_SET__@@",ri=Ut.prototype;ri[ik]=!0,ri[w]=ri.remove,ri.mergeDeep=ri.merge,ri.mergeDeepWith=ri.mergeWith,ri.withMutations=Ve.withMutations,ri.asMutable=Ve.asMutable,ri.asImmutable=Ve.asImmutable,ri.__empty=g_,ri.__make=ok;function p_(c,h){return c.__ownerID?(c.size=h.size,c._map=h,c):h===c._map?c:h.size===0?c.__empty():c.__make(h)}function ok(c,h){var v=Object.create(ri);return v.size=c?c.size:0,v._map=c,v.__ownerID=h,v}var sk;function g_(){return sk||(sk=ok(ki()))}r(ko,Ut);function ko(c){return c==null?m_():ak(c)?c:m_().withMutations(function(h){var v=a(c);wr(v.size),v.forEach(function(E){return h.add(E)})})}ko.of=function(){return this(arguments)},ko.fromKeys=function(c){return this(o(c).keySeq())},ko.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function ak(c){return h_(c)&&p(c)}ko.isOrderedSet=ak;var Hg=ko.prototype;Hg[C]=!0,Hg.__empty=m_,Hg.__make=uk;function uk(c,h){var v=Object.create(Hg);return v.size=c?c.size:0,v._map=c,v.__ownerID=h,v}var lk;function m_(){return lk||(lk=uk(Hl()))}r(ln,Di);function ln(c){return c==null?v_():ck(c)?c:v_().unshiftAll(c)}ln.of=function(){return this(arguments)},ln.prototype.toString=function(){return this.__toString("Stack [","]")},ln.prototype.get=function(c,h){var v=this._head;for(c=ae(this,c);v&&c--;)v=v.next;return v?v.value:h},ln.prototype.peek=function(){return this._head&&this._head.value},ln.prototype.push=function(){if(arguments.length===0)return this;for(var c=this.size+arguments.length,h=this._head,v=arguments.length-1;v>=0;v--)h={value:arguments[v],next:h};return this.__ownerID?(this.size=c,this._head=h,this.__hash=void 0,this.__altered=!0,this):of(c,h)},ln.prototype.pushAll=function(c){if(c=s(c),c.size===0)return this;wr(c.size);var h=this.size,v=this._head;return c.reverse().forEach(function(E){h++,v={value:E,next:v}}),this.__ownerID?(this.size=h,this._head=v,this.__hash=void 0,this.__altered=!0,this):of(h,v)},ln.prototype.pop=function(){return this.slice(1)},ln.prototype.unshift=function(){return this.push.apply(this,arguments)},ln.prototype.unshiftAll=function(c){return this.pushAll(c)},ln.prototype.shift=function(){return this.pop.apply(this,arguments)},ln.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):v_()},ln.prototype.slice=function(c,h){if(De(c,h,this.size))return this;var v=Ie(c,this.size),E=Ae(h,this.size);if(E!==this.size)return Di.prototype.slice.call(this,c,h);for(var b=this.size-v,T=this._head;v--;)T=T.next;return this.__ownerID?(this.size=b,this._head=T,this.__hash=void 0,this.__altered=!0,this):of(b,T)},ln.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?of(this.size,this._head,c,this.__hash):(this.__ownerID=c,this.__altered=!1,this)},ln.prototype.__iterate=function(c,h){if(h)return this.reverse().__iterate(c);for(var v=0,E=this._head;E&&c(E.value,v++,this)!==!1;)E=E.next;return v},ln.prototype.__iterator=function(c,h){if(h)return this.reverse().__iterator(c);var v=0,E=this._head;return new L(function(){if(E){var b=E.value;return E=E.next,V(c,v++,b)}return se()})};function ck(c){return!!(c&&c[dk])}ln.isStack=ck;var dk="@@__IMMUTABLE_STACK__@@",ql=ln.prototype;ql[dk]=!0,ql.withMutations=Ve.withMutations,ql.asMutable=Ve.asMutable,ql.asImmutable=Ve.asImmutable,ql.wasAltered=Ve.wasAltered;function of(c,h,v,E){var b=Object.create(ql);return b.size=c,b._head=h,b.__ownerID=v,b.__hash=E,b.__altered=!1,b}var fk;function v_(){return fk||(fk=of(0))}function xo(c,h){var v=function(E){c.prototype[E]=h[E]};return Object.keys(h).forEach(v),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(h).forEach(v),c}i.Iterator=L,xo(i,{toArray:function(){wr(this.size);var c=new Array(this.size||0);return this.valueSeq().__iterate(function(h,v){c[v]=h}),c},toIndexedSeq:function(){return new D(this)},toJS:function(){return this.toSeq().map(function(c){return c&&typeof c.toJS=="function"?c.toJS():c}).__toJS()},toJSON:function(){return this.toSeq().map(function(c){return c&&typeof c.toJSON=="function"?c.toJSON():c}).__toJS()},toKeyedSeq:function(){return new Pr(this,!0)},toMap:function(){return Ye(this.toKeyedSeq())},toObject:function(){wr(this.size);var c={};return this.__iterate(function(h,v){c[v]=h}),c},toOrderedMap:function(){return Bt(this.toKeyedSeq())},toOrderedSet:function(){return ko(l(this)?this.valueSeq():this)},toSet:function(){return Ut(l(this)?this.valueSeq():this)},toSetSeq:function(){return new R(this)},toSeq:function(){return d(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ln(l(this)?this.valueSeq():this)},toList:function(){return ut(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(c,h){return this.size===0?c+h:c+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+h},concat:function(){var c=n.call(arguments,0);return lt(this,In(this,c))},includes:function(c){return this.some(function(h){return It(h,c)})},entries:function(){return this.__iterator(oe)},every:function(c,h){wr(this.size);var v=!0;return this.__iterate(function(E,b,T){if(!c.call(h,E,b,T))return v=!1,!1}),v},filter:function(c,h){return lt(this,Ot(this,c,h,!0))},find:function(c,h,v){var E=this.findEntry(c,h);return E?E[1]:v},findEntry:function(c,h){var v;return this.__iterate(function(E,b,T){if(c.call(h,E,b,T))return v=[b,E],!1}),v},findLastEntry:function(c,h){return this.toSeq().reverse().findEntry(c,h)},forEach:function(c,h){return wr(this.size),this.__iterate(h?c.bind(h):c)},join:function(c){wr(this.size),c=c!==void 0?""+c:",";var h="",v=!0;return this.__iterate(function(E){v?v=!1:h+=c,h+=E!=null?E.toString():""}),h},keys:function(){return this.__iterator(W)},map:function(c,h){return lt(this,wt(this,c,h))},reduce:function(c,h,v){wr(this.size);var E,b;return arguments.length<2?b=!0:E=h,this.__iterate(function(T,x,P){b?(b=!1,E=T):E=c.call(v,E,T,x,P)}),E},reduceRight:function(c,h,v){var E=this.toKeyedSeq().reverse();return E.reduce.apply(E,arguments)},reverse:function(){return lt(this,xe(this,!0))},slice:function(c,h){return lt(this,Ct(this,c,h,!0))},some:function(c,h){return!this.every(Gg(c),h)},sort:function(c){return lt(this,nr(this,c))},values:function(){return this.__iterator(K)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(c,h){return ie(c?this.toSeq().filter(c,h):this)},countBy:function(c,h){return un(this,c,h)},equals:function(c){return Kl(this,c)},entrySeq:function(){var c=this;if(c._cache)return new Un(c._cache);var h=c.toSeq().map(jV).toIndexedSeq();return h.fromEntrySeq=function(){return c.toSeq()},h},filterNot:function(c,h){return this.filter(Gg(c),h)},findLast:function(c,h,v){return this.toKeyedSeq().reverse().find(c,h,v)},first:function(){return this.find(_e)},flatMap:function(c,h){return lt(this,Mr(this,c,h))},flatten:function(c){return lt(this,Sr(this,c,!0))},fromEntrySeq:function(){return new H(this)},get:function(c,h){return this.find(function(v,E){return It(E,c)},void 0,h)},getIn:function(c,h){for(var v=this,E=nk(c),b;!(b=E.next()).done;){var T=b.value;if(v=v&&v.get?v.get(T,k):k,v===k)return h}return v},groupBy:function(c,h){return yn(this,c,h)},has:function(c){return this.get(c,k)!==k},hasIn:function(c){return this.getIn(c,k)!==k},isSubset:function(c){return c=typeof c.includes=="function"?c:i(c),this.every(function(h){return c.includes(h)})},isSuperset:function(c){return c=typeof c.isSubset=="function"?c:i(c),c.isSubset(this)},keySeq:function(){return this.toSeq().map(VV).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(c){return Oi(this,c)},maxBy:function(c,h){return Oi(this,h,c)},min:function(c){return Oi(this,c?hk(c):gk)},minBy:function(c,h){return Oi(this,h?hk(h):gk,c)},rest:function(){return this.slice(1)},skip:function(c){return this.slice(Math.max(0,c))},skipLast:function(c){return lt(this,this.toSeq().reverse().skip(c).reverse())},skipWhile:function(c,h){return lt(this,Nr(this,c,h,!0))},skipUntil:function(c,h){return this.skipWhile(Gg(c),h)},sortBy:function(c,h){return lt(this,nr(this,h,c))},take:function(c){return this.slice(0,Math.max(0,c))},takeLast:function(c){return lt(this,this.toSeq().reverse().take(c).reverse())},takeWhile:function(c,h){return lt(this,_r(this,c,h))},takeUntil:function(c,h){return this.takeWhile(Gg(c),h)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=HV(this))}});var rr=i.prototype;rr[g]=!0,rr[J]=rr.values,rr.__toJS=rr.toArray,rr.__toStringMapper=pk,rr.inspect=rr.toSource=function(){return this.toString()},rr.chain=rr.flatMap,rr.contains=rr.includes,function(){try{Object.defineProperty(rr,"length",{get:function(){if(!i.noLengthWarning){var c;try{throw new Error}catch(h){c=h.stack}if(c.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+c),this.size}}})}catch{}}(),xo(o,{flip:function(){return lt(this,fe(this))},findKey:function(c,h){var v=this.findEntry(c,h);return v&&v[0]},findLastKey:function(c,h){return this.toSeq().reverse().findKey(c,h)},keyOf:function(c){return this.findKey(function(h){return It(h,c)})},lastKeyOf:function(c){return this.findLastKey(function(h){return It(h,c)})},mapEntries:function(c,h){var v=this,E=0;return lt(this,this.toSeq().map(function(b,T){return c.call(h,[T,b],E++,v)}).fromEntrySeq())},mapKeys:function(c,h){var v=this;return lt(this,this.toSeq().flip().map(function(E,b){return c.call(h,E,b,v)}).flip())}});var qg=o.prototype;qg[m]=!0,qg[J]=rr.entries,qg.__toJS=rr.toObject,qg.__toStringMapper=function(c,h){return JSON.stringify(h)+": "+pk(c)},xo(s,{toKeyedSeq:function(){return new Pr(this,!1)},filter:function(c,h){return lt(this,Ot(this,c,h,!1))},findIndex:function(c,h){var v=this.findEntry(c,h);return v?v[0]:-1},indexOf:function(c){var h=this.toKeyedSeq().keyOf(c);return h===void 0?-1:h},lastIndexOf:function(c){var h=this.toKeyedSeq().reverse().keyOf(c);return h===void 0?-1:h},reverse:function(){return lt(this,xe(this,!1))},slice:function(c,h){return lt(this,Ct(this,c,h,!1))},splice:function(c,h){var v=arguments.length;if(h=Math.max(h|0,0),v===0||v===2&&!h)return this;c=Ie(c,c<0?this.count():this.size);var E=this.slice(0,c);return lt(this,v===1?E:E.concat(Q(arguments,2),this.slice(c+h)))},findLastIndex:function(c,h){var v=this.toKeyedSeq().findLastKey(c,h);return v===void 0?-1:v},first:function(){return this.get(0)},flatten:function(c){return lt(this,Sr(this,c,!1))},get:function(c,h){return c=ae(this,c),c<0||this.size===1/0||this.size!==void 0&&c>this.size?h:this.find(function(v,E){return E===c},void 0,h)},has:function(c){return c=ae(this,c),c>=0&&(this.size!==void 0?this.size===1/0||c<this.size:this.indexOf(c)!==-1)},interpose:function(c){return lt(this,To(this,c))},interleave:function(){var c=[this].concat(Q(arguments)),h=aa(this.toSeq(),ht.of,c),v=h.flatten(!0);return h.size&&(v.size=h.size*c.length),lt(this,v)},last:function(){return this.get(-1)},skipWhile:function(c,h){return lt(this,Nr(this,c,h,!1))},zip:function(){var c=[this].concat(Q(arguments));return lt(this,aa(this,WV,c))},zipWith:function(c){var h=Q(arguments);return h[0]=this,lt(this,aa(this,c,h))}}),s.prototype[_]=!0,s.prototype[C]=!0,xo(a,{get:function(c,h){return this.has(c)?c:h},includes:function(c){return this.has(c)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=rr.includes,xo(mt,o.prototype),xo(ht,s.prototype),xo(pn,a.prototype),xo(fs,o.prototype),xo(Di,s.prototype),xo(na,a.prototype);function VV(c,h){return h}function jV(c,h){return[h,c]}function Gg(c){return function(){return!c.apply(this,arguments)}}function hk(c){return function(){return-c.apply(this,arguments)}}function pk(c){return typeof c=="string"?JSON.stringify(c):c}function WV(){return Q(arguments)}function gk(c,h){return c<h?1:c>h?-1:0}function HV(c){if(c.size===1/0)return 0;var h=p(c),v=l(c),E=h?1:0,b=c.__iterate(v?h?function(T,x){E=31*E+mk(vn(T),vn(x))|0}:function(T,x){E=E+mk(vn(T),vn(x))|0}:h?function(T){E=31*E+vn(T)|0}:function(T){E=E+vn(T)|0});return qV(b,E)}function qV(c,h){return h=hs(h,3432918353),h=hs(h<<15|h>>>-15,461845907),h=hs(h<<13|h>>>-13,5),h=(h+3864292196|0)^c,h=hs(h^h>>>16,2246822507),h=hs(h^h>>>13,3266489909),h=hu(h^h>>>16),h}function mk(c,h){return c^h+2654435769+(c<<6)+(c>>2)|0}var GV={Iterable:i,Seq:nt,Collection:Co,Map:Ye,OrderedMap:Bt,List:ut,Stack:ln,Set:Ut,OrderedSet:ko,Record:ni,Range:mn,Repeat:gn,is:It,fromJS:cs};return GV})})(st);var tG=st.exports,nG=tG.OrderedMap,rG={createFromArray:function(e){return nG(e.map(function(n){return[n.getKey(),n]}))}},Up=rG;function iG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var vI=st.exports,o1=vI.Map,s1=vI.OrderedSet,oG=vI.Record,h$=s1(),p$={style:h$,entity:null},sG=oG(p$),yI=function(t){iG(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getStyle=function(){return this.get("style")},n.getEntity=function(){return this.get("entity")},n.hasStyle=function(i){return this.getStyle().includes(i)},e.applyStyle=function(i,o){var s=i.set("style",i.getStyle().add(o));return e.create(s)},e.removeStyle=function(i,o){var s=i.set("style",i.getStyle().remove(o));return e.create(s)},e.applyEntity=function(i,o){var s=i.getEntity()===o?i:i.set("entity",o);return e.create(s)},e.create=function(i){if(!i)return wI;var o={style:h$,entity:null},s=o1(o).merge(i),a=iS.get(s);if(a)return a;var u=new e(s);return iS=iS.set(s,u),u},e.fromJS=function(i){var o=i.style,s=i.entity;return new e({style:Array.isArray(o)?s1(o):o,entity:Array.isArray(s)?s1(s):s})},e}(sG),wI=new yI,iS=o1([[o1(p$),wI]]);yI.EMPTY=wI;var Wi=yI;function aG(t,e,n,r){if(!!t.size){var i=0;t.reduce(function(o,s,a){return e(o,s)||(n(o)&&r(i,a),i=a),s}),n(t.last())&&r(i,t.count())}}var zp=aG;function uG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var lG=Wi,cO=zp,Kp=st.exports,g$=Kp.List,cG=Kp.Map,dG=Kp.OrderedSet,fG=Kp.Record,hG=Kp.Repeat,pG=dG(),gG={key:"",type:"unstyled",text:"",characterList:g$(),depth:0,data:cG()},mG=fG(gG),vG=function(e){if(!e)return e;var n=e.characterList,r=e.text;return r&&!n&&(e.characterList=g$(hG(lG.EMPTY,r.length))),e},yG=function(t){uG(e,t);function e(r){return t.call(this,vG(r))||this}var n=e.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(i){var o=this.getCharacterList().get(i);return o?o.getStyle():pG},n.getEntityAt=function(i){var o=this.getCharacterList().get(i);return o?o.getEntity():null},n.findStyleRanges=function(i,o){cO(this.getCharacterList(),wG,i,o)},n.findEntityRanges=function(i,o){cO(this.getCharacterList(),_G,i,o)},e}(mG);function wG(t,e){return t.getStyle()===e.getStyle()}function _G(t,e){return t.getEntity()===e.getEntity()}var kl=yG;function SG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var EG=Wi,dO=zp,Vp=st.exports,a1=Vp.List,CG=Vp.Map,bG=Vp.OrderedSet,IG=Vp.Record,TG=Vp.Repeat,DG=bG(),fO={parent:null,characterList:a1(),data:CG(),depth:0,key:"",text:"",type:"unstyled",children:a1(),prevSibling:null,nextSibling:null},kG=function(e,n){return e.getStyle()===n.getStyle()},xG=function(e,n){return e.getEntity()===n.getEntity()},OG=function(e){if(!e)return e;var n=e.characterList,r=e.text;return r&&!n&&(e.characterList=a1(TG(EG.EMPTY,r.length))),e},AG=function(t){SG(e,t);function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fO;return t.call(this,OG(r))||this}var n=e.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(i){var o=this.getCharacterList().get(i);return o?o.getStyle():DG},n.getEntityAt=function(i){var o=this.getCharacterList().get(i);return o?o.getEntity():null},n.getChildKeys=function(){return this.get("children")},n.getParentKey=function(){return this.get("parent")},n.getPrevSiblingKey=function(){return this.get("prevSibling")},n.getNextSiblingKey=function(){return this.get("nextSibling")},n.findStyleRanges=function(i,o){dO(this.getCharacterList(),kG,i,o)},n.findEntityRanges=function(i,o){dO(this.getCharacterList(),xG,i,o)},e}(IG(fO)),Hi=AG,hO=Wi,RG=st.exports,PG=RG.Map,NG={add:function(e,n,r){return pO(e,n,r,!0)},remove:function(e,n,r){return pO(e,n,r,!1)}};function pO(t,e,n,r){var i=t.getBlockMap(),o=e.getStartKey(),s=e.getStartOffset(),a=e.getEndKey(),u=e.getEndOffset(),l=i.skipUntil(function(d,f){return f===o}).takeUntil(function(d,f){return f===a}).concat(PG([[a,i.get(a)]])).map(function(d,f){var p,g;o===a?(p=s,g=u):(p=f===o?s:0,g=f===a?u:d.getLength());for(var m=d.getCharacterList(),_;p<g;)_=m.get(p),m=m.set(p,r?hO.applyStyle(_,n):hO.removeStyle(_,n)),p++;return d.set("characterList",m)});return t.merge({blockMap:i.merge(l),selectionBefore:e,selectionAfter:e})}var MG=NG,FG=Wi;function LG(t,e,n,r){for(var i=e,o=t.getCharacterList();i<n;)o=o.set(i,FG.applyEntity(o.get(i),r)),i++;return t.set("characterList",o)}var $G=LG,BG=$G,UG=st.exports;function zG(t,e,n){var r=t.getBlockMap(),i=e.getStartKey(),o=e.getStartOffset(),s=e.getEndKey(),a=e.getEndOffset(),u=r.skipUntil(function(l,d){return d===i}).takeUntil(function(l,d){return d===s}).toOrderedMap().merge(UG.OrderedMap([[s,r.get(s)]])).map(function(l,d){var f=d===i?o:0,p=d===s?a:l.getLength();return BG(l,f,p,n)});return t.merge({blockMap:r.merge(u),selectionBefore:e,selectionAfter:e})}var KG=zG,VG={getRemovalRange:function(e,n,r,i,o){var s=r.split(" ");s=s.map(function(C,w){if(o==="forward"){if(w>0)return" "+C}else if(w<s.length-1)return C+" ";return C});for(var a=i,u,l,d=null,f=null,p=0;p<s.length;p++){if(l=s[p],u=a+l.length,e<u&&a<n)d!==null||(d=a),f=u;else if(d!==null)break;a=u}var g=i+r.length,m=d===i,_=f===g;return(!m&&_||m&&!_)&&(o==="forward"?f!==g&&f++:d!==i&&d--),{start:d,end:f}}},jG=VG;function WG(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!t){var o;if(e===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;o=new Error(e.replace(/%s/g,function(){return String(r[s++])})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var gt=WG,HG=gt;function qG(t,e){var n=[];return t.findEntityRanges(function(r){return r.getEntity()===e},function(r,i){n.push({start:r,end:i})}),n.length||HG(!1),n}var GG=qG,YG=jG,QG=GG,XG=gt;function JG(t,e,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),a=e.getEntityAt(o),u=n.getEntityAt(s-1);if(!a&&!u)return r;var l=r;if(a&&a===u)l=mf(t,e,l,i,a,!0,!0);else if(a&&u){var d=mf(t,e,l,i,a,!1,!0),f=mf(t,n,l,i,u,!1,!1);l=l.merge({anchorOffset:d.getAnchorOffset(),focusOffset:f.getFocusOffset(),isBackward:!1})}else if(a){var p=mf(t,e,l,i,a,!1,!0);l=l.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(u){var g=mf(t,n,l,i,u,!1,!1);l=l.merge({focusOffset:g.getEndOffset(),isBackward:!1})}return l}function mf(t,e,n,r,i,o,s){var a=n.getStartOffset(),u=n.getEndOffset(),l=t.__get(i),d=l.getMutability(),f=s?a:u;if(d==="MUTABLE")return n;var p=QG(e,i).filter(function(_){return f<=_.end&&f>=_.start});p.length!=1&&XG(!1);var g=p[0];if(d==="IMMUTABLE")return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});o||(s?u=g.end:a=g.start);var m=YG.getRemovalRange(a,u,e.getText().slice(g.start,g.end),g.start,r);return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1})}var ZG=JG,gO={},e9=Math.pow(2,24);function t9(){for(var t;t===void 0||gO.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*e9).toString(32);return gO[t]=!0,t}var os=t9,n9=Hi,m$=os,r9=st.exports,v$=r9.OrderedMap,i9=function(e){var n={},r;return v$(e.withMutations(function(i){i.forEach(function(o,s){var a=o.getKey(),u=o.getNextSiblingKey(),l=o.getPrevSiblingKey(),d=o.getChildKeys(),f=o.getParentKey(),p=m$();if(n[a]=p,u){var g=i.get(u);g?i.setIn([u,"prevSibling"],p):i.setIn([a,"nextSibling"],null)}if(l){var m=i.get(l);m?i.setIn([l,"nextSibling"],p):i.setIn([a,"prevSibling"],null)}if(f&&i.get(f)){var _=i.get(f),C=_.getChildKeys();i.setIn([f,"children"],C.set(C.indexOf(o.getKey()),p))}else i.setIn([a,"parent"],null),r&&(i.setIn([r.getKey(),"nextSibling"],p),i.setIn([a,"prevSibling"],n[r.getKey()])),r=i.get(a);d.forEach(function(w){var y=i.get(w);y?i.setIn([w,"parent"],p):i.setIn([a,"children"],o.getChildKeys().filter(function(S){return S!==w}))})})}).toArray().map(function(i){return[n[i.getKey()],i.set("key",n[i.getKey()])]}))},o9=function(e){return v$(e.toArray().map(function(n){var r=m$();return[r,n.set("key",r)]}))},s9=function(e){var n=e.first()instanceof n9;return n?i9(e):o9(e)},y$=s9,a9=Wi,u9=zp,l9=gt;function c9(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},o=e.getStartKey(),s=e.getStartOffset(),a=n.get(o),u=mO(r,a,s);u!==a&&(i[o]=u);var l=e.getEndKey(),d=e.getEndOffset(),f=n.get(l);o===l&&(f=u);var p=mO(r,f,d);return p!==f&&(i[l]=p),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set("selectionAfter",e)}function d9(t,e,n){var r;return u9(t,function(i,o){return i.getEntity()===o.getEntity()},function(i){return i.getEntity()===e},function(i,o){i<=n&&o>=n&&(r={start:i,end:o})}),typeof r!="object"&&l9(!1),r}function mO(t,e,n){var r=e.getCharacterList(),i=n>0?r.get(n-1):void 0,o=n<r.count()?r.get(n):void 0,s=i?i.getEntity():void 0,a=o?o.getEntity():void 0;if(a&&a===s){var u=t.__get(a);if(u.getMutability()!=="MUTABLE"){for(var l=d9(r,a,n),d=l.start,f=l.end,p;d<f;)p=r.get(d),r=r.set(d,a9.applyEntity(p,null)),d++;return e.set("characterList",r)}}return e}var w$=c9,f9=y$,h9=w$,p9=function(e,n){var r=n.getStartKey(),i=n.getStartOffset(),o=n.getEndKey(),s=n.getEndOffset(),a=h9(e,n),u=a.getBlockMap(),l=u.keySeq(),d=l.indexOf(r),f=l.indexOf(o)+1;return f9(u.slice(d,f).map(function(p,g){var m=p.getText(),_=p.getCharacterList();return r===o?p.merge({text:m.slice(i,s),characterList:_.slice(i,s)}):g===r?p.merge({text:m.slice(i),characterList:_.slice(i)}):g===o?p.merge({text:m.slice(0,s),characterList:_.slice(0,s)}):p}))},K0=p9;function g9(t,e,n){var r=t;if(n===r.count())e.forEach(function(s){r=r.push(s)});else if(n===0)e.reverse().forEach(function(s){r=r.unshift(s)});else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(e,o).toList()}return r}var _$=g9,m9=Up,S$=Hi,v9=st.exports,y9=_$,vO=gt,w9=y$,_9=v9.List,S9=function(e,n,r,i,o,s){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",u=r.get(o),l=u.getText(),d=u.getCharacterList(),f=o,p=s+i.getText().length,g=null;switch(a){case"MERGE_OLD_DATA_TO_NEW_DATA":g=i.getData().merge(u.getData());break;case"REPLACE_WITH_NEW_DATA":g=i.getData();break}var m=u.getType();l&&m==="unstyled"&&(m=i.getType());var _=u.merge({text:l.slice(0,s)+i.getText()+l.slice(s),characterList:y9(d,i.getCharacterList(),s),type:m,data:g});return e.merge({blockMap:r.set(o,_),selectionBefore:n,selectionAfter:n.merge({anchorKey:f,anchorOffset:p,focusKey:f,focusOffset:p,isBackward:!1})})},E9=function(e,n,r){var i=e.getText(),o=e.getCharacterList(),s=i.slice(0,n),a=o.slice(0,n),u=r.first();return e.merge({text:s+u.getText(),characterList:a.concat(u.getCharacterList()),type:s?e.getType():u.getType(),data:u.getData()})},C9=function(e,n,r){var i=e.getText(),o=e.getCharacterList(),s=i.length,a=i.slice(n,s),u=o.slice(n,s),l=r.last();return l.merge({text:l.getText()+a,characterList:l.getCharacterList().concat(u),data:l.getData()})},b9=function(e,n){var r=e.getKey(),i=e,o=[];for(n.get(r)&&o.push(r);i&&i.getNextSiblingKey();){var s=i.getNextSiblingKey();if(!s)break;o.push(s),i=n.get(s)}return o},I9=function(e,n,r,i){return e.withMutations(function(o){var s=r.getKey(),a=i.getKey(),u=r.getNextSiblingKey(),l=r.getParentKey(),d=b9(i,e),f=d[d.length-1];if(o.get(a)?(o.setIn([s,"nextSibling"],a),o.setIn([a,"prevSibling"],s)):(o.setIn([s,"nextSibling"],i.getNextSiblingKey()),o.setIn([i.getNextSiblingKey(),"prevSibling"],s)),o.setIn([f,"nextSibling"],u),u&&o.setIn([u,"prevSibling"],f),d.forEach(function(w){return o.setIn([w,"parent"],l)}),l){var p=e.get(l),g=p.getChildKeys(),m=g.indexOf(s),_=m+1,C=g.toArray();C.splice.apply(C,[_,0].concat(d)),o.setIn([l,"children"],_9(C))}})},T9=function(e,n,r,i,o,s){var a=r.first()instanceof S$,u=[],l=i.size,d=r.get(o),f=i.first(),p=i.last(),g=p.getLength(),m=p.getKey(),_=a&&(!d.getChildKeys().isEmpty()||!f.getChildKeys().isEmpty());r.forEach(function(w,y){if(y!==o){u.push(w);return}_?u.push(w):u.push(E9(w,s,i)),i.slice(_?0:1,l-1).forEach(function(S){return u.push(S)}),u.push(C9(w,s,i))});var C=m9.createFromArray(u);return a&&(C=I9(C,r,d,f)),e.merge({blockMap:C,selectionBefore:n,selectionAfter:n.merge({anchorKey:m,anchorOffset:g,focusKey:m,focusOffset:g,isBackward:!1})})},D9=function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";n.isCollapsed()||vO(!1);var o=e.getBlockMap(),s=w9(r),a=n.getStartKey(),u=n.getStartOffset(),l=o.get(a);return l instanceof S$&&(l.getChildKeys().isEmpty()||vO(!1)),s.size===1?S9(e,n,o,s.first(),a,u,i):T9(e,n,o,s,a,u)},k9=D9,x9=st.exports,O9=_$,A9=gt,R9=x9.Repeat;function P9(t,e,n,r){e.isCollapsed()||A9(!1);var i=null;if(n!=null&&(i=n.length),i==null||i===0)return t;var o=t.getBlockMap(),s=e.getStartKey(),a=e.getStartOffset(),u=o.get(s),l=u.getText(),d=u.merge({text:l.slice(0,a)+n+l.slice(a,u.getLength()),characterList:O9(u.getCharacterList(),R9(r,i).toList(),a)}),f=a+i;return t.merge({blockMap:o.set(s,d),selectionAfter:e.merge({anchorOffset:f,focusOffset:f})})}var N9=P9,M9=st.exports,F9=M9.Map;function L9(t,e,n){var r=e.getStartKey(),i=e.getEndKey(),o=t.getBlockMap(),s=o.toSeq().skipUntil(function(a,u){return u===r}).takeUntil(function(a,u){return u===i}).concat(F9([[i,o.get(i)]])).map(n);return t.merge({blockMap:o.merge(s),selectionBefore:e,selectionAfter:e})}var E$=L9,$9=Hi,B9=function(e,n){var r=e instanceof $9;if(!r)return null;var i=e.getNextSiblingKey();if(i)return i;var o=e.getParentKey();if(!o)return null;for(var s=n.get(o);s&&!s.getNextSiblingKey();){var a=s.getParentKey();s=a?n.get(a):null}return s?s.getNextSiblingKey():null},C$=B9,U9=Hi,u1=C$,b$=st.exports;b$.List;var yO=b$.Map,Fr=function(e,n,r){if(!!e){var i=n.get(e);!i||n.set(e,r(i))}},sy=function(e,n){var r=[];if(!e)return r;for(var i=n.get(e);i&&i.getParentKey();){var o=i.getParentKey();o&&r.push(o),i=o?n.get(o):null}return r},z9=function(e,n){var r=[];if(!e)return r;for(var i=u1(e,n);i&&n.get(i);){var o=n.get(i);r.push(i),i=o.getParentKey()?u1(o,n):null}return r},Ql=function(e,n,r){if(!e)return null;for(var i=r.get(e.getKey()).getNextSiblingKey();i&&!n.get(i);)i=r.get(i).getNextSiblingKey()||null;return i},Xl=function(e,n,r){if(!e)return null;for(var i=r.get(e.getKey()).getPrevSiblingKey();i&&!n.get(i);)i=r.get(i).getPrevSiblingKey()||null;return i},K9=function(e,n,r,i){return e.withMutations(function(o){if(Fr(n.getKey(),o,function(d){return d.merge({nextSibling:Ql(d,o,i),prevSibling:Xl(d,o,i)})}),Fr(r.getKey(),o,function(d){return d.merge({nextSibling:Ql(d,o,i),prevSibling:Xl(d,o,i)})}),sy(n.getKey(),i).forEach(function(d){return Fr(d,o,function(f){return f.merge({children:f.getChildKeys().filter(function(p){return o.get(p)}),nextSibling:Ql(f,o,i),prevSibling:Xl(f,o,i)})})}),Fr(n.getNextSiblingKey(),o,function(d){return d.merge({prevSibling:n.getPrevSiblingKey()})}),Fr(n.getPrevSiblingKey(),o,function(d){return d.merge({nextSibling:Ql(d,o,i)})}),Fr(r.getNextSiblingKey(),o,function(d){return d.merge({prevSibling:Xl(d,o,i)})}),Fr(r.getPrevSiblingKey(),o,function(d){return d.merge({nextSibling:r.getNextSiblingKey()})}),sy(r.getKey(),i).forEach(function(d){Fr(d,o,function(f){return f.merge({children:f.getChildKeys().filter(function(p){return o.get(p)}),nextSibling:Ql(f,o,i),prevSibling:Xl(f,o,i)})})}),z9(r,i).forEach(function(d){return Fr(d,o,function(f){return f.merge({nextSibling:Ql(f,o,i),prevSibling:Xl(f,o,i)})})}),e.get(n.getKey())==null&&e.get(r.getKey())!=null&&r.getParentKey()===n.getKey()&&r.getPrevSiblingKey()==null){var s=n.getPrevSiblingKey();Fr(r.getKey(),o,function(d){return d.merge({prevSibling:s})}),Fr(s,o,function(d){return d.merge({nextSibling:r.getKey()})});var a=s?e.get(s):null,u=a?a.getParentKey():null;if(n.getChildKeys().forEach(function(d){Fr(d,o,function(f){return f.merge({parent:u})})}),u!=null){var l=e.get(u);Fr(u,o,function(d){return d.merge({children:l.getChildKeys().concat(n.getChildKeys())})})}Fr(n.getChildKeys().find(function(d){var f=e.get(d);return f.getNextSiblingKey()===null}),o,function(d){return d.merge({nextSibling:n.getNextSiblingKey()})})}})},V9=function(e,n){if(n.isCollapsed())return e;var r=e.getBlockMap(),i=n.getStartKey(),o=n.getStartOffset(),s=n.getEndKey(),a=n.getEndOffset(),u=r.get(i),l=r.get(s),d=u instanceof U9,f=[];if(d){var p=l.getChildKeys(),g=sy(s,r);l.getNextSiblingKey()&&(f=f.concat(g)),p.isEmpty()||(f=f.concat(g.concat([s]))),f=f.concat(sy(u1(l,r),r))}var m;u===l?m=j9(u.getCharacterList(),o,a):m=u.getCharacterList().slice(0,o).concat(l.getCharacterList().slice(a));var _=u.merge({text:u.getText().slice(0,o)+l.getText().slice(a),characterList:m}),C=d&&o===0&&a===0&&l.getParentKey()===i&&l.getPrevSiblingKey()==null,w=C?yO([[i,null]]):r.toSeq().skipUntil(function(S,I){return I===i}).takeUntil(function(S,I){return I===s}).filter(function(S,I){return f.indexOf(I)===-1}).concat(yO([[s,null]])).map(function(S,I){return I===i?_:null}),y=r.merge(w).filter(function(S){return!!S});return d&&u!==l&&(y=K9(y,u,l,r)),e.merge({blockMap:y,selectionBefore:n,selectionAfter:n.merge({anchorKey:i,anchorOffset:o,focusKey:i,focusOffset:o,isBackward:!1})})},j9=function(e,n,r){if(n===0)for(;n<r;)e=e.shift(),n++;else if(r===e.count())for(;r>n;)e=e.pop(),r--;else{var i=e.slice(0,n),o=e.slice(r);e=i.concat(o).toList()}return e},W9=V9,H9=Hi,q9=os,I$=st.exports,wO=gt,G9=E$,Y9=I$.List,Q9=I$.Map,mm=function(e,n,r){if(!!e){var i=n.get(e);!i||n.set(e,r(i))}},X9=function(e,n,r){return e.withMutations(function(i){var o=n.getKey(),s=r.getKey();mm(n.getParentKey(),i,function(a){var u=a.getChildKeys(),l=u.indexOf(o)+1,d=u.toArray();return d.splice(l,0,s),a.merge({children:Y9(d)})}),mm(n.getNextSiblingKey(),i,function(a){return a.merge({prevSibling:s})}),mm(o,i,function(a){return a.merge({nextSibling:s})}),mm(s,i,function(a){return a.merge({prevSibling:o})})})},J9=function(e,n){n.isCollapsed()||wO(!1);var r=n.getAnchorKey(),i=e.getBlockMap(),o=i.get(r),s=o.getText();if(!s){var a=o.getType();if(a==="unordered-list-item"||a==="ordered-list-item")return G9(e,n,function(w){return w.merge({type:"unstyled",depth:0})})}var u=n.getAnchorOffset(),l=o.getCharacterList(),d=q9(),f=o instanceof H9,p=o.merge({text:s.slice(0,u),characterList:l.slice(0,u)}),g=p.merge({key:d,text:s.slice(u),characterList:l.slice(u),data:Q9()}),m=i.toSeq().takeUntil(function(w){return w===o}),_=i.toSeq().skipUntil(function(w){return w===o}).rest(),C=m.concat([[r,p],[d,g]],_).toOrderedMap();return f&&(o.getChildKeys().isEmpty()||wO(!1),C=X9(C,p,g)),e.merge({blockMap:C,selectionBefore:n,selectionAfter:n.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1})})},Z9=J9,eY=Wi,_O=MG,tY=KG,nY=ZG,rY=K0,iY=st.exports,oY=k9,sY=N9,aY=gt,oS=E$,vf=w$,yf=W9,uY=Z9,lY=iY.OrderedSet,fv={replaceText:function(e,n,r,i,o){var s=vf(e,n),a=yf(s,n),u=eY.create({style:i||lY(),entity:o||null});return sY(a,a.getSelectionAfter(),r,u)},insertText:function(e,n,r,i,o){return n.isCollapsed()||aY(!1),fv.replaceText(e,n,r,i,o)},moveText:function(e,n,r){var i=rY(e,n),o=fv.removeRange(e,n,"backward");return fv.replaceWithFragment(o,r,i)},replaceWithFragment:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",o=vf(e,n),s=yf(o,n);return oY(s,s.getSelectionAfter(),r,i)},removeRange:function(e,n,r){var i,o,s,a;n.getIsBackward()&&(n=n.merge({anchorKey:n.getFocusKey(),anchorOffset:n.getFocusOffset(),focusKey:n.getAnchorKey(),focusOffset:n.getAnchorOffset(),isBackward:!1})),i=n.getAnchorKey(),o=n.getFocusKey(),s=e.getBlockForKey(i),a=e.getBlockForKey(o);var u=n.getStartOffset(),l=n.getEndOffset(),d=s.getEntityAt(u),f=a.getEntityAt(l-1);if(i===o&&d&&d===f){var p=nY(e.getEntityMap(),s,a,n,r);return yf(e,p)}var g=vf(e,n);return yf(g,n)},splitBlock:function(e,n){var r=vf(e,n),i=yf(r,n);return uY(i,i.getSelectionAfter())},applyInlineStyle:function(e,n,r){return _O.add(e,n,r)},removeInlineStyle:function(e,n,r){return _O.remove(e,n,r)},setBlockType:function(e,n,r){return oS(e,n,function(i){return i.merge({type:r,depth:0})})},setBlockData:function(e,n,r){return oS(e,n,function(i){return i.merge({data:r})})},mergeBlockData:function(e,n,r){return oS(e,n,function(i){return i.merge({data:i.getData().merge(r)})})},applyEntity:function(e,n,r){var i=vf(e,n);return tY(i,n,r)}},Xr=fv;function cY(t){return Object.keys(t).map(function(e){return t[e]})}var T$=cY;function dY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){fY(t,i,n[i])})}return t}function fY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var D$=zp,pY=T$,_I=st.exports,ac=_I.List,gY=_I.Repeat,k$=_I.Record,x$=function(){return!0},mY={start:null,end:null},l1=k$(mY),vY={start:null,end:null,decoratorKey:null,leaves:null},sS=k$(vY),yY={generate:function(e,n,r){var i=n.getLength();if(!i)return ac.of(new sS({start:0,end:0,decoratorKey:null,leaves:ac.of(new l1({start:0,end:0}))}));var o=[],s=r?r.getDecorations(n,e):ac(gY(null,i)),a=n.getCharacterList();return D$(s,O$,x$,function(u,l){o.push(new sS({start:u,end:l,decoratorKey:s.get(u),leaves:wY(a.slice(u,l).toList(),u)}))}),ac(o)},fromJS:function(e){var n=e.leaves,r=hY(e,["leaves"]);return new sS(dY({},r,{leaves:n!=null?ac(Array.isArray(n)?n:pY(n)).map(function(i){return l1(i)}):null}))}};function wY(t,e){var n=[],r=t.map(function(i){return i.getStyle()}).toList();return D$(r,O$,x$,function(i,o){n.push(new l1({start:i+e,end:o+e}))}),ac(n)}function O$(t,e){return t===e}var _Y=yY;function SY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var EY=st.exports,CY=EY.Record,bY=CY({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),IY=function(t){SY(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getType=function(){return this.get("type")},n.getMutability=function(){return this.get("mutability")},n.getData=function(){return this.get("data")},e}(bY),A$=IY;function TY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}var DY=TY;function kY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){xY(t,i,n[i])})}return t}function xY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var OY=A$,AY=st.exports,RY=gt,c1=DY,PY=AY.Map,ms=PY(),wf=c1();function Jl(t,e){console.warn("WARNING: "+t+` will be deprecated soon!
Please use "`+e+'" instead.')}var No={getLastCreatedEntityKey:function(){return Jl("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),No.__getLastCreatedEntityKey()},create:function(e,n,r){return Jl("DraftEntity.create","contentState.createEntity"),No.__create(e,n,r)},add:function(e){return Jl("DraftEntity.add","contentState.addEntity"),No.__add(e)},get:function(e){return Jl("DraftEntity.get","contentState.getEntity"),No.__get(e)},__getAll:function(){return ms},__loadWithEntities:function(e){ms=e,wf=c1()},mergeData:function(e,n){return Jl("DraftEntity.mergeData","contentState.mergeEntityData"),No.__mergeData(e,n)},replaceData:function(e,n){return Jl("DraftEntity.replaceData","contentState.replaceEntityData"),No.__replaceData(e,n)},__getLastCreatedEntityKey:function(){return wf},__create:function(e,n,r){return No.__add(new OY({type:e,mutability:n,data:r||{}}))},__add:function(e){return wf=c1(),ms=ms.set(wf,e),wf},__get:function(e){var n=ms.get(e);return n||RY(!1),n},__mergeData:function(e,n){var r=No.__get(e),i=kY({},r.getData(),n),o=r.set("data",i);return ms=ms.set(e,o),o},__replaceData:function(e,n){var r=No.__get(e),i=r.set("data",n);return ms=ms.set(e,i),i}},V0=No;function NY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var MY=st.exports,FY=MY.Record,LY={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},$Y=FY(LY),BY=function(t){NY(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},n.getAnchorKey=function(){return this.get("anchorKey")},n.getAnchorOffset=function(){return this.get("anchorOffset")},n.getFocusKey=function(){return this.get("focusKey")},n.getFocusOffset=function(){return this.get("focusOffset")},n.getIsBackward=function(){return this.get("isBackward")},n.getHasFocus=function(){return this.get("hasFocus")},n.hasEdgeWithin=function(i,o,s){var a=this.getAnchorKey(),u=this.getFocusKey();if(a===u&&a===i){var l=this.getStartOffset(),d=this.getEndOffset();return o<=l&&l<=s||o<=d&&d<=s}if(i!==a&&i!==u)return!1;var f=i===a?this.getAnchorOffset():this.getFocusOffset();return o<=f&&s>=f},n.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},n.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},n.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},n.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},n.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},e.createEmpty=function(i){return new e({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:!1,hasFocus:!1})},e}($Y),j0=BY,su=function(t){return typeof window!="undefined"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[t]:!1},UY=new RegExp("\r","g");function zY(t){return t.replace(UY,"")}var R$=zY;function SO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){KY(t,i,n[i])})}return t}function KY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var jY=Up,EO=Wi,WY=kl,HY=Hi,Ro=V0,vm=j0,qY=os,GY=T$,YY=su,jp=st.exports,QY=R$,CO=jp.List,XY=jp.Record,JY=jp.Repeat,ZY=jp.Map,e7=jp.OrderedMap,t7={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},n7=XY(t7),bO=YY("draft_tree_data_support")?HY:WY,r7=function(t){VY(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getEntityMap=function(){return Ro},n.getBlockMap=function(){return this.get("blockMap")},n.getSelectionBefore=function(){return this.get("selectionBefore")},n.getSelectionAfter=function(){return this.get("selectionAfter")},n.getBlockForKey=function(i){var o=this.getBlockMap().get(i);return o},n.getKeyBefore=function(i){return this.getBlockMap().reverse().keySeq().skipUntil(function(o){return o===i}).skip(1).first()},n.getKeyAfter=function(i){return this.getBlockMap().keySeq().skipUntil(function(o){return o===i}).skip(1).first()},n.getBlockAfter=function(i){return this.getBlockMap().skipUntil(function(o,s){return s===i}).skip(1).first()},n.getBlockBefore=function(i){return this.getBlockMap().reverse().skipUntil(function(o,s){return s===i}).skip(1).first()},n.getBlocksAsArray=function(){return this.getBlockMap().toArray()},n.getFirstBlock=function(){return this.getBlockMap().first()},n.getLastBlock=function(){return this.getBlockMap().last()},n.getPlainText=function(i){return this.getBlockMap().map(function(o){return o?o.getText():""}).join(i||`
`)},n.getLastCreatedEntityKey=function(){return Ro.__getLastCreatedEntityKey()},n.hasText=function(){var i=this.getBlockMap();return i.size>1||escape(i.first().getText()).replace(/%u200B/g,"").length>0},n.createEntity=function(i,o,s){return Ro.__create(i,o,s),this},n.mergeEntityData=function(i,o){return Ro.__mergeData(i,o),this},n.replaceEntityData=function(i,o){return Ro.__replaceData(i,o),this},n.addEntity=function(i){return Ro.__add(i),this},n.getEntity=function(i){return Ro.__get(i)},n.getAllEntities=function(){return Ro.__getAll()},n.loadWithEntities=function(i){return Ro.__loadWithEntities(i)},e.createFromBlockArray=function(i,o){var s=Array.isArray(i)?i:i.contentBlocks,a=jY.createFromArray(s),u=a.isEmpty()?new vm:vm.createEmpty(a.first().getKey());return new e({blockMap:a,entityMap:o||Ro,selectionBefore:u,selectionAfter:u})},e.createFromText=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,s=i.split(o),a=s.map(function(u){return u=QY(u),new bO({key:qY(),text:u,type:"unstyled",characterList:CO(JY(EO.EMPTY,u.length))})});return e.createFromBlockArray(a)},e.fromJS=function(i){return new e(SO({},i,{blockMap:e7(i.blockMap).map(e.createContentBlockFromJS),selectionBefore:new vm(i.selectionBefore),selectionAfter:new vm(i.selectionAfter)}))},e.createContentBlockFromJS=function(i){var o=i.characterList;return new bO(SO({},i,{data:ZY(i.data),characterList:o!=null?CO((Array.isArray(o)?o:GY(o)).map(function(s){return EO.fromJS(s)})):void 0}))},e}(n7),SI=r7,ay=gt,i7="NEUTRAL",W0="LTR",P$="RTL",hv=null;function uy(t){return t===W0||t===P$}function N$(t){return uy(t)||ay(!1),t===W0?"ltr":"rtl"}function o7(t,e){return uy(t)||ay(!1),uy(e)||ay(!1),t===e?null:N$(t)}function M$(t){hv=t}function s7(){M$(W0)}function a7(){return hv||this.initGlobalDir(),hv||ay(!1),hv}var u7={NEUTRAL:i7,LTR:W0,RTL:P$,isStrong:uy,getHTMLDir:N$,getHTMLDirIfDifferent:o7,setGlobalDir:M$,initGlobalDir:s7,getGlobalDir:a7},H0=u7,Rs=H0,l7=gt,hh={L:"A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u01BA\u01BB\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0293\u0294\u0295-\u02AF\u02B0-\u02B8\u02BB-\u02C1\u02D0-\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376-\u0377\u037A\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0482\u048A-\u052F\u0531-\u0556\u0559\u055A-\u055F\u0561-\u0587\u0589\u0903\u0904-\u0939\u093B\u093D\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096F\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09CE\u09D7\u09DC-\u09DD\u09DF-\u09E1\u09E6-\u09EF\u09F0-\u09F1\u09F4-\u09F9\u09FA\u0A03\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0AD0\u0AE0-\u0AE1\u0AE6-\u0AEF\u0AF0\u0B02-\u0B03\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0B5C-\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B70\u0B71\u0B72-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BEF\u0BF0-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C59\u0C60-\u0C61\u0C66-\u0C6F\u0C7F\u0C82-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CBE\u0CBF\u0CC0-\u0CC4\u0CC6\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0CDE\u0CE0-\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF2\u0D02-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D60-\u0D61\u0D66-\u0D6F\u0D70-\u0D75\u0D79\u0D7A-\u0D7F\u0D82-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF3\u0DF4\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E46\u0E4F\u0E50-\u0E59\u0E5A-\u0E5B\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F01-\u0F03\u0F04-\u0F12\u0F13\u0F14\u0F15-\u0F17\u0F1A-\u0F1F\u0F20-\u0F29\u0F2A-\u0F33\u0F34\u0F36\u0F38\u0F3E-\u0F3F\u0F40-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FCF\u0FD0-\u0FD4\u0FD5-\u0FD8\u0FD9-\u0FDA\u1000-\u102A\u102B-\u102C\u1031\u1038\u103B-\u103C\u103F\u1040-\u1049\u104A-\u104F\u1050-\u1055\u1056-\u1057\u105A-\u105D\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106D\u106E-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108C\u108E\u108F\u1090-\u1099\u109A-\u109C\u109E-\u109F\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FB\u10FC\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u1368\u1369-\u137C\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166D-\u166E\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EB-\u16ED\u16EE-\u16F0\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7-\u17C8\u17D4-\u17D6\u17D7\u17D8-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1946-\u194F\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C0\u19C1-\u19C7\u19C8-\u19C9\u19D0-\u19D9\u19DA\u1A00-\u1A16\u1A19-\u1A1A\u1A1E-\u1A1F\u1A20-\u1A54\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AA6\u1AA7\u1AA8-\u1AAD\u1B04\u1B05-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B45-\u1B4B\u1B50-\u1B59\u1B5A-\u1B60\u1B61-\u1B6A\u1B74-\u1B7C\u1B82\u1B83-\u1BA0\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAE-\u1BAF\u1BB0-\u1BB9\u1BBA-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1BFC-\u1BFF\u1C00-\u1C23\u1C24-\u1C2B\u1C34-\u1C35\u1C3B-\u1C3F\u1C40-\u1C49\u1C4D-\u1C4F\u1C50-\u1C59\u1C5A-\u1C77\u1C78-\u1C7D\u1C7E-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF2-\u1CF3\u1CF5-\u1CF6\u1D00-\u1D2B\u1D2C-\u1D6A\u1D6B-\u1D77\u1D78\u1D79-\u1D9A\u1D9B-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2135-\u2138\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C7B\u2C7C-\u2C7D\u2C7E-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005\u3006\u3007\u3021-\u3029\u302E-\u302F\u3031-\u3035\u3038-\u303A\u303B\u303C\u3041-\u3096\u309D-\u309E\u309F\u30A1-\u30FA\u30FC-\u30FE\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u3191\u3192-\u3195\u3196-\u319F\u31A0-\u31BA\u31F0-\u31FF\u3200-\u321C\u3220-\u3229\u322A-\u3247\u3248-\u324F\u3260-\u327B\u327F\u3280-\u3289\u328A-\u32B0\u32C0-\u32CB\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA014\uA015\uA016-\uA48C\uA4D0-\uA4F7\uA4F8-\uA4FD\uA4FE-\uA4FF\uA500-\uA60B\uA60C\uA610-\uA61F\uA620-\uA629\uA62A-\uA62B\uA640-\uA66D\uA66E\uA680-\uA69B\uA69C-\uA69D\uA6A0-\uA6E5\uA6E6-\uA6EF\uA6F2-\uA6F7\uA722-\uA76F\uA770\uA771-\uA787\uA789-\uA78A\uA78B-\uA78E\uA790-\uA7AD\uA7B0-\uA7B1\uA7F7\uA7F8-\uA7F9\uA7FA\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA823-\uA824\uA827\uA830-\uA835\uA836-\uA837\uA840-\uA873\uA880-\uA881\uA882-\uA8B3\uA8B4-\uA8C3\uA8CE-\uA8CF\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8F8-\uA8FA\uA8FB\uA900-\uA909\uA90A-\uA925\uA92E-\uA92F\uA930-\uA946\uA952-\uA953\uA95F\uA960-\uA97C\uA983\uA984-\uA9B2\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uA9C1-\uA9CD\uA9CF\uA9D0-\uA9D9\uA9DE-\uA9DF\uA9E0-\uA9E4\uA9E6\uA9E7-\uA9EF\uA9F0-\uA9F9\uA9FA-\uA9FE\uAA00-\uAA28\uAA2F-\uAA30\uAA33-\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F\uAA60-\uAA6F\uAA70\uAA71-\uAA76\uAA77-\uAA79\uAA7A\uAA7B\uAA7D\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAADD\uAADE-\uAADF\uAAE0-\uAAEA\uAAEB\uAAEE-\uAAEF\uAAF0-\uAAF1\uAAF2\uAAF3-\uAAF4\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5B\uAB5C-\uAB5F\uAB64-\uAB65\uABC0-\uABE2\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEB\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uF8FF\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF6F\uFF70\uFF71-\uFF9D\uFF9E-\uFF9F\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",R:"\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F",AL:"\u0608\u060B\u060D\u061B\u061C\u061D\u061E-\u061F\u0620-\u063F\u0640\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070E\u070F\u0710\u0712-\u072F\u074B-\u074C\u074D-\u07A5\u07B1\u07B2-\u07BF\u08A0-\u08B2\u08B3-\u08E3\uFB50-\uFBB1\uFBB2-\uFBC1\uFBC2-\uFBD2\uFBD3-\uFD3D\uFD40-\uFD4F\uFD50-\uFD8F\uFD90-\uFD91\uFD92-\uFDC7\uFDC8-\uFDCF\uFDF0-\uFDFB\uFDFC\uFDFE-\uFDFF\uFE70-\uFE74\uFE75\uFE76-\uFEFC\uFEFD-\uFEFE"},c7=new RegExp("["+hh.L+hh.R+hh.AL+"]"),d7=new RegExp("["+hh.R+hh.AL+"]");function F$(t){var e=c7.exec(t);return e==null?null:e[0]}function L$(t){var e=F$(t);return e==null?Rs.NEUTRAL:d7.exec(e)?Rs.RTL:Rs.LTR}function $$(t,e){if(e=e||Rs.NEUTRAL,!t.length)return e;var n=L$(t);return n===Rs.NEUTRAL?e:n}function EI(t,e){return e||(e=Rs.getGlobalDir()),Rs.isStrong(e)||l7(!1),$$(t,e)}function f7(t,e){return EI(t,e)===Rs.LTR}function h7(t,e){return EI(t,e)===Rs.RTL}var p7={firstStrongChar:F$,firstStrongCharDir:L$,resolveBlockDir:$$,getDirection:EI,isDirectionLTR:f7,isDirectionRTL:h7},CI=p7;function IO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g7=CI,TO=H0,m7=gt,v7=function(){function t(n){IO(this,"_defaultDir",void 0),IO(this,"_lastDir",void 0),n?TO.isStrong(n)||m7(!1):n=TO.getGlobalDir(),this._defaultDir=n,this.reset()}var e=t.prototype;return e.reset=function(){this._lastDir=this._defaultDir},e.getDirection=function(r){return this._lastDir=g7.getDirection(r,this._lastDir),this._lastDir},t}(),y7=v7,w7=function(e){if(e!=null)return e;throw new Error("Got unexpected null or undefined")},Jr=w7,_7=y7,B$=st.exports,S7=Jr,E7=B$.OrderedMap,ym,C7={getDirectionMap:function(e,n){ym?ym.reset():ym=new _7;var r=e.getBlockMap(),i=r.valueSeq().map(function(s){return S7(ym).getDirection(s.getText())}),o=E7(r.keySeq().zip(i));return n!=null&&B$.is(n,o)?n:o}},b7=C7;function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){U$(t,i,n[i])})}return t}function U$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q0=_Y,_f=SI,wm=b7,aS=j0,Wp=st.exports,z$=Wp.OrderedSet,I7=Wp.Record,Au=Wp.Stack,kO=Wp.OrderedMap,T7=Wp.List,D7={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:Au(),selection:null,treeMap:null,undoStack:Au()},xO=I7(D7),K$=function(){e.createEmpty=function(r){return this.createWithText("",r)},e.createWithText=function(r,i){return e.createWithContent(_f.createFromText(r),i)},e.createWithContent=function(r,i){if(r.getBlockMap().count()===0)return e.createEmpty(i);var o=r.getBlockMap().first().getKey();return e.create({currentContent:r,undoStack:Au(),redoStack:Au(),decorator:i||null,selection:aS.createEmpty(o)})},e.create=function(r){var i=r.currentContent,o=r.decorator,s=DO({},r,{treeMap:AO(i,o),directionMap:wm.getDirectionMap(i)});return new e(new xO(s))},e.fromJS=function(r){return new e(new xO(DO({},r,{directionMap:r.directionMap!=null?kO(r.directionMap):r.directionMap,inlineStyleOverride:r.inlineStyleOverride!=null?z$(r.inlineStyleOverride):r.inlineStyleOverride,nativelyRenderedContent:r.nativelyRenderedContent!=null?_f.fromJS(r.nativelyRenderedContent):r.nativelyRenderedContent,redoStack:r.redoStack!=null?Au(r.redoStack.map(function(i){return _f.fromJS(i)})):r.redoStack,selection:r.selection!=null?new aS(r.selection):r.selection,treeMap:r.treeMap!=null?kO(r.treeMap).map(function(i){return T7(i).map(function(o){return q0.fromJS(o)})}):r.treeMap,undoStack:r.undoStack!=null?Au(r.undoStack.map(function(i){return _f.fromJS(i)})):r.undoStack,currentContent:_f.fromJS(r.currentContent)})))},e.set=function(r,i){var o=r.getImmutable().withMutations(function(s){var a=s.get("decorator"),u=a;i.decorator===null?u=null:i.decorator&&(u=i.decorator);var l=i.currentContent||r.getCurrentContent();if(u!==a){var d=s.get("treeMap"),f;u&&a?f=x7(l,l.getBlockMap(),d,u,a):f=AO(l,u),s.merge({decorator:u,treeMap:f,nativelyRenderedContent:null});return}var p=r.getCurrentContent();l!==p&&s.set("treeMap",k7(r,l.getBlockMap(),l.getEntityMap(),u)),s.merge(i)});return new e(o)};var t=e.prototype;t.toJS=function(){return this.getImmutable().toJS()},t.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.getSelection=function(){return this.getImmutable().get("selection")},t.getDecorator=function(){return this.getImmutable().get("decorator")},t.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(r,i){return e.set(r,{inlineStyleOverride:i})},t.getCurrentInlineStyle=function(){var r=this.getInlineStyleOverride();if(r!=null)return r;var i=this.getCurrentContent(),o=this.getSelection();return o.isCollapsed()?A7(i,o):R7(i,o)},t.getBlockTree=function(r){return this.getImmutable().getIn(["treeMap",r])},t.isSelectionAtStartOfContent=function(){var r=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(r,0,0)},t.isSelectionAtEndOfContent=function(){var r=this.getCurrentContent(),i=r.getBlockMap(),o=i.last(),s=o.getLength();return this.getSelection().hasEdgeWithin(o.getKey(),s,s)},t.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(r,i){return OO(r,i,!1)},e.forceSelection=function(r,i){return i.getHasFocus()||(i=i.set("hasFocus",!0)),OO(r,i,!0)},e.moveSelectionToEnd=function(r){var i=r.getCurrentContent(),o=i.getLastBlock(),s=o.getKey(),a=o.getLength();return e.acceptSelection(r,new aS({anchorKey:s,anchorOffset:a,focusKey:s,focusOffset:a,isBackward:!1}))},e.moveFocusToEnd=function(r){var i=e.moveSelectionToEnd(r);return e.forceSelection(i,i.getSelection())},e.push=function(r,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(r.getCurrentContent()===i)return r;var a=wm.getDirectionMap(i,r.getDirectionMap());if(!r.getAllowUndo())return e.set(r,{currentContent:i,directionMap:a,lastChangeType:o,selection:i.getSelectionAfter(),forceSelection:s,inlineStyleOverride:null});var u=r.getSelection(),l=r.getCurrentContent(),d=r.getUndoStack(),f=i;u!==l.getSelectionAfter()||O7(r,o)?(d=d.push(l),f=f.set("selectionBefore",u)):(o==="insert-characters"||o==="backspace-character"||o==="delete-character")&&(f=f.set("selectionBefore",l.getSelectionBefore()));var p=r.getInlineStyleOverride(),g=["adjust-depth","change-block-type","split-block"];g.indexOf(o)===-1&&(p=null);var m={currentContent:f,directionMap:a,undoStack:d,redoStack:Au(),lastChangeType:o,selection:i.getSelectionAfter(),forceSelection:s,inlineStyleOverride:p};return e.set(r,m)},e.undo=function(r){if(!r.getAllowUndo())return r;var i=r.getUndoStack(),o=i.peek();if(!o)return r;var s=r.getCurrentContent(),a=wm.getDirectionMap(o,r.getDirectionMap());return e.set(r,{currentContent:o,directionMap:a,undoStack:i.shift(),redoStack:r.getRedoStack().push(s),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:s.getSelectionBefore()})},e.redo=function(r){if(!r.getAllowUndo())return r;var i=r.getRedoStack(),o=i.peek();if(!o)return r;var s=r.getCurrentContent(),a=wm.getDirectionMap(o,r.getDirectionMap());return e.set(r,{currentContent:o,directionMap:a,undoStack:r.getUndoStack().push(s),redoStack:i.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:o.getSelectionAfter()})};function e(n){U$(this,"_immutable",void 0),this._immutable=n}return t.getImmutable=function(){return this._immutable},e}();function OO(t,e,n){return K$.set(t,{selection:e,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function AO(t,e){return t.getBlockMap().map(function(n){return q0.generate(t,n,e)}).toOrderedMap()}function k7(t,e,n,r){var i=t.getCurrentContent().set("entityMap",n),o=i.getBlockMap(),s=t.getImmutable().get("treeMap");return s.merge(e.toSeq().filter(function(a,u){return a!==o.get(u)}).map(function(a){return q0.generate(i,a,r)}))}function x7(t,e,n,r,i){return n.merge(e.toSeq().filter(function(o){return r.getDecorations(o,t)!==i.getDecorations(o,t)}).map(function(o){return q0.generate(t,o,r)}))}function O7(t,e){var n=t.getLastChangeType();return e!==n||e!=="insert-characters"&&e!=="backspace-character"&&e!=="delete-character"}function A7(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);return r>0?i.getInlineStyleAt(r-1):i.getLength()?i.getInlineStyleAt(0):V$(t,n)}function R7(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);return r<i.getLength()?i.getInlineStyleAt(r):r>0?i.getInlineStyleAt(r-1):V$(t,n)}function V$(t,e){var n=t.getBlockMap().reverse().skipUntil(function(r,i){return i===e}).skip(1).skipUntil(function(r,i){return r.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):z$()}var kt=K$,P7=Hi,N7=C$,j$=st.exports,_m=gt,M7=j$.OrderedMap,F7=j$.List,yu=function(e,n,r){if(!!e){var i=n.get(e);!i||n.set(e,r(i))}},L7=function(e,n,r,i,o){if(!o)return e;var s=i==="after",a=n.getKey(),u=r.getKey(),l=n.getParentKey(),d=n.getNextSiblingKey(),f=n.getPrevSiblingKey(),p=r.getParentKey(),g=s?r.getNextSiblingKey():u,m=s?u:r.getPrevSiblingKey();return e.withMutations(function(_){yu(l,_,function(C){var w=C.getChildKeys();return C.merge({children:w.delete(w.indexOf(a))})}),yu(f,_,function(C){return C.merge({nextSibling:d})}),yu(d,_,function(C){return C.merge({prevSibling:f})}),yu(g,_,function(C){return C.merge({prevSibling:a})}),yu(m,_,function(C){return C.merge({nextSibling:a})}),yu(p,_,function(C){var w=C.getChildKeys(),y=w.indexOf(u),S=s?y+1:y!==0?y-1:0,I=w.toArray();return I.splice(S,0,a),C.merge({children:F7(I)})}),yu(a,_,function(C){return C.merge({nextSibling:g,prevSibling:m,parent:p})})})},$7=function(e,n,r,i){i==="replace"&&_m(!1);var o=r.getKey(),s=n.getKey();s===o&&_m(!1);var a=e.getBlockMap(),u=n instanceof P7,l=[n],d=a.delete(s);u&&(l=[],d=a.withMutations(function(w){var y=n.getNextSiblingKey(),S=N7(n,w);w.toSeq().skipUntil(function(I){return I.getKey()===s}).takeWhile(function(I){var k=I.getKey(),O=k===s,A=y&&k!==y,F=!y&&I.getParentKey()&&(!S||k!==S);return!!(O||A||F)}).forEach(function(I){l.push(I),w.delete(I.getKey())})}));var f=d.toSeq().takeUntil(function(w){return w===r}),p=d.toSeq().skipUntil(function(w){return w===r}).skip(1),g=l.map(function(w){return[w.getKey(),w]}),m=M7();if(i==="before"){var _=e.getBlockBefore(o);!_||_.getKey()!==n.getKey()||_m(!1),m=f.concat([].concat(g,[[o,r]]),p).toOrderedMap()}else if(i==="after"){var C=e.getBlockAfter(o);!C||C.getKey()!==s||_m(!1),m=f.concat([[o,r]].concat(g),p).toOrderedMap()}return e.merge({blockMap:L7(m,n,r,i,u),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:s,focusKey:s})})},B7=$7;function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){U7(t,i,n[i])})}return t}function U7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z7=Up,K7=Wi,V7=kl,j7=Hi,Zl=Xr,PO=kt,NO=os,W7=su,W$=st.exports,Sm=B7,H$=W7("draft_tree_data_support"),MO=H$?j7:V7,H7=W$.List,q7=W$.Repeat,G7={insertAtomicBlock:function(e,n,r){var i=e.getCurrentContent(),o=e.getSelection(),s=Zl.removeRange(i,o,"backward"),a=s.getSelectionAfter(),u=Zl.splitBlock(s,a),l=u.getSelectionAfter(),d=Zl.setBlockType(u,l,"atomic"),f=K7.create({entity:n}),p={key:NO(),type:"atomic",text:r,characterList:H7(q7(f,r.length))},g={key:NO(),type:"unstyled"};H$&&(p=RO({},p,{nextSibling:g.key}),g=RO({},g,{prevSibling:p.key}));var m=[new MO(p),new MO(g)],_=z7.createFromArray(m),C=Zl.replaceWithFragment(d,l,_),w=C.merge({selectionBefore:o,selectionAfter:C.getSelectionAfter().set("hasFocus",!0)});return PO.push(e,w,"insert-fragment")},moveAtomicBlock:function(e,n,r,i){var o=e.getCurrentContent(),s=e.getSelection(),a;if(i==="before"||i==="after"){var u=o.getBlockForKey(i==="before"?r.getStartKey():r.getEndKey());a=Sm(o,n,u,i)}else{var l=Zl.removeRange(o,r,"backward"),d=l.getSelectionAfter(),f=l.getBlockForKey(d.getFocusKey());if(d.getStartOffset()===0)a=Sm(l,n,f,"before");else if(d.getEndOffset()===f.getLength())a=Sm(l,n,f,"after");else{var p=Zl.splitBlock(l,d),g=p.getSelectionAfter(),m=p.getBlockForKey(g.getFocusKey());a=Sm(p,n,m,"before")}}var _=a.merge({selectionBefore:s,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return PO.push(e,_,"move-block")}},Y7=G7;function Q7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X7=st.exports,J7=X7.List,uS=".",Z7=function(){function t(n){Q7(this,"_decorators",void 0),this._decorators=n.slice()}var e=t.prototype;return e.getDecorations=function(r,i){var o=Array(r.getText().length).fill(null);return this._decorators.forEach(function(s,a){var u=0,l=s.strategy,d=function(p,g){eQ(o,p,g)&&(tQ(o,p,g,a+uS+u),u++)};l(r,d,i)}),J7(o)},e.getComponentForKey=function(r){var i=parseInt(r.split(uS)[0],10);return this._decorators[i].component},e.getPropsForKey=function(r){var i=parseInt(r.split(uS)[0],10);return this._decorators[i].props},t}();function eQ(t,e,n){for(var r=e;r<n;r++)if(t[r]!=null)return!1;return!0}function tQ(t,e,n,r){for(var i=e;i<n;i++)t[i]=r}var nQ=Z7,G0={exports:{}},Y0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rQ=we.exports,iQ=Symbol.for("react.element"),oQ=Symbol.for("react.fragment"),sQ=Object.prototype.hasOwnProperty,aQ=rQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uQ={key:!0,ref:!0,__self:!0,__source:!0};function q$(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sQ.call(e,r)&&!uQ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iQ,type:t,key:o,ref:s,props:i,_owner:aQ.current}}Y0.Fragment=oQ;Y0.jsx=q$;Y0.jsxs=q$;G0.exports=Y0;const M=G0.exports.jsx,ct=G0.exports.jsxs,G$=G0.exports.Fragment;var lQ=Object.freeze(Object.defineProperty({__proto__:null,jsx:M,jsxs:ct,Fragment:G$},Symbol.toStringTag,{value:"Module"})),So=UC(lQ);function cQ(t){return typeof t=="object"?Object.keys(t).filter(function(e){return t[e]}).map(FO).join(" "):Array.prototype.map.call(arguments,FO).join(" ")}function FO(t){return t.replace(/\//g,"-")}var xl=cQ,bI=So.jsx,II=xl,dQ=st.exports,fQ=dQ.Map,hQ=bI("ul",{className:II("public/DraftStyleDefault/ul")}),pQ=bI("ol",{className:II("public/DraftStyleDefault/ol")}),gQ=bI("pre",{className:II("public/DraftStyleDefault/pre")}),mQ=fQ({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:hQ},"ordered-list-item":{element:"li",wrapper:pQ},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:gQ},unstyled:{element:"div",aliasedElements:["p"]}}),TI=mQ,Y$={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var LO=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,yQ=Object.prototype.propertyIsEnumerable;function wQ(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function _Q(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var SQ=_Q()?Object.assign:function(t,e){for(var n,r=wQ(t),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)vQ.call(n,s)&&(r[s]=n[s]);if(LO){i=LO(n);for(var a=0;a<i.length;a++)yQ.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},d1={exports:{}};(function(t,e){(function(n,r){var i="0.7.31",o="",s="?",a="function",u="undefined",l="object",d="string",f="major",p="model",g="name",m="type",_="vendor",C="version",w="architecture",y="console",S="mobile",I="tablet",k="smarttv",O="wearable",A="embedded",F=255,G="Amazon",Y="Apple",Q="ASUS",ie="BlackBerry",ae="Browser",_e="Chrome",De="Edge",Ie="Firefox",Ae="Google",X="Huawei",W="LG",K="Microsoft",oe="Motorola",N="Opera",j="Samsung",J="Sony",L="Xiaomi",V="Zebra",se="Facebook",ye=function(Me,Qe){var Fe={};for(var bt in Me)Qe[bt]&&Qe[bt].length%2===0?Fe[bt]=Qe[bt].concat(Me[bt]):Fe[bt]=Me[bt];return Fe},Re=function(Me){for(var Qe={},Fe=0;Fe<Me.length;Fe++)Qe[Me[Fe].toUpperCase()]=Me[Fe];return Qe},Ue=function(Me,Qe){return typeof Me===d?hn(Qe).indexOf(hn(Me))!==-1:!1},hn=function(Me){return Me.toLowerCase()},vr=function(Me){return typeof Me===d?Me.replace(/[^\d\.]/g,o).split(".")[0]:r},nt=function(Me,Qe){if(typeof Me===d)return Me=Me.replace(/^\s\s*/,o).replace(/\s\s*$/,o),typeof Qe===u?Me:Me.substring(0,F)},mt=function(Me,Qe){for(var Fe=0,bt,ze,Yi,at,Qi,Lt;Fe<Qe.length&&!Qi;){var cs=Qe[Fe],ds=Qe[Fe+1];for(bt=ze=0;bt<cs.length&&!Qi;)if(Qi=cs[bt++].exec(Me),Qi)for(Yi=0;Yi<ds.length;Yi++)Lt=Qi[++ze],at=ds[Yi],typeof at===l&&at.length>0?at.length===2?typeof at[1]==a?this[at[0]]=at[1].call(this,Lt):this[at[0]]=at[1]:at.length===3?typeof at[1]===a&&!(at[1].exec&&at[1].test)?this[at[0]]=Lt?at[1].call(this,Lt,at[2]):r:this[at[0]]=Lt?Lt.replace(at[1],at[2]):r:at.length===4&&(this[at[0]]=Lt?at[3].call(this,Lt.replace(at[1],at[2])):r):this[at]=Lt||r;Fe+=2}},ht=function(Me,Qe){for(var Fe in Qe)if(typeof Qe[Fe]===l&&Qe[Fe].length>0){for(var bt=0;bt<Qe[Fe].length;bt++)if(Ue(Qe[Fe][bt],Me))return Fe===s?r:Fe}else if(Ue(Qe[Fe],Me))return Fe===s?r:Fe;return Me},pn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ii={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Un={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,C],[/opios[\/ ]+([\w\.]+)/i],[C,[g,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[C,[g,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,C],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[g,"UC"+ae]],[/\bqbcore\/([\w\.]+)/i],[C,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[C,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[C,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+ae],C],[/\bfocus\/([\w\.]+)/i],[C,[g,Ie+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[g,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[g,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[g,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[C,[g,Ie]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+ae]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+ae],C],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,C],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,se],C],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[g,_e+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,_e+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[g,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,C],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[C,[g,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[C,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[C,ht,pn]],[/(webkit|khtml)\/([\w\.]+)/i],[g,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[g,Ie+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,C]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,hn]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,o,hn]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,hn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[_,j],[m,I]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[_,j],[m,S]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[_,Y],[m,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[_,Y],[m,I]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[_,X],[m,I]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[p,[_,X],[m,S]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[_,L],[m,S]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[_,L],[m,I]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[_,"OPPO"],[m,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[_,"Vivo"],[m,S]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[_,"Realme"],[m,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[_,oe],[m,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[_,oe],[m,I]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[_,W],[m,I]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[_,W],[m,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[_,"Lenovo"],[m,I]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[_,"Nokia"],[m,S]],[/(pixel c)\b/i],[p,[_,Ae],[m,I]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[_,Ae],[m,S]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[_,J],[m,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[_,J],[m,I]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[_,"OnePlus"],[m,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[_,G],[m,I]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[_,G],[m,S]],[/(playbook);[-\w\),; ]+(rim)/i],[p,_,[m,I]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[_,ie],[m,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[_,Q],[m,I]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[_,Q],[m,S]],[/(nexus 9)/i],[p,[_,"HTC"],[m,I]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[_,[p,/_/g," "],[m,S]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[_,"Acer"],[m,I]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[_,"Meizu"],[m,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[_,"Sharp"],[m,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,p,[m,S]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,p,[m,I]],[/(surface duo)/i],[p,[_,K],[m,I]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[_,"Fairphone"],[m,S]],[/(u304aa)/i],[p,[_,"AT&T"],[m,S]],[/\bsie-(\w*)/i],[p,[_,"Siemens"],[m,S]],[/\b(rct\w+) b/i],[p,[_,"RCA"],[m,I]],[/\b(venue[\d ]{2,7}) b/i],[p,[_,"Dell"],[m,I]],[/\b(q(?:mv|ta)\w+) b/i],[p,[_,"Verizon"],[m,I]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[_,"Barnes & Noble"],[m,I]],[/\b(tm\d{3}\w+) b/i],[p,[_,"NuVision"],[m,I]],[/\b(k88) b/i],[p,[_,"ZTE"],[m,I]],[/\b(nx\d{3}j) b/i],[p,[_,"ZTE"],[m,S]],[/\b(gen\d{3}) b.+49h/i],[p,[_,"Swiss"],[m,S]],[/\b(zur\d{3}) b/i],[p,[_,"Swiss"],[m,I]],[/\b((zeki)?tb.*\b) b/i],[p,[_,"Zeki"],[m,I]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],p,[m,I]],[/\b(ns-?\w{0,9}) b/i],[p,[_,"Insignia"],[m,I]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[_,"NextBook"],[m,I]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],p,[m,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],p,[m,S]],[/\b(ph-1) /i],[p,[_,"Essential"],[m,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[_,"Envizen"],[m,I]],[/\b(trio[-\w\. ]+) b/i],[p,[_,"MachSpeed"],[m,I]],[/\btu_(1491) b/i],[p,[_,"Rotor"],[m,I]],[/(shield[\w ]+) b/i],[p,[_,"Nvidia"],[m,I]],[/(sprint) (\w+)/i],[_,p,[m,S]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[_,K],[m,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[_,V],[m,I]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[_,V],[m,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,p,[m,y]],[/droid.+; (shield) bui/i],[p,[_,"Nvidia"],[m,y]],[/(playstation [345portablevi]+)/i],[p,[_,J],[m,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[_,K],[m,y]],[/smart-tv.+(samsung)/i],[_,[m,k]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[_,j],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,W],[m,k]],[/(apple) ?tv/i],[_,[p,Y+" TV"],[m,k]],[/crkey/i],[[p,_e+"cast"],[_,Ae],[m,k]],[/droid.+aft(\w)( bui|\))/i],[p,[_,G],[m,k]],[/\(dtv[\);].+(aquos)/i],[p,[_,"Sharp"],[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[_,nt],[p,nt],[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/((pebble))app/i],[_,p,[m,O]],[/droid.+; (glass) \d/i],[p,[_,Ae],[m,O]],[/droid.+; (wt63?0{2,3})\)/i],[p,[_,V],[m,O]],[/(quest( 2)?)/i],[p,[_,se],[m,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[m,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,I]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,I]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[m,S]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[g,De+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[g,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,C],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[C,ht,Ii]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[C,ht,Ii]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,"Mac OS"],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[C,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,C],[/\(bb(10);/i],[C,[g,ie]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[g,Ie+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[g,"webOS"]],[/crkey\/([\d\.]+)/i],[C,[g,_e+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[g,"Chromium OS"],C],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,C],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[g,C]]},xt=function(Me,Qe){if(typeof Me===l&&(Qe=Me,Me=r),!(this instanceof xt))return new xt(Me,Qe).getResult();var Fe=Me||(typeof n!==u&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:o),bt=Qe?ye(Un,Qe):Un;return this.getBrowser=function(){var ze={};return ze[g]=r,ze[C]=r,mt.call(ze,Fe,bt.browser),ze.major=vr(ze.version),ze},this.getCPU=function(){var ze={};return ze[w]=r,mt.call(ze,Fe,bt.cpu),ze},this.getDevice=function(){var ze={};return ze[_]=r,ze[p]=r,ze[m]=r,mt.call(ze,Fe,bt.device),ze},this.getEngine=function(){var ze={};return ze[g]=r,ze[C]=r,mt.call(ze,Fe,bt.engine),ze},this.getOS=function(){var ze={};return ze[g]=r,ze[C]=r,mt.call(ze,Fe,bt.os),ze},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(ze){return Fe=typeof ze===d&&ze.length>F?nt(ze,F):ze,this},this.setUA(Fe),this};xt.VERSION=i,xt.BROWSER=Re([g,C,f]),xt.CPU=Re([w]),xt.DEVICE=Re([p,_,m,y,S,k,I,O,A]),xt.ENGINE=xt.OS=Re([g,C]),t.exports&&(e=t.exports=xt),e.UAParser=xt;var zn=typeof n!==u&&(n.jQuery||n.Zepto);if(zn&&!zn.ua){var yr=new xt;zn.ua=yr.getResult(),zn.ua.get=function(){return yr.getUA()},zn.ua.set=function(Me){yr.setUA(Me);var Qe=yr.getResult();for(var Fe in Qe)zn.ua[Fe]=Qe[Fe]}}})(typeof window=="object"?window:li)})(d1,d1.exports);var EQ=d1.exports,Ai="Unknown",CQ={"Mac OS":"Mac OS X"};function bQ(t){return CQ[t]||t}function IQ(t){if(!t)return{major:"",minor:""};var e=t.split(".");return{major:e[0],minor:e[1]}}var TQ=new EQ,Ri=TQ.getResult(),DQ=IQ(Ri.browser.version),kQ={browserArchitecture:Ri.cpu.architecture||Ai,browserFullVersion:Ri.browser.version||Ai,browserMinorVersion:DQ.minor||Ai,browserName:Ri.browser.name||Ai,browserVersion:Ri.browser.major||Ai,deviceName:Ri.device.model||Ai,engineName:Ri.engine.name||Ai,engineVersion:Ri.engine.version||Ai,platformArchitecture:Ri.cpu.architecture||Ai,platformName:bQ(Ri.os.name)||Ai,platformVersion:Ri.os.version||Ai,platformFullVersion:Ri.os.version||Ai},xQ=kQ,ly=gt,Q$=/\./,OQ=/\|\|/,AQ=/\s+\-\s+/,RQ=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,$O=/^(\d*)(.*)/;function PQ(t,e){var n=t.split(OQ);return n.length>1?n.some(function(r){return eB.contains(r,e)}):(t=n[0].trim(),NQ(t,e))}function NQ(t,e){var n=t.split(AQ);if(n.length>0&&n.length<=2||ly(!1),n.length===1)return lS(n[0],e);var r=n[0],i=n[1];return BO(r)&&BO(i)||ly(!1),lS(">="+r,e)&&lS("<="+i,e)}function lS(t,e){if(t=t.trim(),t==="")return!0;var n=e.split(Q$),r=Z$(t),i=r.modifier,o=r.rangeComponents;switch(i){case"<":return X$(n,o);case"<=":return MQ(n,o);case">=":return J$(n,o);case">":return LQ(n,o);case"~":case"~>":return $Q(n,o);default:return FQ(n,o)}}function X$(t,e){return Hp(t,e)===-1}function MQ(t,e){var n=Hp(t,e);return n===-1||n===0}function FQ(t,e){return Hp(t,e)===0}function J$(t,e){var n=Hp(t,e);return n===1||n===0}function LQ(t,e){return Hp(t,e)===1}function $Q(t,e){var n=e.slice(),r=e.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);return f1(o)&&(r[i]=o+1+""),J$(t,n)&&X$(t,r)}function Z$(t){var e=t.split(Q$),n=e[0].match(RQ);return n||ly(!1),{modifier:n[1],rangeComponents:[n[2]].concat(e.slice(1))}}function f1(t){return!isNaN(t)&&isFinite(t)}function BO(t){return!Z$(t).modifier}function UO(t,e){for(var n=t.length;n<e;n++)t[n]="0"}function BQ(t,e){t=t.slice(),e=e.slice(),UO(t,e.length);for(var n=0;n<e.length;n++){var r=e[n].match(/^[x*]$/i);if(r&&(e[n]=t[n]="0",r[0]==="*"&&n===e.length-1))for(var i=n;i<t.length;i++)t[i]="0"}return UO(e,t.length),[t,e]}function UQ(t,e){var n=t.match($O)[1],r=e.match($O)[1],i=parseInt(n,10),o=parseInt(r,10);return f1(i)&&f1(o)&&i!==o?zO(i,o):zO(t,e)}function zO(t,e){return typeof t!=typeof e&&ly(!1),t>e?1:t<e?-1:0}function Hp(t,e){for(var n=BQ(t,e),r=n[0],i=n[1],o=0;o<i.length;o++){var s=UQ(r[o],i[o]);if(s)return s}return 0}var eB={contains:function(e,n){return PQ(e.trim(),n.trim())}},zQ=eB,KQ=Object.prototype.hasOwnProperty;function VQ(t,e,n){if(!t)return null;var r={};for(var i in t)KQ.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}var jQ=VQ;function WQ(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}var HQ=WQ,Mo=xQ,qQ=zQ,GQ=jQ,YQ=HQ;function ec(t,e,n,r){if(t===n)return!0;if(!n.startsWith(t))return!1;var i=n.slice(t.length);return e?(i=r?r(i):i,qQ.contains(i,e)):!1}function QQ(t){return Mo.platformName==="Windows"?t.replace(/^\s*NT/,""):t}var XQ={isBrowser:function(e){return ec(Mo.browserName,Mo.browserFullVersion,e)},isBrowserArchitecture:function(e){return ec(Mo.browserArchitecture,null,e)},isDevice:function(e){return ec(Mo.deviceName,null,e)},isEngine:function(e){return ec(Mo.engineName,Mo.engineVersion,e)},isPlatform:function(e){return ec(Mo.platformName,Mo.platformFullVersion,e,QQ)},isPlatformArchitecture:function(e){return ec(Mo.platformArchitecture,null,e)}},Zr=GQ(XQ,YQ);function JQ(t){return!t||!t.ownerDocument?document:t.ownerDocument}var Q0=JQ;function ZQ(t){return!t||!t.ownerDocument?!1:t.nodeType===Node.ELEMENT_NODE}var Ol=ZQ,eX=Ol;function tB(t){if(eX(t)){var e=t,n=e.getAttribute("data-offset-key");if(n)return n;for(var r=0;r<e.childNodes.length;r++){var i=tB(e.childNodes[r]);if(i)return i}}return null}var nB=tB,tX=Q0,nX=nB;function rX(t){for(var e=t;e&&e!==tX(t).documentElement;){var n=nX(e);if(n!=null)return n;e=e.parentNode}return null}var X0=rX;function iX(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}var rB=iX;function Em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oX=Zr,sX=X0,aX=rB,uX=st.exports,lX=gt,cX=Jr,KO=uX.Map,dX={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},VO=oX.isBrowser("IE <= 11"),fX=function(){function t(n){var r=this;Em(this,"observer",void 0),Em(this,"container",void 0),Em(this,"mutations",void 0),Em(this,"onCharData",void 0),this.container=n,this.mutations=KO();var i=aX(n);i.MutationObserver&&!VO?this.observer=new i.MutationObserver(function(o){return r.registerMutations(o)}):this.onCharData=function(o){o.target instanceof Node||lX(!1),r.registerMutation({type:"characterData",target:o.target})}}var e=t.prototype;return e.start=function(){this.observer?this.observer.observe(this.container,dX):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},e.stopAndFlushMutations=function(){var r=this.observer;r?(this.registerMutations(r.takeRecords()),r.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var i=this.mutations;return this.mutations=KO(),i},e.registerMutations=function(r){for(var i=0;i<r.length;i++)this.registerMutation(r[i])},e.getMutationTextContent=function(r){var i=r.type,o=r.target,s=r.removedNodes;if(i==="characterData"){if(o.textContent!=="")return VO?o.textContent.replace(`
`,""):o.textContent}else if(i==="childList"){if(s&&s.length)return"";if(o.textContent!=="")return o.textContent}return null},e.registerMutation=function(r){var i=this.getMutationTextContent(r);if(i!=null){var o=cX(sX(r.target));this.mutations=this.mutations.set(o,i)}},t}(),hX=fX,Cm="-",pX={encode:function(e,n,r){return e+Cm+n+Cm+r},decode:function(e){var n=e.split(Cm).reverse(),r=n[0],i=n[1],o=n.slice(2);return{blockKey:o.reverse().join(Cm),decoratorKey:parseInt(i,10),leafKey:parseInt(r,10)}}},Ys=pX,J0={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105},iB={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}};function gX(t){return!t||!t.ownerDocument?!1:t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement}var qp=gX,jO=gt,mX=qp;function vX(t){var e=t.editorContainer;e||jO(!1),mX(e.firstChild)||jO(!1);var n=e.firstChild;return n}var oB=vX,WO=Ys,yX=Jr;function wX(t,e,n,r,i){var o=yX(t.getSelection());if(!e||!r)return o;var s=WO.decode(e),a=s.blockKey,u=t.getBlockTree(a),l=u&&u.getIn([s.decoratorKey,"leaves",s.leafKey]),d=WO.decode(r),f=d.blockKey,p=t.getBlockTree(f),g=p&&p.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!l||!g)return o;var m=l.get("start"),_=g.get("start"),C=l?m+n:null,w=g?_+i:null,y=o.getAnchorKey()===a&&o.getAnchorOffset()===C&&o.getFocusKey()===f&&o.getFocusOffset()===w;if(y)return o;var S=!1;if(a===f){var I=l.get("end"),k=g.get("end");_===m&&k===I?S=i<n:S=_<m}else{var O=t.getCurrentContent().getBlockMap().keySeq().skipUntil(function(A){return A===a||A===f}).first();S=O===f}return o.merge({anchorKey:a,anchorOffset:C,focusKey:f,focusOffset:w,isBackward:S})}var sB=wX,Gf=X0,ph=nB,HO=sB,cS=gt,DI=Ol,zu=Jr;function _X(t,e,n,r,i,o){var s=n.nodeType===Node.TEXT_NODE,a=i.nodeType===Node.TEXT_NODE;if(s&&a)return{selectionState:HO(t,zu(Gf(n)),r,zu(Gf(i)),o),needsRecovery:!1};var u=null,l=null,d=!0;return s?(u={key:zu(Gf(n)),offset:r},l=bm(e,i,o)):a?(l={key:zu(Gf(i)),offset:o},u=bm(e,n,r)):(u=bm(e,n,r),l=bm(e,i,o),n===i&&r===o&&(d=!!n.firstChild&&n.firstChild.nodeName!=="BR")),{selectionState:HO(t,u.key,u.offset,l.key,l.offset),needsRecovery:d}}function SX(t){for(;t.firstChild&&(DI(t.firstChild)&&t.firstChild.getAttribute("data-blocks")==="true"||ph(t.firstChild));)t=t.firstChild;return t}function EX(t){for(;t.lastChild&&(DI(t.lastChild)&&t.lastChild.getAttribute("data-blocks")==="true"||ph(t.lastChild));)t=t.lastChild;return t}function bm(t,e,n){var r=e,i=Gf(r);if(i!=null||t&&(t===r||t.firstChild===r)||cS(!1),t===r){r=r.firstChild,DI(r)||cS(!1);var o=r;r=o,r.getAttribute("data-contents")!=="true"&&cS(!1),n>0&&(n=r.childNodes.length)}if(n===0){var s=null;if(i!=null)s=i;else{var a=SX(r);s=zu(ph(a))}return{key:s,offset:0}}var u=r.childNodes[n-1],l=null,d=null;if(!ph(u))l=zu(i),d=qO(u);else{var f=EX(u);l=zu(ph(f)),d=qO(f)}return{key:l,offset:d}}function qO(t){var e=t.textContent;return e===`
`?0:e.length}var aB=_X,CX=aB;function bX(t,e){var n=e.ownerDocument.defaultView.getSelection(),r=n.anchorNode,i=n.anchorOffset,o=n.focusNode,s=n.focusOffset,a=n.rangeCount;return a===0||r==null||o==null?{selectionState:t.getSelection().set("hasFocus",!1),needsRecovery:!1}:CX(t,e,r,i,o,s)}var uB=bX,IX=iB,GO=kt,TX=oB,DX=uB;function kX(t){if(t._blockSelectEvents||t._latestEditorState!==t.props.editorState){if(t._blockSelectEvents){var e=t.props.editorState,n=e.getSelection();IX.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(n.toJS())})}return}var r=t.props.editorState,i=DX(r,TX(t)),o=i.selectionState;o!==r.getSelection()&&(i.needsRecovery?r=GO.forceSelection(r,o):r=GO.acceptSelection(r,o),t.update(r))}var lB=kX;function xX(t){return t!=null&&t!=""}var cB={notEmptyKey:xX},OX=cB,AX=OX.notEmptyKey;function RX(t,e){var n;if(e.isCollapsed()){var r=e.getAnchorKey(),i=e.getAnchorOffset();return i>0?(n=t.getBlockForKey(r).getEntityAt(i-1),n!==t.getBlockForKey(r).getEntityAt(i)?null:YO(t.getEntityMap(),n)):null}var o=e.getStartKey(),s=e.getStartOffset(),a=t.getBlockForKey(o);return n=s===a.getLength()?null:a.getEntityAt(s),YO(t.getEntityMap(),n)}function YO(t,e){if(AX(e)){var n=t.__get(e);return n.getMutability()==="MUTABLE"?e:null}return null}var kI=RX,PX=hX,NX=Xr,MX=Ys,Sf=kt,dS=J0,FX=Zr,LX=lB,dB=oB,$X=uB,BX=kI,UX=Jr,zX=FX.isBrowser("IE"),KX=20,fS=!1,Im=!1,gh=null;function VX(t){gh||(gh=new PX(dB(t)),gh.start())}var h1={onCompositionStart:function(e){Im=!0,VX(e)},onCompositionEnd:function(e){fS=!1,Im=!1,setTimeout(function(){fS||h1.resolveComposition(e)},KX)},onSelect:LX,onKeyDown:function(e,n){if(!Im){h1.resolveComposition(e),e._onKeyDown(n);return}(n.which===dS.RIGHT||n.which===dS.LEFT)&&n.preventDefault()},onKeyPress:function(e,n){n.which===dS.RETURN&&n.preventDefault()},resolveComposition:function(e){if(!Im){var n=UX(gh).stopAndFlushMutations();gh=null,fS=!0;var r=Sf.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),!n.size){e.update(r);return}var i=r.getCurrentContent();n.forEach(function(u,l){var d=MX.decode(l),f=d.blockKey,p=d.decoratorKey,g=d.leafKey,m=r.getBlockTree(f).getIn([p,"leaves",g]),_=m.start,C=m.end,w=r.getSelection().merge({anchorKey:f,focusKey:f,anchorOffset:_,focusOffset:C,isBackward:!1}),y=BX(i,w),S=i.getBlockForKey(f).getInlineStyleAt(_);i=NX.replaceText(i,w,u,S,y),r=Sf.set(r,{currentContent:i})});var o=$X(r,dB(e)),s=o.selectionState;e.restoreEditorDOM();var a=zX?Sf.forceSelection(r,s):Sf.acceptSelection(r,s);e.update(Sf.push(a,i,"insert-characters"))}}},jX=h1,WX=we.exports.createElement;function HX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var qX=Ys,GX=we.exports,YX=CI,QX=H0,XX=function(t){HX(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this.props,o=i.block,s=i.children,a=i.contentState,u=i.decorator,l=i.decoratorKey,d=i.direction,f=i.leafSet,p=i.text,g=o.getKey(),m=f.get("leaves"),_=u.getComponentForKey(l),C=u.getPropsForKey(l),w=qX.encode(g,parseInt(l,10),0),y=p.slice(m.first().get("start"),m.last().get("end")),S=QX.getHTMLDirIfDifferent(YX.getDirection(y),d);return WX(_,{...C,contentState:a,decoratedText:y,dir:S,key:w,entityKey:o.getEntityAt(f.get("start")),offsetKey:w},s)},e}(GX.Component),JX=XX,ep=So.jsx;function QO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function XO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eJ=we.exports,tJ=Zr,nJ=gt,rJ=Ol,xI=tJ.isBrowser("IE <= 11");function iJ(t){return xI?t.textContent===`
`:t.tagName==="BR"}var oJ=function(e){return xI?ep("span",{"data-text":"true",ref:e},"A"):ep("br",{"data-text":"true",ref:e},"A")},sJ=function(e){return xI?ep("span",{"data-text":"true",ref:e},"B"):ep("br",{"data-text":"true",ref:e},"B")},aJ=function(t){ZX(e,t);function e(r){var i;return i=t.call(this,r)||this,XO(QO(i),"_forceFlag",void 0),XO(QO(i),"_node",void 0),i._forceFlag=!1,i}var n=e.prototype;return n.shouldComponentUpdate=function(i){var o=this._node,s=i.children==="";rJ(o)||nJ(!1);var a=o;return s?!iJ(a):a.textContent!==i.children},n.componentDidMount=function(){this._forceFlag=!this._forceFlag},n.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},n.render=function(){var i=this;return this.props.children===""?this._forceFlag?oJ(function(o){return i._node=o}):sJ(function(o){return i._node=o}):ep("span",{"data-text":"true",ref:function(s){return i._node=s},children:this.props.children},this._forceFlag?"A":"B")},e}(eJ.Component),uJ=aJ,lJ=Ol;function cJ(t){return!t||!t.ownerDocument?!1:lJ(t)&&t.nodeName==="BR"}var fB=cJ;function dJ(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!!(t&&(typeof n.Node=="function"?t instanceof n.Node:typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"))}var fJ=dJ,hJ=fJ;function pJ(t){return hJ(t)&&t.nodeType==3}var gJ=pJ,JO=gJ;function hB(t,e){return!t||!e?!1:t===e?!0:JO(t)?!1:JO(e)?hB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1}var OI=hB;function mJ(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}var pB=mJ,p1=iB,vJ=Zr,gB=OI,yJ=pB,AI=Q0,wJ=gt,mB=Ol,_J=vJ.isBrowser("IE");function SJ(t,e){if(!t)return"[empty]";var n=vB(t,e);if(n.nodeType===Node.TEXT_NODE)return n.textContent;mB(n)||wJ(!1);var r=n;return r.outerHTML}function vB(t,e){var n=e!==void 0?e(t):[];if(t.nodeType===Node.TEXT_NODE){var r=t.textContent.length;return AI(t).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=t.cloneNode();i.nodeType===1&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=t.childNodes,s=0;s<o.length;s++)i.appendChild(vB(o[s],e));return i}function g1(t,e){for(var n=t,r=n;n;){if(mB(n)&&r.hasAttribute("contenteditable"))return SJ(n,e);n=n.parentNode,r=n}return"Could not find contentEditable parent of node"}function yB(t){return t.nodeValue===null?t.childNodes.length:t.nodeValue.length}function EJ(t,e,n,r,i){var o=AI(e);if(!!gB(o.documentElement,e)){var s=o.defaultView.getSelection(),a=t.getAnchorKey(),u=t.getAnchorOffset(),l=t.getFocusKey(),d=t.getFocusOffset(),f=t.getIsBackward();if(!s.extend&&f){var p=a,g=u;a=l,u=d,l=p,d=g,f=!1}var m=a===n&&r<=u&&i>=u,_=l===n&&r<=d&&i>=d;if(m&&_){s.removeAllRanges(),Tm(s,e,u-r,t),pv(s,e,d-r,t);return}if(!f)m&&(s.removeAllRanges(),Tm(s,e,u-r,t)),_&&pv(s,e,d-r,t);else if(_&&(s.removeAllRanges(),Tm(s,e,d-r,t)),m){var C=s.focusNode,w=s.focusOffset;s.removeAllRanges(),Tm(s,e,u-r,t),pv(s,C,w,t)}}}function pv(t,e,n,r){var i=yJ(),o=t.extend;if(o&&e!=null&&gB(i,e)){n>yB(e)&&p1.logSelectionStateFailure({anonymizedDom:g1(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var s=e===t.focusNode;try{t.rangeCount>0&&t.extend&&t.extend(e,n)}catch(u){throw p1.logSelectionStateFailure({anonymizedDom:g1(e,function(l){var d=[];return l===i&&d.push("active element"),l===t.anchorNode&&d.push("selection anchor node"),l===t.focusNode&&d.push("selection focus node"),d}),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:e===t.focusNode,nodeWasFocus:s,selectionRangeCount:t.rangeCount,selectionAnchorNodeName:t.anchorNode?t.anchorNode.nodeName:null,selectionAnchorOffset:t.anchorOffset,selectionFocusNodeName:t.focusNode?t.focusNode.nodeName:null,selectionFocusOffset:t.focusOffset,message:u?""+u:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),u}}else if(e&&t.rangeCount>0){var a=t.getRangeAt(0);a.setEnd(e,n),t.addRange(a.cloneRange())}}function Tm(t,e,n,r){var i=AI(e).createRange();if(n>yB(e)&&p1.logSelectionStateFailure({anonymizedDom:g1(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),i.setStart(e,n),_J)try{t.addRange(i)}catch{}else t.addRange(i)}var CJ={setDraftEditorSelection:EJ,addFocusToSelection:pv},ZO=So.jsx,eA=SQ;function bJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function TJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DJ=uJ,kJ=we.exports,Dm=gt,xJ=fB,OJ=CJ.setDraftEditorSelection,AJ=function(t){IJ(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,TJ(bJ(r),"leaf",void 0),r}var n=e.prototype;return n._setSelection=function(){var i=this.props.selection;if(!(i==null||!i.getHasFocus())){var o=this.props,s=o.block,a=o.start,u=o.text,l=s.getKey(),d=a+u.length;if(!!i.hasEdgeWithin(l,a,d)){var f=this.leaf;f||Dm(!1);var p=f.firstChild;p||Dm(!1);var g;p.nodeType===Node.TEXT_NODE?g=p:xJ(p)?g=f:(g=p.firstChild,g||Dm(!1)),OJ(i,g,l,a,d)}}},n.shouldComponentUpdate=function(i){var o=this.leaf;o||Dm(!1);var s=o.textContent!==i.text||i.styleSet!==this.props.styleSet||i.forceSelection;return s},n.componentDidUpdate=function(){this._setSelection()},n.componentDidMount=function(){this._setSelection()},n.render=function(){var i=this,o=this.props.block,s=this.props.text;s.endsWith(`
`)&&this.props.isLast&&(s+=`
`);var a=this.props,u=a.customStyleMap,l=a.customStyleFn,d=a.offsetKey,f=a.styleSet,p=f.reduce(function(m,_){var C={},w=u[_];return w!==void 0&&m.textDecoration!==w.textDecoration&&(C.textDecoration=[m.textDecoration,w.textDecoration].join(" ").trim()),eA(m,w,C)},{});if(l){var g=l(f,o);p=eA(p,g)}return ZO("span",{"data-offset-key":d,ref:function(_){return i.leaf=_},style:p,children:ZO(DJ,{children:s})})},e}(kJ.Component),wB=AJ,hS=So.jsx;function RJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var PJ=JX,NJ=wB,tA=Ys,MJ=st.exports,FJ=we.exports,LJ=xl;MJ.List;var $J=function(t){RJ(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this.props,o=i.block,s=i.contentState,a=i.customStyleFn,u=i.customStyleMap,l=i.decorator,d=i.direction,f=i.forceSelection,p=i.hasSelection,g=i.selection,m=i.tree,_=o.getKey(),C=o.getText(),w=m.size-1,y=this.props.children||m.map(function(S,I){var k=S.get("decoratorKey"),O=S.get("leaves"),A=O.size-1,F=O.map(function(G,Y){var Q=tA.encode(_,I,Y),ie=G.get("start"),ae=G.get("end");return hS(NJ,{offsetKey:Q,block:o,start:ie,selection:p?g:null,forceSelection:f,text:C.slice(ie,ae),styleSet:o.getInlineStyleAt(ie),customStyleMap:u,customStyleFn:a,isLast:k===w&&Y===A},Q)}).toArray();return!k||!l?F:hS(PJ,{block:o,children:F,contentState:s,decorator:l,decoratorKey:k,direction:d,leafSet:S,text:C},I)}).toArray();return hS("div",{"data-offset-key":tA.encode(_,0,0),className:LJ({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":d==="LTR","public/DraftStyleDefault/rtl":d==="RTL"}),children:y})},e}(FJ.Component),BJ=$J;function km(t,e){return!!e&&(t===e.documentElement||t===e.body)}var UJ={getTop:function(e){var n=e.ownerDocument;return km(e,n)?n.body.scrollTop||n.documentElement.scrollTop:e.scrollTop},setTop:function(e,n){var r=e.ownerDocument;km(e,r)?r.body.scrollTop=r.documentElement.scrollTop=n:e.scrollTop=n},getLeft:function(e){var n=e.ownerDocument;return km(e,n)?n.body.scrollLeft||n.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,n){var r=e.ownerDocument;km(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=n:e.scrollLeft=n}},RI=UJ,zJ=/-(.)/g;function KJ(t){return t.replace(zJ,function(e,n){return n.toUpperCase()})}var VJ=KJ,jJ=/([A-Z])/g;function WJ(t){return t.replace(jJ,"-$1").toLowerCase()}var HJ=WJ,nA=VJ,rA=HJ;function Ef(t){return t==null?t:String(t)}function qJ(t,e){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(t,null),n))return Ef(n.getPropertyValue(rA(e)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(t,null),n)return Ef(n.getPropertyValue(rA(e)));if(e==="display")return"none"}return t.currentStyle?Ef(e==="float"?t.currentStyle.cssFloat||t.currentStyle.styleFloat:t.currentStyle[nA(e)]):Ef(t.style&&t.style[nA(e)])}var GJ=qJ,YJ=GJ;function pS(t,e){var n=_B.get(t,e);return n==="auto"||n==="scroll"}var _B={get:YJ,getScrollParent:function(e){if(!e)return null;for(var n=e.ownerDocument;e&&e!==n.body;){if(pS(e,"overflow")||pS(e,"overflowY")||pS(e,"overflowX"))return e;e=e.parentNode}return n.defaultView||n.parentWindow}},Z0=_B,QJ=OI;function XJ(t){var e=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t)||!QJ(e,t))return{left:0,right:0,top:0,bottom:0};var n=t.getBoundingClientRect();return{left:Math.round(n.left)-e.clientLeft,right:Math.round(n.right)-e.clientLeft,top:Math.round(n.top)-e.clientTop,bottom:Math.round(n.bottom)-e.clientTop}}var JJ=XJ,ZJ=JJ;function eZ(t){var e=ZJ(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}var SB=eZ,tZ=typeof navigator!="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function nZ(t){return t=t||document,t.scrollingElement?t.scrollingElement:!tZ&&t.compatMode==="CSS1Compat"?t.documentElement:t.body}var rZ=nZ;function iZ(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}var oZ=iZ,sZ=rZ,aZ=oZ;function uZ(t){var e=sZ(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=e);var n=aZ(t),r=t===e?t.ownerDocument.documentElement:t,i=t.scrollWidth-r.clientWidth,o=t.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,i)),n.y=Math.max(0,Math.min(n.y,o)),n}var ew=uZ;function EB(){var t;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}function CB(){var t;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function bB(){return{width:window.innerWidth||EB(),height:window.innerHeight||CB()}}bB.withoutScrollbars=function(){return{width:EB(),height:CB()}};var IB=bB,Cf=So.jsx;function lZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function TB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){DB(t,i,n[i])})}return t}function DB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dZ=BJ,m1=Ys,v1=we.exports,iA=RI,fZ=Z0,hZ=SB,pZ=ew,gZ=IB,mZ=st.exports,vZ=gt,yZ=qp,oA=10;mZ.List;var sA=function(e,n){return e.getAnchorKey()===n||e.getFocusKey()===n},wZ=function(e,n){var r=e.getNextSiblingKey();return r?n.getBlockForKey(r).getType()===e.getType():!1},_Z=function(e,n,r){var i=[],o=!0,s=!1,a=void 0;try{for(var u=r.reverse()[Symbol.iterator](),l;!(o=(l=u.next()).done);o=!0){var d=l.value;if(d.type!==n)break;i.push(d)}}catch(g){s=!0,a=g}finally{try{!o&&u.return!=null&&u.return()}finally{if(s)throw a}}r.splice(r.indexOf(i[0]),i.length+1);var f=i.reverse(),p=f[0].key;return r.push(v1.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":m1.encode(p,0,0)},f)),r},aA=function(e,n){var r=n.get(e.getType())||n.get("unstyled"),i=r.wrapper,o=r.element||n.get("unstyled").element;return{Element:o,wrapperTemplate:i}},uA=function(e,n){var r=n(e);if(!r)return{};var i=r.component,o=r.props,s=r.editable;return{CustomComponent:i,customProps:o,customEditable:s}},lA=function(e,n,r,i,o,s){var a={"data-block":!0,"data-editor":n,"data-offset-key":r,key:e.getKey(),ref:s},u=i(e);return u&&(a.className=u),o.customEditable!==void 0&&(a=TB({},a,{contentEditable:o.customEditable,suppressContentEditableWarning:!0})),a},SZ=function(t){cZ(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,DB(lZ(r),"wrapperRef",v1.createRef()),r}var n=e.prototype;return n.shouldComponentUpdate=function(i){var o=this.props,s=o.block,a=o.direction,u=o.tree,l=!s.getChildKeys().isEmpty(),d=s!==i.block||u!==i.tree||a!==i.direction||sA(i.selection,i.block.getKey())&&i.forceSelection;return l||d},n.componentDidMount=function(){var i=this.props.selection,o=i.getEndKey();if(!(!i.getHasFocus()||o!==this.props.block.getKey())){var s=this.wrapperRef.current;if(!!s){var a=fZ.getScrollParent(s),u=pZ(a),l;if(a===window){var d=hZ(s),f=d.y+d.height,p=gZ().height;l=f-p,l>0&&window.scrollTo(u.x,u.y+l+oA)}else{yZ(s)||vZ(!1);var g=s,m=g.offsetHeight+g.offsetTop,_=a.offsetHeight+u.y;l=m-_,l>0&&iA.setTop(a,iA.getTop(a)+l+oA)}}}},n.render=function(){var i=this,o=this.props,s=o.block,a=o.blockRenderMap,u=o.blockRendererFn,l=o.blockStyleFn,d=o.contentState,f=o.decorator,p=o.editorKey,g=o.editorState,m=o.customStyleFn,_=o.customStyleMap,C=o.direction,w=o.forceSelection,y=o.selection,S=o.tree,I=null;s.children.size&&(I=s.children.reduce(function(ae,_e){var De=m1.encode(_e,0,0),Ie=d.getBlockForKey(_e),Ae=uA(Ie,u),X=Ae.CustomComponent||e,W=aA(Ie,a),K=W.Element,oe=W.wrapperTemplate,N=lA(Ie,p,De,l,Ae,null),j=TB({},i.props,{tree:g.getBlockTree(_e),blockProps:Ae.customProps,offsetKey:De,block:Ie});return ae.push(Cf(K,{...N,children:Cf(X,{...j})})),!oe||wZ(Ie,d)||_Z(oe,K,ae),ae},[]));var k=s.getKey(),O=m1.encode(k,0,0),A=uA(s,u),F=A.CustomComponent,G=F!=null?Cf(F,{...this.props,tree:g.getBlockTree(k),blockProps:A.customProps,offsetKey:O,block:s}):Cf(dZ,{block:s,children:I,contentState:d,customStyleFn:m,customStyleMap:_,decorator:f,direction:C,forceSelection:w,hasSelection:sA(y,k),selection:y,tree:S});if(s.getParentKey())return G;var Y=aA(s,a),Q=Y.Element,ie=lA(s,p,O,l,A,this.wrapperRef);return Cf(Q,{...ie,children:G})},e}(v1.Component),EZ=SZ,cA=So.jsx;function CZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var bZ=EZ,IZ=Ys,dA=we.exports,TZ=Jr,DZ=function(t){CZ(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){var o=this.props.editorState,s=i.editorState,a=o.getDirectionMap(),u=s.getDirectionMap();if(a!==u)return!0;var l=o.getSelection().getHasFocus(),d=s.getSelection().getHasFocus();if(l!==d)return!0;var f=s.getNativelyRenderedContent(),p=o.isInCompositionMode(),g=s.isInCompositionMode();if(o===s||f!==null&&s.getCurrentContent()===f||p&&g)return!1;var m=o.getCurrentContent(),_=s.getCurrentContent(),C=o.getDecorator(),w=s.getDecorator();return p!==g||m!==_||C!==w||s.mustForceSelection()},n.render=function(){for(var i=this.props,o=i.blockRenderMap,s=i.blockRendererFn,a=i.blockStyleFn,u=i.customStyleMap,l=i.customStyleFn,d=i.editorState,f=i.editorKey,p=i.textDirectionality,g=d.getCurrentContent(),m=d.getSelection(),_=d.mustForceSelection(),C=d.getDecorator(),w=TZ(d.getDirectionMap()),y=g.getBlocksAsArray(),S=y[0],I=[],k=S;k;){var O=k.getKey(),A={blockRenderMap:o,blockRendererFn:s,blockStyleFn:a,contentState:g,customStyleFn:l,customStyleMap:u,decorator:C,editorKey:f,editorState:d,forceSelection:_,selection:m,block:k,direction:p||w.get(O),tree:d.getBlockTree(O)},F=o.get(k.getType())||o.get("unstyled"),G=F.wrapper;I.push({block:cA(bZ,{...A},O),wrapperTemplate:G,key:O,offsetKey:IZ.encode(O,0,0)});var Y=k.getNextSiblingKey();k=Y?g.getBlockForKey(Y):null}for(var Q=[],ie=0;ie<I.length;){var ae=I[ie];if(ae.wrapperTemplate){var _e=[];do _e.push(I[ie].block),ie++;while(ie<I.length&&I[ie].wrapperTemplate===ae.wrapperTemplate);var De=dA.cloneElement(ae.wrapperTemplate,{key:ae.key+"-wrap","data-offset-key":ae.offsetKey},_e);Q.push(De)}else Q.push(ae.block),ie++}return cA("div",{"data-contents":"true",children:Q})},e}(dA.Component),kZ=DZ,fA=So.jsx,xZ=we.exports.createElement;function OZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function RZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PZ=wB,hA=Ys,NZ=we.exports,pA=RI,MZ=Z0,FZ=CI,LZ=H0,$Z=xl,BZ=SB,UZ=ew,zZ=IB,KZ=gt,VZ=qp,jZ=Jr,gA=10,mA=function(e,n){return e.getAnchorKey()===n||e.getFocusKey()===n},WZ=function(t){AZ(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,RZ(OZ(r),"_node",void 0),r}var n=e.prototype;return n.shouldComponentUpdate=function(i){return this.props.block!==i.block||this.props.tree!==i.tree||this.props.direction!==i.direction||mA(i.selection,i.block.getKey())&&i.forceSelection},n.componentDidMount=function(){if(!this.props.preventScroll){var i=this.props.selection,o=i.getEndKey();if(!(!i.getHasFocus()||o!==this.props.block.getKey())){var s=this._node;if(s!=null){var a=MZ.getScrollParent(s),u=UZ(a),l;if(a===window){var d=BZ(s),f=d.y+d.height,p=zZ().height;l=f-p,l>0&&window.scrollTo(u.x,u.y+l+gA)}else{VZ(s)||KZ(!1);var g=s.offsetHeight+s.offsetTop,m=a.offsetTop+a.offsetHeight,_=m+u.y;l=g-_,l>0&&pA.setTop(a,pA.getTop(a)+l+gA)}}}}},n._renderChildren=function(){var i=this,o=this.props.block,s=o.getKey(),a=o.getText(),u=this.props.tree.size-1,l=mA(this.props.selection,s);return this.props.tree.map(function(d,f){var p=d.get("leaves");if(p.size===0)return null;var g=p.size-1,m=p.map(function(Y,Q){var ie=hA.encode(s,f,Q),ae=Y.get("start"),_e=Y.get("end");return fA(PZ,{offsetKey:ie,block:o,start:ae,selection:l?i.props.selection:null,forceSelection:i.props.forceSelection,text:a.slice(ae,_e),styleSet:o.getInlineStyleAt(ae),customStyleMap:i.props.customStyleMap,customStyleFn:i.props.customStyleFn,isLast:f===u&&Q===g},ie)}).toArray(),_=d.get("decoratorKey");if(_==null||!i.props.decorator)return m;var C=jZ(i.props.decorator),w=C.getComponentForKey(_);if(!w)return m;var y=C.getPropsForKey(_),S=hA.encode(s,f,0),I=p.first().get("start"),k=p.last().get("end"),O=a.slice(I,k),A=o.getEntityAt(d.get("start")),F=LZ.getHTMLDirIfDifferent(FZ.getDirection(O),i.props.direction),G={contentState:i.props.contentState,decoratedText:O,dir:F,start:I,end:k,blockKey:s,entityKey:A,offsetKey:S};return xZ(w,{...y,...G,key:S},m)}).toArray()},n.render=function(){var i=this,o=this.props,s=o.direction,a=o.offsetKey,u=$Z({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":s==="LTR","public/DraftStyleDefault/rtl":s==="RTL"});return fA("div",{"data-offset-key":a,className:u,ref:function(d){return i._node=d},children:this._renderChildren()})},e}(NZ.Component),kB=WZ;function HZ(t){var e=t||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(e=(e?e+" ":"")+i)}return e}var qZ=HZ,GZ=we.exports.createElement,vA=So.jsx;function YZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){QZ(t,i,n[i])})}return t}function QZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var JZ=kB,ZZ=Ys,yA=we.exports,eee=xl,tee=qZ,nee=Jr,ree=function(e,n,r,i){return eee({"public/DraftStyleDefault/unorderedListItem":e==="unordered-list-item","public/DraftStyleDefault/orderedListItem":e==="ordered-list-item","public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":n===0,"public/DraftStyleDefault/depth1":n===1,"public/DraftStyleDefault/depth2":n===2,"public/DraftStyleDefault/depth3":n===3,"public/DraftStyleDefault/depth4":n>=4,"public/DraftStyleDefault/listLTR":i==="LTR","public/DraftStyleDefault/listRTL":i==="RTL"})},iee=function(t){XZ(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){var o=this.props.editorState,s=i.editorState,a=o.getDirectionMap(),u=s.getDirectionMap();if(a!==u)return!0;var l=o.getSelection().getHasFocus(),d=s.getSelection().getHasFocus();if(l!==d)return!0;var f=s.getNativelyRenderedContent(),p=o.isInCompositionMode(),g=s.isInCompositionMode();if(o===s||f!==null&&s.getCurrentContent()===f||p&&g)return!1;var m=o.getCurrentContent(),_=s.getCurrentContent(),C=o.getDecorator(),w=s.getDecorator();return p!==g||m!==_||C!==w||s.mustForceSelection()},n.render=function(){for(var i=this.props,o=i.blockRenderMap,s=i.blockRendererFn,a=i.blockStyleFn,u=i.customStyleMap,l=i.customStyleFn,d=i.editorState,f=i.editorKey,p=i.preventScroll,g=i.textDirectionality,m=d.getCurrentContent(),_=d.getSelection(),C=d.mustForceSelection(),w=d.getDecorator(),y=nee(d.getDirectionMap()),S=m.getBlocksAsArray(),I=[],k=null,O=null,A=0;A<S.length;A++){var F=S[A],G=F.getKey(),Y=F.getType(),Q=s(F),ie=void 0,ae=void 0,_e=void 0;Q&&(ie=Q.component,ae=Q.props,_e=Q.editable);var De=g||y.get(G),Ie=ZZ.encode(G,0,0),Ae={contentState:m,block:F,blockProps:ae,blockStyleFn:a,customStyleMap:u,customStyleFn:l,decorator:w,direction:De,forceSelection:C,offsetKey:Ie,preventScroll:p,selection:_,tree:d.getBlockTree(G)},X=o.get(Y)||o.get("unstyled"),W=X.wrapper,K=X.element||o.get("unstyled").element,oe=F.getDepth(),N="";if(a&&(N=a(F)),K==="li"){var j=O!==W||k===null||oe>k;N=tee(N,ree(Y,oe,j,De))}var J=ie||JZ,L={className:N,"data-block":!0,"data-editor":f,"data-offset-key":Ie,key:G};_e!==void 0&&(L=YZ({},L,{contentEditable:_e,suppressContentEditableWarning:!0}));var V=vA(K,{...L,children:GZ(J,{...Ae,key:G})});I.push({block:V,wrapperTemplate:W,key:G,offsetKey:Ie}),W?k=F.getDepth():k=null,O=W}for(var se=[],ye=0;ye<I.length;){var Re=I[ye];if(Re.wrapperTemplate){var Ue=[];do Ue.push(I[ye].block),ye++;while(ye<I.length&&I[ye].wrapperTemplate===Re.wrapperTemplate);var hn=yA.cloneElement(Re.wrapperTemplate,{key:Re.key+"-wrap","data-offset-key":Re.offsetKey},Ue);se.push(hn)}else se.push(Re.block),ye++}return vA("div",{"data-contents":"true",children:se})},e}(yA.Component),oee=iee,see=su,aee=see("draft_tree_data_support"),uee=aee?kZ:oee,xB={isImage:function(e){return wA(e)[0]==="image"},isJpeg:function(e){var n=wA(e);return xB.isImage(e)&&(n[1]==="jpeg"||n[1]==="pjpeg")}};function wA(t){return t.split("/")}var lee=xB,xm=gt;function cee(t){var e=t.length;if(!Array.isArray(t)&&(typeof t=="object"||typeof t=="function")||xm(!1),typeof e!="number"&&xm(!1),e===0||e-1 in t||xm(!1),typeof t.callee=="function"&&xm(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch{}for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}function dee(t){return!!t&&(typeof t=="object"||typeof t=="function")&&"length"in t&&!("setInterval"in t)&&typeof t.nodeType!="number"&&(Array.isArray(t)||"callee"in t||"item"in t)}function fee(t){return dee(t)?Array.isArray(t)?t.slice():cee(t):[t]}var hee=fee;function tw(t){return function(){return t}}var Al=function(){};Al.thatReturns=tw;Al.thatReturnsFalse=tw(!1);Al.thatReturnsTrue=tw(!0);Al.thatReturnsNull=tw(null);Al.thatReturnsThis=function(){return this};Al.thatReturnsArgument=function(t){return t};var pee=Al,gee=lee,mee=hee,vee=pee,yee=new RegExp(`\r
`,"g"),wee=`
`,_ee={"text/rtf":1,"text/html":1};function See(t){if(t.kind=="file")return t.getAsFile()}var Eee=function(){function t(n){this.data=n,this.types=n.types?mee(n.types):[]}var e=t.prototype;return e.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(r){return _ee[r]})},e.getText=function(){var r;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(r=this.data.getData("text/plain")):r=this.data.getData("Text")),r?r.replace(yee,wee):null},e.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},e.isLink=function(){return this.types.some(function(r){return r.indexOf("Url")!=-1||r.indexOf("text/uri-list")!=-1||r.indexOf("text/x-moz-url")})},e.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var r=this.data.getData("text/x-moz-url").split(`
`);return r[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},e.isImage=function(){var r=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(r)return!0;for(var i=this.getFiles(),o=0;o<i.length;o++){var s=i[o].type;if(!gee.isImage(s))return!1}return!0},e.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(See).filter(vee.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.hasFiles=function(){return this.getFiles().length>0},t}(),OB=Eee,Cee=gt,_A=/\.textClipping$/,bee={"text/plain":!0,"text/html":!0,"text/rtf":!0},Iee=5e3;function Tee(t,e){var n=0,r=[];t.forEach(function(i){Dee(i,function(o){n++,o&&r.push(o.slice(0,Iee)),n==t.length&&e(r.join("\r"))})})}function Dee(t,e){if(!li.FileReader||t.type&&!(t.type in bee)){e("");return}if(t.type===""){var n="";_A.test(t.name)&&(n=t.name.replace(_A,"")),e(n);return}var r=new FileReader;r.onload=function(){var i=r.result;typeof i!="string"&&Cee(!1),e(i)},r.onerror=function(){e("")},r.readAsText(t)}var AB=Tee;function kee(t){return t==="handled"||t===!0}var nw=kee,xee=OB,RB=Xr,PB=kt,Oee=X0,Aee=Q0,Ree=AB,Pee=sB,Nee=rB,SA=nw,gS=Jr;function Mee(t,e){var n=null,r=null,i=Aee(t.currentTarget);if(typeof i.caretRangeFromPoint=="function"){var o=i.caretRangeFromPoint(t.x,t.y);n=o.startContainer,r=o.startOffset}else if(t.rangeParent)n=t.rangeParent,r=t.rangeOffset;else return null;n=gS(n),r=gS(r);var s=gS(Oee(n));return Pee(e,s,r,s,r)}var Fee={onDragEnd:function(e){e.exitCurrentMode(),EA(e)},onDrop:function(e,n){var r=new xee(n.nativeEvent.dataTransfer),i=e._latestEditorState,o=Mee(n.nativeEvent,i);if(n.preventDefault(),e._dragCount=0,e.exitCurrentMode(),o!=null){var s=r.getFiles();if(s.length>0){if(e.props.handleDroppedFiles&&SA(e.props.handleDroppedFiles(o,s)))return;Ree(s,function(u){u&&e.update(CA(i,o,u))});return}var a=e._internalDrag?"internal":"external";e.props.handleDrop&&SA(e.props.handleDrop(o,r,a))||(e._internalDrag?e.update(Lee(i,o)):e.update(CA(i,o,r.getText()))),EA(e)}}};function EA(t){t._internalDrag=!1;var e=t.editorContainer;if(e){var n=new MouseEvent("mouseup",{view:Nee(e),bubbles:!0,cancelable:!0});e.dispatchEvent(n)}}function Lee(t,e){var n=RB.moveText(t.getCurrentContent(),t.getSelection(),e);return PB.push(t,n,"insert-fragment")}function CA(t,e,n){var r=RB.insertText(t.getCurrentContent(),e,n,t.getCurrentInlineStyle());return PB.push(t,r,"insert-fragment")}var $ee=Fee;function Bee(t){var e=t.getSelection(),n=e.getAnchorKey(),r=t.getBlockTree(n),i=e.getStartOffset(),o=!1;return r.some(function(s){return i===s.get("start")?(o=!0,!0):i<s.get("end")?s.get("leaves").some(function(a){var u=a.get("start");return i===u?(o=!0,!0):!1}):!1}),o}var Uee=Bee;(function(t,e){if(t.setImmediate)return;var n=1,r={},i=!1,o=t.document,s;function a(y){typeof y!="function"&&(y=new Function(""+y));for(var S=new Array(arguments.length-1),I=0;I<S.length;I++)S[I]=arguments[I+1];var k={callback:y,args:S};return r[n]=k,s(n),n++}function u(y){delete r[y]}function l(y){var S=y.callback,I=y.args;switch(I.length){case 0:S();break;case 1:S(I[0]);break;case 2:S(I[0],I[1]);break;case 3:S(I[0],I[1],I[2]);break;default:S.apply(e,I);break}}function d(y){if(i)setTimeout(d,0,y);else{var S=r[y];if(S){i=!0;try{l(S)}finally{u(y),i=!1}}}}function f(){s=function(y){process.nextTick(function(){d(y)})}}function p(){if(t.postMessage&&!t.importScripts){var y=!0,S=t.onmessage;return t.onmessage=function(){y=!1},t.postMessage("","*"),t.onmessage=S,y}}function g(){var y="setImmediate$"+Math.random()+"$",S=function(I){I.source===t&&typeof I.data=="string"&&I.data.indexOf(y)===0&&d(+I.data.slice(y.length))};t.addEventListener?t.addEventListener("message",S,!1):t.attachEvent("onmessage",S),s=function(I){t.postMessage(y+I,"*")}}function m(){var y=new MessageChannel;y.port1.onmessage=function(S){var I=S.data;d(I)},s=function(S){y.port2.postMessage(S)}}function _(){var y=o.documentElement;s=function(S){var I=o.createElement("script");I.onreadystatechange=function(){d(S),I.onreadystatechange=null,y.removeChild(I),I=null},y.appendChild(I)}}function C(){s=function(y){setTimeout(d,0,y)}}var w=Object.getPrototypeOf&&Object.getPrototypeOf(t);w=w&&w.setTimeout?w:t,{}.toString.call(t.process)==="[object process]"?f():p()?g():t.MessageChannel?m():o&&"onreadystatechange"in o.createElement("script")?_():C(),w.setImmediate=a,w.clearImmediate=u})(typeof self=="undefined"?li:self);var zee=li.setImmediate,Kee=Xr,y1=kt,Vee=Zr,bA=kI,jee=nw,Wee=Uee,IA=Jr,Hee=zee,qee="'",Gee="/",Yee=Vee.isBrowser("Firefox");function Qee(t){return Yee&&(t==qee||t==Gee)}function TA(t,e,n,r,i){var o=Kee.replaceText(t.getCurrentContent(),t.getSelection(),e,n,r);return y1.push(t,o,"insert-characters",i)}function Xee(t,e){t._pendingStateFromBeforeInput!==void 0&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=t._latestEditorState,r=e.data;if(!!r){if(t.props.handleBeforeInput&&jee(t.props.handleBeforeInput(r,n,e.timeStamp))){e.preventDefault();return}var i=n.getSelection(),o=i.getStartOffset(),s=i.getAnchorKey();if(!i.isCollapsed()){e.preventDefault(),t.update(TA(n,r,n.getCurrentInlineStyle(),bA(n.getCurrentContent(),n.getSelection()),!0));return}var a=TA(n,r,n.getCurrentInlineStyle(),bA(n.getCurrentContent(),n.getSelection()),!1),u=!1;if(u||(u=Wee(t._latestCommittedEditorState)),!u){var l=n.getBlockTree(s),d=a.getBlockTree(s);u=l.size!==d.size||l.zip(d).some(function(f){var p=f[0],g=f[1],m=p.get("start"),_=m+(m>=o?r.length:0),C=p.get("end"),w=C+(C>=o?r.length:0),y=g.get("start"),S=g.get("end"),I=g.get("decoratorKey");return p.get("decoratorKey")!==I||p.get("leaves").size!==g.get("leaves").size||_!==y||w!==S||I!=null&&S-y!==C-m})}if(u||(u=Qee(r)),u||(u=IA(a.getDirectionMap()).get(s)!==IA(n.getDirectionMap()).get(s)),u){e.preventDefault(),a=y1.set(a,{forceSelection:!0}),t.update(a);return}a=y1.set(a,{nativelyRenderedContent:a.getCurrentContent()}),t._pendingStateFromBeforeInput=a,Hee(function(){t._pendingStateFromBeforeInput!==void 0&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0)})}}var Jee=Xee,Zee=kt,DA=OI,ete=pB;function tte(t,e){var n=e.currentTarget.ownerDocument;if(!Boolean(t.props.preserveSelectionOnBlur)&&ete(n)===n.body){var r=n.defaultView.getSelection(),i=t.editor;r.rangeCount===1&&DA(i,r.anchorNode)&&DA(i,r.focusNode)&&r.removeAllRanges()}var o=t._latestEditorState,s=o.getSelection();if(!!s.getHasFocus()){var a=s.set("hasFocus",!1);t.props.onBlur&&t.props.onBlur(e),t.update(Zee.acceptSelection(o,a))}}var nte=tte,rte=kt;function ite(t,e){t.setMode("composite"),t.update(rte.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(e)}var ote=ite,ste=K0;function ate(t){var e=t.getSelection();return e.isCollapsed()?null:ste(t.getCurrentContent(),e)}var NB=ate,ute=NB;function lte(t,e){var n=t._latestEditorState,r=n.getSelection();if(r.isCollapsed()){e.preventDefault();return}t.setClipboard(ute(t._latestEditorState))}var cte=lte;function dte(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var e=t;if(!e.ownerDocument.defaultView)return e instanceof Node;if(e instanceof e.ownerDocument.defaultView.Node)return!0}return!1}var fte=dte,hte=Xr,pte=kt,gte=Z0,mte=NB,vte=ew,yte=fte;function wte(t,e){var n=t._latestEditorState,r=n.getSelection(),i=e.target,o;if(r.isCollapsed()){e.preventDefault();return}if(yte(i)){var s=i;o=vte(gte.getScrollParent(s))}var a=mte(n);t.setClipboard(a),t.setMode("cut"),setTimeout(function(){t.restoreEditorDOM(o),t.exitCurrentMode(),t.update(_te(n))},0)}function _te(t){var e=hte.removeRange(t.getCurrentContent(),t.getSelection(),"forward");return pte.push(t,e,"remove-range")}var Ste=wte;function Ete(t,e){t.setMode("drag"),e.preventDefault()}var Cte=Ete;function bte(t){t._internalDrag=!0,t.setMode("drag")}var Ite=bte,kA=kt,Tte=Zr;function Dte(t,e){var n=t._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var i=r.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),Tte.isBrowser("Chrome < 60.0.3081.0")?t.update(kA.forceSelection(n,i)):t.update(kA.acceptSelection(n,i))}}var kte=Dte,xte=gt,MB=55296,Ote=56319,Ate=56320,FB=57343,Rte=/[\uD800-\uDFFF]/;function LB(t){return MB<=t&&t<=FB}function Pte(t,e){if(0<=e&&e<t.length||xte(!1),e+1===t.length)return!1;var n=t.charCodeAt(e),r=t.charCodeAt(e+1);return MB<=n&&n<=Ote&&Ate<=r&&r<=FB}function PI(t){return Rte.test(t)}function $c(t,e){return 1+LB(t.charCodeAt(e))}function Nte(t){if(!PI(t))return t.length;for(var e=0,n=0;n<t.length;n+=$c(t,n))e++;return e}function $B(t,e,n){if(e=e||0,n=n===void 0?1/0:n||0,!PI(t))return t.substr(e,n);var r=t.length;if(r<=0||e>r||n<=0)return"";var i=0;if(e>0){for(;e>0&&i<r;e--)i+=$c(t,i);if(i>=r)return""}else if(e<0){for(i=r;e<0&&0<i;e++)i-=$c(t,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=$c(t,o);return t.substring(i,o)}function Mte(t,e,n){e=e||0,n=n===void 0?1/0:n||0,e<0&&(e=0),n<0&&(n=0);var r=Math.abs(n-e);return e=e<n?e:n,$B(t,e,r)}function Fte(t){for(var e=[],n=0;n<t.length;n+=$c(t,n))e.push(t.codePointAt(n));return e}var Lte={getCodePoints:Fte,getUTF16Length:$c,hasSurrogateUnit:PI,isCodeUnitInSurrogateRange:LB,isSurrogatePair:Pte,strlen:Nte,substring:Mte,substr:$B},Rl=Lte;function $te(t,e){var n=t.getSelection(),r=t.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),s=i,a=0;if(e>o){var u=r.getKeyBefore(i);if(u==null)s=i;else{s=u;var l=r.getBlockForKey(u);a=l.getText().length}}else a=o-e;return n.merge({focusKey:s,focusOffset:a,isBackward:!0})}var NI=$te,Bte=Xr,Ute=su,xA=Ute("draft_tree_data_support");function zte(t,e,n){var r=t.getSelection(),i=t.getCurrentContent(),o=r,s=r.getAnchorKey(),a=r.getFocusKey(),u=i.getBlockForKey(s);if(xA&&n==="forward"&&s!==a)return i;if(r.isCollapsed()){if(n==="forward"){if(t.isSelectionAtEndOfContent())return i;if(xA){var l=r.getAnchorOffset()===i.getBlockForKey(s).getLength();if(l){var d=i.getBlockForKey(u.nextSibling);if(!d||d.getLength()===0)return i}}}else if(t.isSelectionAtStartOfContent())return i;if(o=e(t),o===r)return i}return Bte.removeRange(i,o,n)}var Gp=zte,Kte=kt,Vte=Rl,jte=NI,Wte=Gp;function Hte(t){var e=Wte(t,function(r){var i=r.getSelection(),o=r.getCurrentContent(),s=i.getAnchorKey(),a=i.getAnchorOffset(),u=o.getBlockForKey(s).getText()[a-1];return jte(r,u?Vte.getUTF16Length(u,0):1)},"backward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return Kte.push(t,e.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var BB=Hte,qte=Xr,Gte=Ys,Yte=kt,Qte=Zr,Xte=cB,Jte=Xte.notEmptyKey,Zte=X0,ene=BB,tne=Jr,nne=Qte.isEngine("Gecko"),rne=`

`;function ine(t,e){switch(t){case"deleteContentBackward":return ene(e)}return e}function one(t,e){t._pendingStateFromBeforeInput!==void 0&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=t.editor,r=n.ownerDocument.defaultView.getSelection(),i=r.anchorNode,o=r.isCollapsed,s=(i==null?void 0:i.nodeType)!==Node.TEXT_NODE&&(i==null?void 0:i.nodeType)!==Node.ELEMENT_NODE;if(!(i==null||s)){if(i.nodeType===Node.TEXT_NODE&&(i.previousSibling!==null||i.nextSibling!==null)){var a=i.parentNode;if(a==null)return;i.nodeValue=a.textContent;for(var u=a.firstChild;u!=null;u=u.nextSibling)u!==i&&a.removeChild(u)}var l=i.textContent,d=t._latestEditorState,f=tne(Zte(i)),p=Gte.decode(f),g=p.blockKey,m=p.decoratorKey,_=p.leafKey,C=d.getBlockTree(g).getIn([m,"leaves",_]),w=C.start,y=C.end,S=d.getCurrentContent(),I=S.getBlockForKey(g),k=I.getText().slice(w,y);if(l.endsWith(rne)&&(l=l.slice(0,-1)),l===k){var O=e.nativeEvent.inputType;if(O){var A=ine(O,d);if(A!==d){t.restoreEditorDOM(),t.update(A);return}}return}var F=d.getSelection(),G=F.merge({anchorOffset:w,focusOffset:y,isBackward:!1}),Y=I.getEntityAt(w),Q=Jte(Y)?S.getEntity(Y):null,ie=Q!=null?Q.getMutability():null,ae=ie==="MUTABLE",_e=ae?"spellcheck-change":"apply-entity",De=qte.replaceText(S,G,l,I.getInlineStyleAt(w),ae?I.getEntityAt(w):null),Ie,Ae,X,W;if(nne)Ie=r.anchorOffset,Ae=r.focusOffset,X=w+Math.min(Ie,Ae),W=X+Math.abs(Ie-Ae),Ie=X,Ae=W;else{var K=l.length-k.length;X=F.getStartOffset(),W=F.getEndOffset(),Ie=o?W+K:X,Ae=W+K}var oe=De.merge({selectionBefore:S.getSelectionAfter(),selectionAfter:F.merge({anchorOffset:Ie,focusOffset:Ae})});t.update(Yte.push(d,oe,_e))}}var sne=one,ane=J0;function une(t){return t.which===ane.RETURN&&(t.getModifierState("Shift")||t.getModifierState("Alt")||t.getModifierState("Control"))}var lne=une,cne=Zr,dne=lne,mS=cne.isPlatform("Mac OS X"),UB={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return mS&&e.altKey},usesMacOSHeuristics:function(){return mS},hasCommandModifier:function(e){return mS?!!e.metaKey&&!e.altKey:UB.isCtrlKeyCommand(e)},isSoftNewlineEvent:dne},MI=UB,OA=Xr,AA=kt,fne=K0,hne=Jr,vS=null,pne={cut:function(e){var n=e.getCurrentContent(),r=e.getSelection(),i=null;if(r.isCollapsed()){var o=r.getAnchorKey(),s=n.getBlockForKey(o).getLength();if(s===r.getAnchorOffset()){var a=n.getKeyAfter(o);if(a==null)return e;i=r.set("focusKey",a).set("focusOffset",0)}else i=r.set("focusOffset",s)}else i=r;i=hne(i),vS=fne(n,i);var u=OA.removeRange(n,i,"forward");return u===n?e:AA.push(e,u,"remove-range")},paste:function(e){if(!vS)return e;var n=OA.replaceWithFragment(e.getCurrentContent(),e.getSelection(),vS);return AA.push(e,n,"insert-fragment")}},gne=pne,mne=Zr,vne=gt,yne=mne.isBrowser("Chrome");function wne(t){for(var e=t.cloneRange(),n=[],r=t.endContainer;r!=null;r=r.parentNode){var i=r===t.commonAncestorContainer;i?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var o=Array.from(e.getClientRects());if(n.push(o),i){var s;return n.reverse(),(s=[]).concat.apply(s,n)}e.setEndBefore(r)}vne(!1)}var _ne=yne?wne:function(t){return Array.from(t.getClientRects())},zB=_ne,Sne=Rl,Ene=Q0,RA=zB,w1=gt;function Cne(t){var e=getComputedStyle(t),n=Ene(t),r=n.createElement("div");r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.fontStyle=e.fontStyle,r.style.fontWeight=e.fontWeight,r.style.lineHeight=e.lineHeight,r.style.position="absolute",r.textContent="M";var i=n.body;i||w1(!1),i.appendChild(r);var o=r.getBoundingClientRect();return i.removeChild(r),o.height}function PA(t,e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,s=0;s<t.length;s++){var a=t[s];a.width===0||a.width===1||(n=Math.min(n,a.top),r=Math.min(r,a.bottom),i=Math.max(i,a.top),o=Math.max(o,a.bottom))}return i<=r&&i-n<e&&o-r<e}function bne(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}function Ine(t){t.collapsed||w1(!1),t=t.cloneRange();var e=t.startContainer;e.nodeType!==1&&(e=e.parentNode);var n=Cne(e),r=t.endContainer,i=t.endOffset;for(t.setStart(t.startContainer,0);PA(RA(t),n)&&(r=t.startContainer,i=t.startOffset,r.parentNode||w1(!1),t.setStartBefore(r),!(r.nodeType===1&&getComputedStyle(r).display!=="inline")););var o=r,s=i-1;do{for(var a=o.nodeValue,u=s;u>=0;u--)if(!(a!=null&&u>0&&Sne.isSurrogatePair(a,u-1)))if(t.setStart(o,u),PA(RA(t),n))r=o,i=u;else break;if(u===-1||o.childNodes.length===0)break;o=o.childNodes[u],s=bne(o)}while(!0);return t.setStart(r,i),t}var Tne=Ine,Dne=kt,kne=Tne,xne=aB,One=NI,Ane=Gp;function Rne(t,e){var n=Ane(t,function(r){var i=r.getSelection();if(i.isCollapsed()&&i.getAnchorOffset()===0)return One(r,1);var o=e.currentTarget.ownerDocument,s=o.defaultView.getSelection(),a=s.getRangeAt(0);return a=kne(a),xne(r,null,a.endContainer,a.endOffset,a.startContainer,a.startOffset).selectionState},"backward");return n===t.getCurrentContent()?t:Dne.push(t,n,"remove-range")}var Pne=Rne,Nne=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;\u30FB\u3001\u3002\u3008-\u3011\u3014-\u301F\uFF1A-\uFF1F\uFF01-\uFF0F\uFF3B-\uFF40\uFF5B-\uFF65\u2E2E\u061F\u066A-\u066C\u061B\u060C\u060D\uFD3E\uFD3F\u1801\u0964\u104A\u104B\u2010-\u2027\u2030-\u205E\xA1-\xB1\xB4-\xB8\xBA\xBB\xBF]`,Mne={getPunctuation:function(){return Nne}},Fne=Mne,Lne=Fne.getPunctuation(),KB="['\u2018\u2019]",Bc="\\s|(?![_])"+Lne,$ne="^(?:"+Bc+")*(?:"+KB+"|(?!"+Bc+").)*(?:(?!"+Bc+").)",Bne=new RegExp($ne),Une="(?:(?!"+Bc+").)(?:"+KB+"|(?!"+Bc+").)*(?:"+Bc+")*$",zne=new RegExp(Une);function NA(t,e){var n=e?zne.exec(t):Bne.exec(t);return n?n[0]:t}var Kne={getBackward:function(e){return NA(e,!0)},getForward:function(e){return NA(e,!1)}},VB=Kne,Vne=VB,jne=kt,MA=NI,Wne=Gp;function Hne(t){var e=Wne(t,function(n){var r=n.getSelection(),i=r.getStartOffset();if(i===0)return MA(n,1);var o=r.getStartKey(),s=n.getCurrentContent(),a=s.getBlockForKey(o).getText().slice(0,i),u=Vne.getBackward(a);return MA(n,u.length||1)},"backward");return e===t.getCurrentContent()?t:jne.push(t,e,"remove-range")}var qne=Hne;function Gne(t,e){var n=t.getSelection(),r=n.getStartKey(),i=n.getStartOffset(),o=t.getCurrentContent(),s=r,a,u=o.getBlockForKey(r);return e>u.getText().length-i?(s=o.getKeyAfter(r),a=0):a=i+e,n.merge({focusKey:s,focusOffset:a})}var jB=Gne,Yne=VB,Qne=kt,Xne=jB,Jne=Gp;function Zne(t){var e=Jne(t,function(n){var r=n.getSelection(),i=r.getStartOffset(),o=r.getStartKey(),s=n.getCurrentContent(),a=s.getBlockForKey(o).getText().slice(i),u=Yne.getForward(a);return Xne(n,u.length||1)},"forward");return e===t.getCurrentContent()?t:Qne.push(t,e,"remove-range")}var ere=Zne,tre=Xr,nre=kt;function rre(t){var e=tre.splitBlock(t.getCurrentContent(),t.getSelection());return nre.push(t,e,"split-block")}var ire=rre,ore=kt;function sre(t){var e=t.getSelection(),n=e.getEndKey(),r=t.getCurrentContent(),i=r.getBlockForKey(n).getLength();return ore.set(t,{selection:e.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var are=sre,ure=kt;function lre(t){var e=t.getSelection(),n=e.getStartKey();return ure.set(t,{selection:e.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var cre=lre,dre=kt,fre=Rl,hre=jB,pre=Gp;function gre(t){var e=pre(t,function(r){var i=r.getSelection(),o=r.getCurrentContent(),s=i.getAnchorKey(),a=i.getAnchorOffset(),u=o.getBlockForKey(s).getText()[a];return hre(r,u?fre.getUTF16Length(u,0):1)},"forward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return dre.push(t,e.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var mre=gre,FA=Xr,LA=kt,vre=K0;function yre(t){var e=t.getSelection();if(!e.isCollapsed())return t;var n=e.getAnchorOffset();if(n===0)return t;var r=e.getAnchorKey(),i=t.getCurrentContent(),o=i.getBlockForKey(r),s=o.getLength();if(s<=1)return t;var a,u;n===s?(a=e.set("anchorOffset",n-1),u=e):(a=e.set("focusOffset",n+1),u=a.set("anchorOffset",n+1));var l=vre(i,a),d=FA.removeRange(i,a,"backward"),f=d.getSelectionAfter(),p=f.getAnchorOffset()-1,g=f.merge({anchorOffset:p,focusOffset:p}),m=FA.replaceWithFragment(d,g,l),_=LA.push(t,m,"insert-fragment");return LA.acceptSelection(_,u)}var wre=yre,yS=kt;function _re(t,e,n){var r=yS.undo(e);if(e.getLastChangeType()==="spellcheck-change"){var i=r.getCurrentContent();n(yS.set(r,{nativelyRenderedContent:i}));return}if(t.preventDefault(),!e.getNativelyRenderedContent()){n(r);return}n(yS.set(e,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)}var Sre=_re,Ere=Xr,WB=kt,Cre=MI,vs=J0,$A=gne,bre=Zr,BA=nw,Ire=Pne,Tre=qne,Dre=ere,kre=ire,xre=are,Ore=cre,Are=BB,Rre=mre,Pre=wre,Nre=Sre,UA=Cre.isOptionKeyCommand,zA=bre.isBrowser("Chrome");function Mre(t,e,n){switch(t){case"redo":return WB.redo(e);case"delete":return Rre(e);case"delete-word":return Dre(e);case"backspace":return Are(e);case"backspace-word":return Tre(e);case"backspace-to-start-of-line":return Ire(e,n);case"split-block":return kre(e);case"transpose-characters":return Pre(e);case"move-selection-to-start-of-block":return Ore(e);case"move-selection-to-end-of-block":return xre(e);case"secondary-cut":return $A.cut(e);case"secondary-paste":return $A.paste(e);default:return e}}function Fre(t,e){var n=e.which,r=t._latestEditorState;function i(u){var l=t.props[u];return l?(l(e),!0):!1}switch(n){case vs.RETURN:if(e.preventDefault(),t.props.handleReturn&&BA(t.props.handleReturn(e,r)))return;break;case vs.ESC:if(e.preventDefault(),i("onEscape"))return;break;case vs.TAB:if(i("onTab"))return;break;case vs.UP:if(i("onUpArrow"))return;break;case vs.RIGHT:if(i("onRightArrow"))return;break;case vs.DOWN:if(i("onDownArrow"))return;break;case vs.LEFT:if(i("onLeftArrow"))return;break;case vs.SPACE:zA&&UA(e)&&e.preventDefault()}var o=t.props.keyBindingFn(e);if(o==null||o===""){if(n===vs.SPACE&&zA&&UA(e)){var s=Ere.replaceText(r.getCurrentContent(),r.getSelection(),"\xA0");t.update(WB.push(r,s,"insert-characters"))}return}if(o==="undo"){Nre(e,r,t.update);return}if(e.preventDefault(),!(t.props.handleKeyCommand&&BA(t.props.handleKeyCommand(o,r,e.timeStamp)))){var a=Mre(o,r,e);a!==r&&t.update(a)}}var Lre=Fre;function $re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bre=function(){function t(n){$re(this,"_uri",void 0),this._uri=n}var e=t.prototype;return e.toString=function(){return this._uri},t}(),Ure=Bre,zre=Zr,Kre=gt,Vre=zre.isBrowser("IE <= 9");function jre(t){var e,n=null;return!Vre&&document.implementation&&document.implementation.createHTMLDocument&&(e=document.implementation.createHTMLDocument("foo"),e.documentElement||Kre(!1),e.documentElement.innerHTML=t,n=e.getElementsByTagName("body")[0]),n}var HB=jre,Wre=Ol;function Hre(t){return!t||!t.ownerDocument?!1:Wre(t)&&t.nodeName==="A"}var qre=Hre,Gre=Ol;function Yre(t){return!t||!t.ownerDocument?!1:Gre(t)&&t.nodeName==="IMG"}var Qre=Yre,wu;function wS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Hn(t,i,n[i])})}return t}function Hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xre=Wi,Jre=kl,Zre=Hi,eie=TI,KA=V0,qB=Ure,bf=xl,VA=os,tie=HB,GB=su,FI=st.exports,ca=FI.List,YB=FI.Map,nie=FI.OrderedSet,QB=qre,rie=fB,LI=qp,XB=Qre,jA=GB("draft_tree_data_support"),iie="&nbsp;",JB=" ",oie=new RegExp("\r","g"),sie=new RegExp(`
`,"g"),aie=new RegExp(`^
`,"g"),uie=new RegExp(iie,"g"),lie=new RegExp("&#13;?","g"),cie=new RegExp("&#8203;?","g"),die=["bold","bolder","500","600","700","800","900"],fie=["light","lighter","normal","100","200","300","400"],hie=["className","href","rel","target","title"],pie=["alt","className","height","src","width"],WA=(wu={},Hn(wu,bf("public/DraftStyleDefault/depth0"),0),Hn(wu,bf("public/DraftStyleDefault/depth1"),1),Hn(wu,bf("public/DraftStyleDefault/depth2"),2),Hn(wu,bf("public/DraftStyleDefault/depth3"),3),Hn(wu,bf("public/DraftStyleDefault/depth4"),4),wu),HA=YB({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),gie=function(e){var n={};return e.mapKeys(function(r,i){var o=[i.element];i.aliasedElements!==void 0&&o.push.apply(o,i.aliasedElements),o.forEach(function(s){n[s]===void 0?n[s]=r:typeof n[s]=="string"?n[s]=[n[s],r]:n[s].push(r)})}),YB(n)},mie=function(e){if(LI(e)){var n=e;if(n.style.fontFamily.includes("monospace"))return"CODE"}return null},vie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(WA).some(function(r){e.classList.contains(r)&&(n=WA[r])}),n},yie=function(e){if(!QB(e))return!1;var n=e;if(!n.href||n.protocol!=="http:"&&n.protocol!=="https:"&&n.protocol!=="mailto:"&&n.protocol!=="tel:")return!1;try{var r=new qB(n.href);return!0}catch{return!1}},wie=function(e){if(!XB(e))return!1;var n=e;return!!(n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value)},_ie=function(e,n){if(!LI(e))return n;var r=e,i=r.style.fontWeight,o=r.style.fontStyle,s=r.style.textDecoration;return n.withMutations(function(a){die.indexOf(i)>=0?a.add("BOLD"):fie.indexOf(i)>=0&&a.remove("BOLD"),o==="italic"?a.add("ITALIC"):o==="normal"&&a.remove("ITALIC"),s==="underline"&&a.add("UNDERLINE"),s==="line-through"&&a.add("STRIKETHROUGH"),s==="none"&&(a.remove("UNDERLINE"),a.remove("STRIKETHROUGH"))})},_S=function(e){return e==="ul"||e==="ol"},Sie=function(){function t(n,r){Hn(this,"characterList",ca()),Hn(this,"currentBlockType","unstyled"),Hn(this,"currentDepth",0),Hn(this,"currentEntity",null),Hn(this,"currentText",""),Hn(this,"wrapper",null),Hn(this,"blockConfigs",[]),Hn(this,"contentBlocks",[]),Hn(this,"entityMap",KA),Hn(this,"blockTypeMap",void 0),Hn(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=n,this.disambiguate=r}var e=t.prototype;return e.clear=function(){this.characterList=ca(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=KA,this.wrapper=null,this.contentBlocks=[]},e.addDOMNode=function(r){var i;return this.contentBlocks=[],this.currentDepth=0,(i=this.blockConfigs).push.apply(i,this._toBlockConfigs([r],nie())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},e.getContentBlocks=function(){return this.contentBlocks.length===0&&(jA?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},e._makeBlockConfig=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.key||VA(),o=wS({key:i,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:ca(),prevSibling:null,nextSibling:null,childConfigs:[]},r);return this.characterList=ca(),this.currentBlockType="unstyled",this.currentText="",o},e._toBlockConfigs=function(r,i){for(var o=[],s=0;s<r.length;s++){var a=r[s],u=a.nodeName.toLowerCase();if(u==="body"||_S(u)){this._trimCurrentText(),this.currentText!==""&&o.push(this._makeBlockConfig());var l=this.currentDepth,d=this.wrapper;_S(u)&&(this.wrapper=u,_S(d)&&this.currentDepth++),o.push.apply(o,this._toBlockConfigs(Array.from(a.childNodes),i)),this.currentDepth=l,this.wrapper=d;continue}var f=this.blockTypeMap.get(u);if(f!==void 0){this._trimCurrentText(),this.currentText!==""&&o.push(this._makeBlockConfig());var p=this.currentDepth,g=this.wrapper;if(this.wrapper=u==="pre"?"pre":this.wrapper,typeof f!="string"&&(f=this.disambiguate(u,this.wrapper)||f[0]||"unstyled"),!jA&&LI(a)&&(f==="unordered-list-item"||f==="ordered-list-item")){var m=a;this.currentDepth=vie(m,this.currentDepth)}var _=VA(),C=this._toBlockConfigs(Array.from(a.childNodes),i);this._trimCurrentText(),o.push(this._makeBlockConfig({key:_,childConfigs:C,type:f})),this.currentDepth=p,this.wrapper=g;continue}if(u==="#text"){this._addTextNode(a,i);continue}if(u==="br"){this._addBreakNode(a,i);continue}if(wie(a)){this._addImgNode(a,i);continue}if(yie(a)){this._addAnchorNode(a,o,i);continue}var w=i;HA.has(u)&&(w=w.add(HA.get(u))),w=_ie(a,w);var y=mie(a);y!=null&&(w=w.add(y)),o.push.apply(o,this._toBlockConfigs(Array.from(a.childNodes),w))}return o},e._appendText=function(r,i){var o;this.currentText+=r;var s=Xre.create({style:i,entity:this.currentEntity});this.characterList=(o=this.characterList).push.apply(o,Array(r.length).fill(s))},e._trimCurrentText=function(){var r=this.currentText.length,i=r-this.currentText.trimLeft().length,o=this.currentText.trimRight().length,s=this.characterList.findEntry(function(a){return a.getEntity()!==null});i=s!==void 0?Math.min(i,s[0]):i,s=this.characterList.reverse().findEntry(function(a){return a.getEntity()!==null}),o=s!==void 0?Math.max(o,r-s[0]):o,i>o?(this.currentText="",this.characterList=ca()):(this.currentText=this.currentText.slice(i,o),this.characterList=this.characterList.slice(i,o))},e._addTextNode=function(r,i){var o=r.textContent,s=o.trim();s===""&&this.wrapper!=="pre"&&(o=" "),this.wrapper!=="pre"&&(o=o.replace(aie,""),o=o.replace(sie,JB)),this._appendText(o,i)},e._addBreakNode=function(r,i){!rie(r)||this._appendText(`
`,i)},e._addImgNode=function(r,i){if(!!XB(r)){var o=r,s={};pie.forEach(function(a){var u=o.getAttribute(a);u&&(s[a]=u)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",s),GB("draftjs_fix_paste_for_img")?o.getAttribute("role")!=="presentation"&&this._appendText("\u{1F4F7}",i):this._appendText("\u{1F4F7}",i),this.currentEntity=null}},e._addAnchorNode=function(r,i,o){if(!!QB(r)){var s=r,a={};hie.forEach(function(u){var l=s.getAttribute(u);l&&(a[u]=l)}),a.url=new qB(s.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",a||{}),i.push.apply(i,this._toBlockConfigs(Array.from(r.childNodes),o)),this.currentEntity=null}},e._toContentBlocks=function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=r.length-1,s=0;s<=o;s++){var a=r[s];a.parent=i,a.prevSibling=s>0?r[s-1].key:null,a.nextSibling=s<o?r[s+1].key:null,a.children=ca(a.childConfigs.map(function(u){return u.key})),this.contentBlocks.push(new Zre(wS({},a))),this._toContentBlocks(a.childConfigs,a.key)}},e._hoistContainersInBlockConfigs=function(r){var i=this,o=ca(r).flatMap(function(s){return s.type!=="unstyled"||s.text!==""?[s]:i._hoistContainersInBlockConfigs(s.childConfigs)});return o},e._toFlatContentBlocks=function(r){var i=this,o=this._hoistContainersInBlockConfigs(r);o.forEach(function(s){var a=i._extractTextFromBlockConfigs(s.childConfigs),u=a.text,l=a.characterList;i.contentBlocks.push(new Jre(wS({},s,{text:s.text+u,characterList:s.characterList.concat(l)})))})},e._extractTextFromBlockConfigs=function(r){for(var i=r.length-1,o="",s=ca(),a=0;a<=i;a++){var u=r[a];o+=u.text,s=s.concat(u.characterList),o!==""&&u.type!=="unstyled"&&(o+=`
`,s=s.push(s.last()));var l=this._extractTextFromBlockConfigs(u.childConfigs);o+=l.text,s=s.concat(l.characterList)}return{text:o,characterList:s}},t}(),Eie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tie,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eie;e=e.trim().replace(oie,"").replace(uie,JB).replace(lie,"").replace(cie,"");var i=n(e);if(!i)return null;var o=gie(r),s=function(u,l){return u==="li"?l==="ol"?"ordered-list-item":"unordered-list-item":null};return new Sie(o,s).addDOMNode(i).getContentBlocks()},ZB=Eie;function Cie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bie(t,i,n[i])})}return t}function bie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Iie=kl,Tie=Hi,Die=ZB,kie=os,xie=HB,Oie=su,e2=st.exports,Aie=R$,Rie=e2.List,Pie=e2.Repeat,t2=Oie("draft_tree_data_support"),Nie=t2?Tie:Iie,Mie={processHTML:function(e,n){return Die(e,xie,n)},processText:function(e,n,r){return e.reduce(function(i,o,s){o=Aie(o);var a=kie(),u={key:a,type:r,text:o,characterList:Rie(Pie(n,o.length))};if(t2&&s!==0){var l=s-1,d=i[l]=i[l].merge({nextSibling:a});u=Cie({},u,{prevSibling:d.getKey()})}return i.push(new Nie(u)),i},[])}},Fie=Mie;function Lie(t,e,n,r){var i=e.getStartKey(),o=e.getEndKey(),s=t.getBlockMap(),a=s.toSeq().skipUntil(function(u,l){return l===i}).takeUntil(function(u,l){return l===o}).concat([[o,s.get(o)]]).map(function(u){var l=u.getDepth()+n;return l=Math.max(0,Math.min(l,r)),u.set("depth",l)});return s=s.merge(a),t.merge({blockMap:s,selectionBefore:e,selectionAfter:e})}var $ie=Lie,_u=Xr,Po=kt,Bie=$ie,Uie=Jr,Fo={currentBlockContainsLink:function(e){var n=e.getSelection(),r=e.getCurrentContent(),i=r.getEntityMap();return r.getBlockForKey(n.getAnchorKey()).getCharacterList().slice(n.getStartOffset(),n.getEndOffset()).some(function(o){var s=o.getEntity();return!!s&&i.__get(s).getType()==="LINK"})},getCurrentBlockType:function(e){var n=e.getSelection();return e.getCurrentContent().getBlockForKey(n.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,n,r){switch(n){case"bold":return Fo.toggleInlineStyle(e,"BOLD");case"italic":return Fo.toggleInlineStyle(e,"ITALIC");case"underline":return Fo.toggleInlineStyle(e,"UNDERLINE");case"code":return Fo.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return Fo.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return Fo.onDelete(e);default:return null}},insertSoftNewline:function(e){var n=_u.insertText(e.getCurrentContent(),e.getSelection(),`
`,e.getCurrentInlineStyle(),null),r=Po.push(e,n,"insert-characters");return Po.forceSelection(r,n.getSelectionAfter())},onBackspace:function(e){var n=e.getSelection();if(!n.isCollapsed()||n.getAnchorOffset()||n.getFocusOffset())return null;var r=e.getCurrentContent(),i=n.getStartKey(),o=r.getBlockBefore(i);if(o&&o.getType()==="atomic"){var s=r.getBlockMap().delete(o.getKey()),a=r.merge({blockMap:s,selectionAfter:n});if(a!==r)return Po.push(e,a,"remove-range")}var u=Fo.tryToRemoveBlockStyle(e);return u?Po.push(e,u,"change-block-type"):null},onDelete:function(e){var n=e.getSelection();if(!n.isCollapsed())return null;var r=e.getCurrentContent(),i=n.getStartKey(),o=r.getBlockForKey(i),s=o.getLength();if(n.getStartOffset()<s)return null;var a=r.getBlockAfter(i);if(!a||a.getType()!=="atomic")return null;var u=n.merge({focusKey:a.getKey(),focusOffset:a.getLength()}),l=_u.removeRange(r,u,"forward");return l!==r?Po.push(e,l,"remove-range"):null},onTab:function(e,n,r){var i=n.getSelection(),o=i.getAnchorKey();if(o!==i.getFocusKey())return n;var s=n.getCurrentContent(),a=s.getBlockForKey(o),u=a.getType();if(u!=="unordered-list-item"&&u!=="ordered-list-item")return n;e.preventDefault();var l=a.getDepth();if(!e.shiftKey&&l===r)return n;var d=Bie(s,i,e.shiftKey?-1:1,r);return Po.push(n,d,"adjust-depth")},toggleBlockType:function(e,n){var r=e.getSelection(),i=r.getStartKey(),o=r.getEndKey(),s=e.getCurrentContent(),a=r;if(i!==o&&r.getEndOffset()===0){var u=Uie(s.getBlockBefore(o));o=u.getKey(),a=a.merge({anchorKey:i,anchorOffset:r.getStartOffset(),focusKey:o,focusOffset:u.getLength(),isBackward:!1})}var l=s.getBlockMap().skipWhile(function(f,p){return p!==i}).reverse().skipWhile(function(f,p){return p!==o}).some(function(f){return f.getType()==="atomic"});if(l)return e;var d=s.getBlockForKey(i).getType()===n?"unstyled":n;return Po.push(e,_u.setBlockType(s,a,d),"change-block-type")},toggleCode:function(e){var n=e.getSelection(),r=n.getAnchorKey(),i=n.getFocusKey();return n.isCollapsed()||r!==i?Fo.toggleBlockType(e,"code-block"):Fo.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,n){var r=e.getSelection(),i=e.getCurrentInlineStyle();if(r.isCollapsed())return Po.setInlineStyleOverride(e,i.has(n)?i.remove(n):i.add(n));var o=e.getCurrentContent(),s;return i.has(n)?s=_u.removeInlineStyle(o,r,n):s=_u.applyInlineStyle(o,r,n),Po.push(e,s,"change-inline-style")},toggleLink:function(e,n,r){var i=_u.applyEntity(e.getCurrentContent(),n,r);return Po.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var n=e.getSelection(),r=n.getAnchorOffset();if(n.isCollapsed()&&r===0){var i=n.getAnchorKey(),o=e.getCurrentContent(),s=o.getBlockForKey(i),a=s.getType(),u=o.getBlockBefore(i);if(a==="code-block"&&u&&u.getType()==="code-block"&&u.getLength()!==0)return null;if(a!=="unstyled")return _u.setBlockType(o,n,"unstyled")}return null}},n2=Fo,zie=/\r\n?|\n/g;function Kie(t){return t.split(zie)}var Vie=Kie,SS=Up,qA=Wi,jie=OB,r2=Xr,ES=Fie,i2=kt,GA=n2,YA=kI,Wie=AB,QA=nw,XA=Vie;function Hie(t,e){e.preventDefault();var n=new jie(e.clipboardData);if(!n.isRichText()){var r=n.getFiles(),i=n.getText();if(r.length>0){if(t.props.handlePastedFiles&&QA(t.props.handlePastedFiles(r)))return;Wie(r,function(O){if(O=O||i,!!O){var A=t._latestEditorState,F=XA(O),G=qA.create({style:A.getCurrentInlineStyle(),entity:YA(A.getCurrentContent(),A.getSelection())}),Y=GA.getCurrentBlockType(A),Q=ES.processText(F,G,Y),ie=SS.createFromArray(Q),ae=r2.replaceWithFragment(A.getCurrentContent(),A.getSelection(),ie);t.update(i2.push(A,ae,"insert-fragment"))}});return}}var o=[],s=n.getText(),a=n.getHTML(),u=t._latestEditorState;if(t.props.formatPastedText){var l=t.props.formatPastedText(s,a),d=l.text,f=l.html;s=d,a=f}if(!(t.props.handlePastedText&&QA(t.props.handlePastedText(s,a,u)))){if(s&&(o=XA(s)),!t.props.stripPastedStyles){var p=t.getClipboard();if(!t.props.formatPastedText&&n.isRichText()&&p){var g;if(((g=a)===null||g===void 0?void 0:g.indexOf(t.getEditorKey()))!==-1||o.length===1&&p.size===1&&p.first().getText()===s){t.update(Om(t._latestEditorState,p));return}}else if(p&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&qie(o,p)){t.update(Om(t._latestEditorState,p));return}if(a){var m=ES.processHTML(a,t.props.blockRenderMap);if(m){var _=m.contentBlocks,C=m.entityMap;if(_){var w=SS.createFromArray(_);t.update(Om(t._latestEditorState,w,C));return}}}t.setClipboard(null)}if(o.length){var y=qA.create({style:u.getCurrentInlineStyle(),entity:YA(u.getCurrentContent(),u.getSelection())}),S=GA.getCurrentBlockType(u),I=ES.processText(o,y,S),k=SS.createFromArray(I);t.update(Om(t._latestEditorState,k))}}}function Om(t,e,n){var r=r2.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return i2.push(t,r.set("entityMap",n),"insert-fragment")}function qie(t,e){return t.length===e.size&&e.valueSeq().every(function(n,r){return n.getText()===t[r]})}var Gie=Hie,o2=Zr,Yie=Jee,Qie=nte,Xie=ote,Jie=cte,Zie=Ste,eoe=Cte,toe=Ite,noe=kte,roe=sne,ioe=Lre,ooe=Gie,s2=lB,soe=o2.isBrowser("Chrome"),aoe=o2.isBrowser("Firefox"),JA=soe||aoe?s2:function(t){},uoe={onBeforeInput:Yie,onBlur:Qie,onCompositionStart:Xie,onCopy:Jie,onCut:Zie,onDragOver:eoe,onDragStart:toe,onFocus:noe,onInput:roe,onKeyDown:ioe,onPaste:ooe,onSelect:s2,onMouseUp:JA,onKeyUp:JA},loe=uoe,coe=kp.exports,doe=coe.unstable_flushControlled,foe=doe,ZA=So.jsx;function hoe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var poe=we.exports,eR=xl,goe=function(t){hoe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return this.props.text!==i.text||this.props.editorState.getSelection().getHasFocus()!==i.editorState.getSelection().getHasFocus()},n.render=function(){var i=this.props.editorState.getSelection().getHasFocus(),o=eR({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":i}),s={whiteSpace:"pre-wrap"};return ZA("div",{className:o,children:ZA("div",{className:eR("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:s,children:this.props.text})})},e}(poe.Component),moe=goe,a2=MI,If=J0,u2=Zr,Ta=u2.isPlatform("Mac OS X"),tR=Ta&&u2.isBrowser("Firefox < 29"),va=a2.hasCommandModifier,ws=a2.isCtrlKeyCommand;function l2(t){return Ta&&t.altKey||ws(t)}function voe(t){return va(t)?t.shiftKey?"redo":"undo":null}function yoe(t){return!Ta&&t.shiftKey?null:l2(t)?"delete-word":"delete"}function woe(t){return va(t)&&Ta?"backspace-to-start-of-line":l2(t)?"backspace-word":"backspace"}function _oe(t){switch(t.keyCode){case 66:return va(t)?"bold":null;case 68:return ws(t)?"delete":null;case 72:return ws(t)?"backspace":null;case 73:return va(t)?"italic":null;case 74:return va(t)?"code":null;case 75:return Ta&&ws(t)?"secondary-cut":null;case 77:return ws(t)?"split-block":null;case 79:return ws(t)?"split-block":null;case 84:return Ta&&ws(t)?"transpose-characters":null;case 85:return va(t)?"underline":null;case 87:return Ta&&ws(t)?"backspace-word":null;case 89:return ws(t)?Ta?"secondary-paste":"redo":null;case 90:return voe(t)||null;case If.RETURN:return"split-block";case If.DELETE:return yoe(t);case If.BACKSPACE:return woe(t);case If.LEFT:return tR&&va(t)?"move-selection-to-start-of-block":null;case If.RIGHT:return tR&&va(t)?"move-selection-to-end-of-block":null;default:return null}}var c2=_oe,CS=So.jsx,Soe=we.exports.createElement,nR=So.jsxs;function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ee(t,i,n[i])})}return t}function be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Eoe=TI,Coe=Y$,boe=jX,Ioe=uee,Toe=$ee,Doe=loe,rR=foe,koe=moe,xoe=kt,f2=we.exports,Ooe=RI,Aoe=Z0,Roe=Zr,IS=xl,Poe=os,Noe=c2,Moe=ew,Foe=su,iR=gt,oR=qp,Loe=Jr,h2=Roe.isBrowser("IE"),$oe=!h2,sR={edit:Doe,composite:boe,drag:Toe,cut:null,render:null},aR=!1,Boe=function(t){d2(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var i=this.props.editor;i._latestEditorState=this.props.editorState,i._blockSelectEvents=!0},e}(f2.Component),p2=function(t){d2(e,t);function e(r){var i;return i=t.call(this,r)||this,Ee(be(i),"_blockSelectEvents",void 0),Ee(be(i),"_clipboard",void 0),Ee(be(i),"_handler",void 0),Ee(be(i),"_dragCount",void 0),Ee(be(i),"_internalDrag",void 0),Ee(be(i),"_editorKey",void 0),Ee(be(i),"_placeholderAccessibilityID",void 0),Ee(be(i),"_latestEditorState",void 0),Ee(be(i),"_latestCommittedEditorState",void 0),Ee(be(i),"_pendingStateFromBeforeInput",void 0),Ee(be(i),"_onBeforeInput",void 0),Ee(be(i),"_onBlur",void 0),Ee(be(i),"_onCharacterData",void 0),Ee(be(i),"_onCompositionEnd",void 0),Ee(be(i),"_onCompositionStart",void 0),Ee(be(i),"_onCopy",void 0),Ee(be(i),"_onCut",void 0),Ee(be(i),"_onDragEnd",void 0),Ee(be(i),"_onDragOver",void 0),Ee(be(i),"_onDragStart",void 0),Ee(be(i),"_onDrop",void 0),Ee(be(i),"_onInput",void 0),Ee(be(i),"_onFocus",void 0),Ee(be(i),"_onKeyDown",void 0),Ee(be(i),"_onKeyPress",void 0),Ee(be(i),"_onKeyUp",void 0),Ee(be(i),"_onMouseDown",void 0),Ee(be(i),"_onMouseUp",void 0),Ee(be(i),"_onPaste",void 0),Ee(be(i),"_onSelect",void 0),Ee(be(i),"editor",void 0),Ee(be(i),"editorContainer",void 0),Ee(be(i),"focus",void 0),Ee(be(i),"blur",void 0),Ee(be(i),"setMode",void 0),Ee(be(i),"exitCurrentMode",void 0),Ee(be(i),"restoreEditorDOM",void 0),Ee(be(i),"setClipboard",void 0),Ee(be(i),"getClipboard",void 0),Ee(be(i),"getEditorKey",void 0),Ee(be(i),"update",void 0),Ee(be(i),"onDragEnter",void 0),Ee(be(i),"onDragLeave",void 0),Ee(be(i),"_handleEditorContainerRef",function(o){i.editorContainer=o,i.editor=o!==null?o.firstChild:null}),Ee(be(i),"focus",function(o){var s=i.props.editorState,a=s.getSelection().getHasFocus(),u=i.editor;if(!!u){var l=Aoe.getScrollParent(u),d=o||Moe(l),f=d.x,p=d.y;oR(u)||iR(!1),u.focus(),l===window?window.scrollTo(f,p):Ooe.setTop(l,p),a||i.update(xoe.forceSelection(s,s.getSelection()))}}),Ee(be(i),"blur",function(){var o=i.editor;!o||(oR(o)||iR(!1),o.blur())}),Ee(be(i),"setMode",function(o){var s=i.props,a=s.onPaste,u=s.onCut,l=s.onCopy,d=bS({},sR.edit);a&&(d.onPaste=a),u&&(d.onCut=u),l&&(d.onCopy=l);var f=bS({},sR,{edit:d});i._handler=f[o]}),Ee(be(i),"exitCurrentMode",function(){i.setMode("edit")}),Ee(be(i),"restoreEditorDOM",function(o){i.setState({contentsKey:i.state.contentsKey+1},function(){i.focus(o)})}),Ee(be(i),"setClipboard",function(o){i._clipboard=o}),Ee(be(i),"getClipboard",function(){return i._clipboard}),Ee(be(i),"update",function(o){i._latestEditorState=o,i.props.onChange(o)}),Ee(be(i),"onDragEnter",function(){i._dragCount++}),Ee(be(i),"onDragLeave",function(){i._dragCount--,i._dragCount===0&&i.exitCurrentMode()}),i._blockSelectEvents=!1,i._clipboard=null,i._handler=null,i._dragCount=0,i._editorKey=r.editorKey||Poe(),i._placeholderAccessibilityID="placeholder-"+i._editorKey,i._latestEditorState=r.editorState,i._latestCommittedEditorState=r.editorState,i._onBeforeInput=i._buildHandler("onBeforeInput"),i._onBlur=i._buildHandler("onBlur"),i._onCharacterData=i._buildHandler("onCharacterData"),i._onCompositionEnd=i._buildHandler("onCompositionEnd"),i._onCompositionStart=i._buildHandler("onCompositionStart"),i._onCopy=i._buildHandler("onCopy"),i._onCut=i._buildHandler("onCut"),i._onDragEnd=i._buildHandler("onDragEnd"),i._onDragOver=i._buildHandler("onDragOver"),i._onDragStart=i._buildHandler("onDragStart"),i._onDrop=i._buildHandler("onDrop"),i._onInput=i._buildHandler("onInput"),i._onFocus=i._buildHandler("onFocus"),i._onKeyDown=i._buildHandler("onKeyDown"),i._onKeyPress=i._buildHandler("onKeyPress"),i._onKeyUp=i._buildHandler("onKeyUp"),i._onMouseDown=i._buildHandler("onMouseDown"),i._onMouseUp=i._buildHandler("onMouseUp"),i._onPaste=i._buildHandler("onPaste"),i._onSelect=i._buildHandler("onSelect"),i.getEditorKey=function(){return i._editorKey},i.state={contentsKey:0},i}var n=e.prototype;return n._buildHandler=function(i){var o=this;return function(s){if(!o.props.readOnly){var a=o._handler&&o._handler[i];a&&(rR?rR(function(){return a(o,s)}):a(o,s))}}},n._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},n._renderPlaceholder=function(){if(this._showPlaceholder()){var i={text:Loe(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return CS(koe,{...i})}return null},n._renderARIADescribedBy=function(){var i=this.props.ariaDescribedBy||"",o=this._showPlaceholder()?this._placeholderAccessibilityID:"";return i.replace("{{editor_id_placeholder}}",o)||void 0},n.render=function(){var i=this.props,o=i.blockRenderMap,s=i.blockRendererFn,a=i.blockStyleFn,u=i.customStyleFn,l=i.customStyleMap,d=i.editorState,f=i.preventScroll,p=i.readOnly,g=i.textAlignment,m=i.textDirectionality,_=IS({"DraftEditor/root":!0,"DraftEditor/alignLeft":g==="left","DraftEditor/alignRight":g==="right","DraftEditor/alignCenter":g==="center"}),C={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=this.props.role||"textbox",y=w==="combobox"?!!this.props.ariaExpanded:null,S={blockRenderMap:o,blockRendererFn:s,blockStyleFn:a,customStyleMap:bS({},Coe,l),customStyleFn:u,editorKey:this._editorKey,editorState:d,preventScroll:f,textDirectionality:m};return nR("div",{className:_,children:[this._renderPlaceholder(),CS("div",{className:IS("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef,children:nR("div",{"aria-activedescendant":p?null:this.props.ariaActiveDescendantID,"aria-autocomplete":p?null:this.props.ariaAutoComplete,"aria-controls":p?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":p?null:y,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":p?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:IS({notranslate:!p,"public/DraftEditor/content":!0}),contentEditable:!p,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:p?null:w,spellCheck:$oe&&this.props.spellCheck,style:C,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex,children:[CS(Boe,{editor:this,editorState:d}),Soe(Ioe,{...S,key:"contents"+this.state.contentsKey})]})})]})},n.componentDidMount=function(){this._blockSelectEvents=!1,!aR&&Foe("draft_ods_enabled")&&(aR=!0),this.setMode("edit"),h2&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):li.execCommand("AutoUrlDetect",!1,!1))},n.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},e}(f2.Component);Ee(p2,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:Eoe,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:Noe,readOnly:!1,spellCheck:!1,stripPastedStyles:!1});var Uoe=p2,zoe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Koe=UC(zoe),Voe={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}},g2=Voe,joe=g2,Woe=Rl,uR=Woe.strlen;function Hoe(t,e){var n=[];return t.findEntityRanges(function(r){return!!r.getEntity()},function(r,i){var o=t.getText(),s=t.getEntityAt(r);n.push({offset:uR(o.slice(0,r)),length:uR(o.slice(r,i)),key:Number(e[joe.stringify(s)])})}),n}var qoe=Hoe,lR=Rl,Goe=zp,Yoe=function(e,n){return e===n},Qoe=function(e){return!!e},Xoe=[];function Joe(t,e,n){var r=[],i=e.map(function(o){return o.has(n)}).toList();return Goe(i,Yoe,Qoe,function(o,s){var a=t.getText();r.push({offset:lR.strlen(a.slice(0,o)),length:lR.strlen(a.slice(o,s)),style:n})}),r}function Zoe(t){var e=t.getCharacterList().map(function(r){return r.getStyle()}).toList(),n=e.flatten().toSet().map(function(r){return Joe(t,e,r)});return Array.prototype.concat.apply(Xoe,n.toJS())}var ese=Zoe;function tse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){nse(t,i,n[i])})}return t}function nse(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rse=kl,ise=Hi,m2=g2,ose=qoe,sse=ese,ase=gt,cR=function(e,n){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:sse(e),entityRanges:ose(e,n),data:e.getData().toObject()}},use=function(e,n,r,i){if(e instanceof rse){r.push(cR(e,n));return}e instanceof ise||ase(!1);var o=e.getParentKey(),s=i[e.getKey()]=tse({},cR(e,n),{children:[]});if(o){i[o].children.push(s);return}r.push(s)},lse=function(e,n){var r=n.entityMap,i=[],o={},s={},a=0;return e.getBlockMap().forEach(function(u){u.findEntityRanges(function(l){return l.getEntity()!==null},function(l){var d=u.getEntityAt(l),f=m2.stringify(d);s[f]||(s[f]=d,r[f]="".concat(a),a++)}),use(u,r,i,o)}),{blocks:i,entityMap:r}},cse=function(e,n){var r=n.blocks,i=n.entityMap,o={};return Object.keys(i).forEach(function(s,a){var u=e.getEntity(m2.unstringify(s));o[a]={type:u.getType(),mutability:u.getMutability(),data:u.getData()}}),{blocks:r,entityMap:o}},dse=function(e){var n={entityMap:{},blocks:[]};return n=lse(e,n),n=cse(e,n),n},fse=dse;function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){hse(t,i,n[i])})}return t}function hse(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pse=os,v2=gt,gse=function(e,n){for(var r=[].concat(e).reverse();r.length;){var i=r.pop();n(i);var o=i.children;Array.isArray(o)||v2(!1),r=r.concat([].concat(o.reverse()))}},dR=function(e){if(!(e&&e.type))return!1;var n=e.type;return n==="unordered-list-item"||n==="ordered-list-item"},mse=function(e){Array.isArray(e.children)&&(e.children=e.children.map(function(n){return n.type===e.type?Yf({},n,{depth:(e.depth||0)+1}):n}))},vse={fromRawTreeStateToRawState:function(e){var n=e.blocks,r=[];return Array.isArray(n)||v2(!1),!Array.isArray(n)||!n.length?e:(gse(n,function(i){var o=Yf({},i);dR(i)&&(o.depth=o.depth||0,mse(i),i.children!=null&&i.children.length>0)||(delete o.children,r.push(o))}),e.blocks=r,Yf({},e,{blocks:r}))},fromRawStateToRawTreeState:function(e){var n=[],r=[];return e.blocks.forEach(function(i){var o=dR(i),s=i.depth||0,a=Yf({},i,{children:[]});if(!o){n.push(a);return}var u=r[0];if(u==null&&s===0)n.push(a);else if(u==null||u.depth<s-1){var l={key:pse(),text:"",depth:s-1,type:i.type,children:[],entityRanges:[],inlineStyleRanges:[]};r.unshift(l),s===1?n.push(l):u!=null&&u.children.push(l),l.children.push(a)}else if(u.depth===s-1)u.children.push(a);else{for(;u!=null&&u.depth>=s;)r.shift(),u=r[0];s>0?u.children.push(a):n.push(a)}}),Yf({},e,{blocks:n})}},yse=vse,wse=Wi,_se=st.exports,Sse=_se.List;function Ese(t,e){var n=t.map(function(r,i){var o=e[i];return wse.create({style:r,entity:o})});return Sse(n)}var Cse=Ese,bse=Rl,fR=bse.substr;function Ise(t,e){var n=Array(t.length).fill(null);return e&&e.forEach(function(r){for(var i=fR(t,0,r.offset).length,o=i+fR(t,r.offset,r.length).length,s=i;s<o;s++)n[s]=r.key}),n}var Tse=Ise,Dse=Rl,kse=st.exports,xse=kse.OrderedSet,hR=Dse.substr,Ose=xse();function Ase(t,e){var n=Array(t.length).fill(Ose);return e&&e.forEach(function(r){for(var i=hR(t,0,r.offset).length,o=i+hR(t,r.offset,r.length).length;i<o;)n[i]=n[i].add(r.style),i++}),n}var Rse=Ase;function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Pse(t,i,n[i])})}return t}function Pse(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nse=kl,pR=Hi,Mse=SI,Fse=V0,gR=yse,mR=j0,Lse=Cse,$se=Tse,Bse=Rse,y2=os,Use=su,$I=st.exports,_1=gt,vR=Use("draft_tree_data_support"),yR=$I.List,zse=$I.Map,w2=$I.OrderedMap,S1=function(e,n){var r=e.key,i=e.type,o=e.data,s=e.text,a=e.depth,u={text:s,depth:a||0,type:i||"unstyled",key:r||y2(),data:zse(o),characterList:Kse(e,n)};return u},Kse=function(e,n){var r=e.text,i=e.entityRanges,o=e.inlineStyleRanges,s=i||[],a=o||[];return Lse(Bse(r,a),$se(r,s.filter(function(u){return n.hasOwnProperty(u.key)}).map(function(u){return tp({},u,{key:n[u.key]})})))},TS=function(e){return tp({},e,{key:e.key||y2()})},wR=function(e,n,r){var i=n.map(function(o){return tp({},o,{parentRef:r})});return e.concat(i.reverse())},Vse=function(e,n){return e.map(TS).reduce(function(r,i,o){Array.isArray(i.children)||_1(!1);var s=i.children.map(TS),a=new pR(tp({},S1(i,n),{prevSibling:o===0?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:yR(s.map(function(C){return C.key}))}));r=r.set(a.getKey(),a);for(var u=wR([],s,a);u.length>0;){var l=u.pop(),d=l.parentRef,f=d.getChildKeys(),p=f.indexOf(l.key),g=Array.isArray(l.children);if(!g){g||_1(!1);break}var m=l.children.map(TS),_=new pR(tp({},S1(l,n),{parent:d.getKey(),children:yR(m.map(function(C){return C.key})),prevSibling:p===0?null:f.get(p-1),nextSibling:p===f.size-1?null:f.get(p+1)}));r=r.set(_.getKey(),_),u=wR(u,m,_)}return r},w2())},jse=function(e,n){return w2(e.map(function(r){var i=new Nse(S1(r,n));return[i.getKey(),i]}))},Wse=function(e,n){var r=e.blocks.find(function(s){return Array.isArray(s.children)&&s.children.length>0}),i=vR&&!r?gR.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!vR)return jse(r?gR.fromRawTreeStateToRawState(e).blocks:i,n);var o=Vse(i,n);return o},Hse=function(e){var n=e.entityMap,r={};return Object.keys(n).forEach(function(i){var o=n[i],s=o.type,a=o.mutability,u=o.data;r[i]=Fse.__create(s,a,u||{})}),r},qse=function(e){Array.isArray(e.blocks)||_1(!1);var n=Hse(e),r=Wse(e,n),i=r.isEmpty()?new mR:mR.createEmpty(r.first().getKey());return new Mse({blockMap:r,entityMap:n,selectionBefore:i,selectionAfter:i})},Gse=qse,Yse=zB;function Qse(t){var e=Yse(t),n=0,r=0,i=0,o=0;if(e.length){if(e.length>1&&e[0].width===0){var s=e[1];n=s.top,r=s.right,i=s.bottom,o=s.left}else{var a=e[0];n=a.top,r=a.right,i=a.bottom,o=a.left}for(var u=1;u<e.length;u++){var l=e[u];l.height!==0&&l.width!==0&&(n=Math.min(n,l.top),r=Math.max(r,l.right),i=Math.max(i,l.bottom),o=Math.min(o,l.left))}}return{top:n,right:r,bottom:i,left:o,width:r-o,height:i-n}}var Xse=Qse,Jse=Xse;function Zse(t){var e=t.getSelection();if(!e.rangeCount)return null;var n=e.getRangeAt(0),r=Jse(n),i=r.top,o=r.right,s=r.bottom,a=r.left;return i===0&&o===0&&s===0&&a===0?null:r}var eae=Zse,tae=Y7,nae=Up,rae=Wi,iae=nQ,oae=kl,sae=SI,aae=TI,uae=Y$,lae=Uoe,cae=kB,dae=V0,fae=Xr,hae=A$,pae=kt,gae=MI,mae=Koe,vae=n2,yae=j0,wae=fse,_ae=Gse,Sae=os,Eae=c2,Cae=eae,bae=ZB,Iae={Editor:lae,EditorBlock:cae,EditorState:pae,CompositeDecorator:iae,Entity:dae,EntityInstance:hae,BlockMapBuilder:nae,CharacterMetadata:rae,ContentBlock:oae,ContentState:sae,RawDraftContentState:mae,SelectionState:yae,AtomicBlockUtils:tae,KeyBindingUtil:gae,Modifier:fae,RichUtils:vae,DefaultDraftBlockRenderMap:aae,DefaultDraftInlineStyle:uae,convertFromHTML:bae,convertFromRaw:_ae,convertToRaw:wae,genKey:Sae,getDefaultKeyBinding:Eae,getVisibleSelectionRect:Cae},Cc=Iae;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var _2;function ce(){return _2.apply(null,arguments)}function Tae(t){_2=t}function wo(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ju(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function BI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(dt(t,e))return!1;return!0}function Br(t){return t===void 0}function zs(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Yp(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function S2(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Da(t,e){for(var n in e)dt(e,n)&&(t[n]=e[n]);return dt(e,"toString")&&(t.toString=e.toString),dt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ss(t,e,n,r){return W2(t,e,n,r,!0).utc()}function Dae(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Be(t){return t._pf==null&&(t._pf=Dae()),t._pf}var E1;Array.prototype.some?E1=Array.prototype.some:E1=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function UI(t){if(t._isValid==null){var e=Be(t),n=E1.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function rw(t){var e=ss(NaN);return t!=null?Da(Be(e),t):Be(e).userInvalidated=!0,e}var _R=ce.momentProperties=[],DS=!1;function zI(t,e){var n,r,i,o=_R.length;if(Br(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Br(e._i)||(t._i=e._i),Br(e._f)||(t._f=e._f),Br(e._l)||(t._l=e._l),Br(e._strict)||(t._strict=e._strict),Br(e._tzm)||(t._tzm=e._tzm),Br(e._isUTC)||(t._isUTC=e._isUTC),Br(e._offset)||(t._offset=e._offset),Br(e._pf)||(t._pf=Be(e)),Br(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=_R[n],i=e[r],Br(i)||(t[r]=i);return t}function Qp(t){zI(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),DS===!1&&(DS=!0,ce.updateOffset(this),DS=!1)}function _o(t){return t instanceof Qp||t!=null&&t._isAMomentObject!=null}function E2(t){ce.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+t)}function qi(t,e){var n=!0;return Da(function(){if(ce.deprecationHandler!=null&&ce.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])dt(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}E2(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var SR={};function C2(t,e){ce.deprecationHandler!=null&&ce.deprecationHandler(t,e),SR[t]||(E2(e),SR[t]=!0)}ce.suppressDeprecationWarnings=!1;ce.deprecationHandler=null;function as(t){return typeof Function!="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function kae(t){var e,n;for(n in t)dt(t,n)&&(e=t[n],as(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C1(t,e){var n=Da({},t),r;for(r in e)dt(e,r)&&(Ju(t[r])&&Ju(e[r])?(n[r]={},Da(n[r],t[r]),Da(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)dt(t,r)&&!dt(e,r)&&Ju(t[r])&&(n[r]=Da({},n[r]));return n}function KI(t){t!=null&&this.set(t)}var b1;Object.keys?b1=Object.keys:b1=function(t){var e,n=[];for(e in t)dt(t,e)&&n.push(e);return n};var xae={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Oae(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return as(r)?r.call(e,n):r}function ts(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var VI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Am=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kS={},Uc={};function Ce(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Uc[t]=i),e&&(Uc[e[0]]=function(){return ts(i.apply(this,arguments),e[1],e[2])}),n&&(Uc[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Aae(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Rae(t){var e=t.match(VI),n,r;for(n=0,r=e.length;n<r;n++)Uc[e[n]]?e[n]=Uc[e[n]]:e[n]=Aae(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=as(e[s])?e[s].call(i,t):e[s];return o}}function gv(t,e){return t.isValid()?(e=b2(e,t.localeData()),kS[e]=kS[e]||Rae(e),kS[e](t)):t.localeData().invalidDate()}function b2(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Am.lastIndex=0;n>=0&&Am.test(t);)t=t.replace(Am,r),Am.lastIndex=0,n-=1;return t}var Pae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Nae(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(VI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Mae="Invalid date";function Fae(){return this._invalidDate}var Lae="%d",$ae=/\d{1,2}/;function Bae(t){return this._ordinal.replace("%d",t)}var Uae={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zae(t,e,n,r){var i=this._relativeTime[n];return as(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Kae(t,e){var n=this._relativeTime[t>0?"future":"past"];return as(n)?n(e):n.replace(/%s/i,e)}var mh={};function gr(t,e){var n=t.toLowerCase();mh[n]=mh[n+"s"]=mh[e]=t}function Gi(t){return typeof t=="string"?mh[t]||mh[t.toLowerCase()]:void 0}function jI(t){var e={},n,r;for(r in t)dt(t,r)&&(n=Gi(r),n&&(e[n]=t[r]));return e}var I2={};function mr(t,e){I2[t]=e}function Vae(t){var e=[],n;for(n in t)dt(t,n)&&e.push({unit:n,priority:I2[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function iw(t){return t%4===0&&t%100!==0||t%400===0}function Li(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function We(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Li(e)),n}function Dd(t,e){return function(n){return n!=null?(T2(this,t,n),ce.updateOffset(this,e),this):cy(this,t)}}function cy(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function T2(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&iw(t.year())&&t.month()===1&&t.date()===29?(n=We(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),cw(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function jae(t){return t=Gi(t),as(this[t])?this[t]():this}function Wae(t,e){if(typeof t=="object"){t=jI(t);var n=Vae(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Gi(t),as(this[t]))return this[t](e);return this}var D2=/\d/,bi=/\d\d/,k2=/\d{3}/,WI=/\d{4}/,ow=/[+-]?\d{6}/,Ft=/\d\d?/,x2=/\d\d\d\d?/,O2=/\d\d\d\d\d\d?/,sw=/\d{1,3}/,HI=/\d{1,4}/,aw=/[+-]?\d{1,6}/,kd=/\d+/,uw=/[+-]?\d+/,Hae=/Z|[+-]\d\d:?\d\d/gi,lw=/Z|[+-]\d\d(?::?\d\d)?/gi,qae=/[+-]?\d+(\.\d{1,3})?/,Xp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dy;dy={};function he(t,e,n){dy[t]=as(e)?e:function(r,i){return r&&n?n:e}}function Gae(t,e){return dt(dy,t)?dy[t](e._strict,e._locale):new RegExp(Yae(t))}function Yae(t){return ai(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function ai(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var I1={};function Et(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),zs(e)&&(r=function(o,s){s[e]=We(o)}),i=t.length,n=0;n<i;n++)I1[t[n]]=r}function Jp(t,e){Et(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function Qae(t,e,n){e!=null&&dt(I1,t)&&I1[t](e,n._a,n,t)}var cr=0,Ts=1,Vo=2,En=3,lo=4,Ds=5,Ku=6,Xae=7,Jae=8;function Zae(t,e){return(t%e+e)%e}var nn;Array.prototype.indexOf?nn=Array.prototype.indexOf:nn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function cw(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Zae(e,12);return t+=(e-n)/12,n===1?iw(t)?29:28:31-n%7%2}Ce("M",["MM",2],"Mo",function(){return this.month()+1});Ce("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ce("MMMM",0,0,function(t){return this.localeData().months(this,t)});gr("month","M");mr("month",8);he("M",Ft);he("MM",Ft,bi);he("MMM",function(t,e){return e.monthsShortRegex(t)});he("MMMM",function(t,e){return e.monthsRegex(t)});Et(["M","MM"],function(t,e){e[Ts]=We(t)-1});Et(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ts]=i:Be(n).invalidMonth=t});var eue="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),A2="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),R2=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,tue=Xp,nue=Xp;function rue(t,e){return t?wo(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||R2).test(e)?"format":"standalone"][t.month()]:wo(this._months)?this._months:this._months.standalone}function iue(t,e){return t?wo(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[R2.test(e)?"format":"standalone"][t.month()]:wo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oue(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=ss([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=nn.call(this._shortMonthsParse,s),i!==-1?i:null):(i=nn.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=nn.call(this._shortMonthsParse,s),i!==-1?i:(i=nn.call(this._longMonthsParse,s),i!==-1?i:null)):(i=nn.call(this._longMonthsParse,s),i!==-1?i:(i=nn.call(this._shortMonthsParse,s),i!==-1?i:null))}function sue(t,e,n){var r,i,o;if(this._monthsParseExact)return oue.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ss([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function P2(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=We(e);else if(e=t.localeData().monthsParse(e),!zs(e))return t}return n=Math.min(t.date(),cw(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function N2(t){return t!=null?(P2(this,t),ce.updateOffset(this,!0),this):cy(this,"Month")}function aue(){return cw(this.year(),this.month())}function uue(t){return this._monthsParseExact?(dt(this,"_monthsRegex")||M2.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(dt(this,"_monthsShortRegex")||(this._monthsShortRegex=tue),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function lue(t){return this._monthsParseExact?(dt(this,"_monthsRegex")||M2.call(this),t?this._monthsStrictRegex:this._monthsRegex):(dt(this,"_monthsRegex")||(this._monthsRegex=nue),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function M2(){function t(s,a){return a.length-s.length}var e=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=ss([2e3,i]),e.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=ai(e[i]),n[i]=ai(n[i]);for(i=0;i<24;i++)r[i]=ai(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}Ce("Y",0,0,function(){var t=this.year();return t<=9999?ts(t,4):"+"+t});Ce(0,["YY",2],0,function(){return this.year()%100});Ce(0,["YYYY",4],0,"year");Ce(0,["YYYYY",5],0,"year");Ce(0,["YYYYYY",6,!0],0,"year");gr("year","y");mr("year",1);he("Y",uw);he("YY",Ft,bi);he("YYYY",HI,WI);he("YYYYY",aw,ow);he("YYYYYY",aw,ow);Et(["YYYYY","YYYYYY"],cr);Et("YYYY",function(t,e){e[cr]=t.length===2?ce.parseTwoDigitYear(t):We(t)});Et("YY",function(t,e){e[cr]=ce.parseTwoDigitYear(t)});Et("Y",function(t,e){e[cr]=parseInt(t,10)});function vh(t){return iw(t)?366:365}ce.parseTwoDigitYear=function(t){return We(t)+(We(t)>68?1900:2e3)};var F2=Dd("FullYear",!0);function cue(){return iw(this.year())}function due(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function np(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function fy(t,e,n){var r=7+e-n,i=(7+np(t,0,r).getUTCDay()-e)%7;return-i+r-1}function L2(t,e,n,r,i){var o=(7+n-r)%7,s=fy(t,r,i),a=1+7*(e-1)+o+s,u,l;return a<=0?(u=t-1,l=vh(u)+a):a>vh(t)?(u=t+1,l=a-vh(t)):(u=t,l=a),{year:u,dayOfYear:l}}function rp(t,e,n){var r=fy(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+Ps(s,e,n)):i>Ps(t.year(),e,n)?(o=i-Ps(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function Ps(t,e,n){var r=fy(t,e,n),i=fy(t+1,e,n);return(vh(t)-r+i)/7}Ce("w",["ww",2],"wo","week");Ce("W",["WW",2],"Wo","isoWeek");gr("week","w");gr("isoWeek","W");mr("week",5);mr("isoWeek",5);he("w",Ft);he("ww",Ft,bi);he("W",Ft);he("WW",Ft,bi);Jp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=We(t)});function fue(t){return rp(t,this._week.dow,this._week.doy).week}var hue={dow:0,doy:6};function pue(){return this._week.dow}function gue(){return this._week.doy}function mue(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function vue(t){var e=rp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ce("d",0,"do","day");Ce("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ce("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ce("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ce("e",0,0,"weekday");Ce("E",0,0,"isoWeekday");gr("day","d");gr("weekday","e");gr("isoWeekday","E");mr("day",11);mr("weekday",11);mr("isoWeekday",11);he("d",Ft);he("e",Ft);he("E",Ft);he("dd",function(t,e){return e.weekdaysMinRegex(t)});he("ddd",function(t,e){return e.weekdaysShortRegex(t)});he("dddd",function(t,e){return e.weekdaysRegex(t)});Jp(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Be(n).invalidWeekday=t});Jp(["d","e","E"],function(t,e,n,r){e[r]=We(t)});function yue(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function wue(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function qI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$2="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Sue="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Eue=Xp,Cue=Xp,bue=Xp;function Iue(t,e){var n=wo(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?qI(n,this._week.dow):t?n[t.day()]:n}function Tue(t){return t===!0?qI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Due(t){return t===!0?qI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function kue(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=ss([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=nn.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=nn.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=nn.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=nn.call(this._weekdaysParse,s),i!==-1||(i=nn.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=nn.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=nn.call(this._shortWeekdaysParse,s),i!==-1||(i=nn.call(this._weekdaysParse,s),i!==-1)?i:(i=nn.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=nn.call(this._minWeekdaysParse,s),i!==-1||(i=nn.call(this._weekdaysParse,s),i!==-1)?i:(i=nn.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function xue(t,e,n){var r,i,o;if(this._weekdaysParseExact)return kue.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ss([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Oue(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=yue(t,this.localeData()),this.add(t-e,"d")):e}function Aue(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Rue(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=wue(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Pue(t){return this._weekdaysParseExact?(dt(this,"_weekdaysRegex")||GI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(dt(this,"_weekdaysRegex")||(this._weekdaysRegex=Eue),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Nue(t){return this._weekdaysParseExact?(dt(this,"_weekdaysRegex")||GI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cue),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Mue(t){return this._weekdaysParseExact?(dt(this,"_weekdaysRegex")||GI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bue),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function GI(){function t(d,f){return f.length-d.length}var e=[],n=[],r=[],i=[],o,s,a,u,l;for(o=0;o<7;o++)s=ss([2e3,1]).day(o),a=ai(this.weekdaysMin(s,"")),u=ai(this.weekdaysShort(s,"")),l=ai(this.weekdays(s,"")),e.push(a),n.push(u),r.push(l),i.push(a),i.push(u),i.push(l);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function YI(){return this.hours()%12||12}function Fue(){return this.hours()||24}Ce("H",["HH",2],0,"hour");Ce("h",["hh",2],0,YI);Ce("k",["kk",2],0,Fue);Ce("hmm",0,0,function(){return""+YI.apply(this)+ts(this.minutes(),2)});Ce("hmmss",0,0,function(){return""+YI.apply(this)+ts(this.minutes(),2)+ts(this.seconds(),2)});Ce("Hmm",0,0,function(){return""+this.hours()+ts(this.minutes(),2)});Ce("Hmmss",0,0,function(){return""+this.hours()+ts(this.minutes(),2)+ts(this.seconds(),2)});function B2(t,e){Ce(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}B2("a",!0);B2("A",!1);gr("hour","h");mr("hour",13);function U2(t,e){return e._meridiemParse}he("a",U2);he("A",U2);he("H",Ft);he("h",Ft);he("k",Ft);he("HH",Ft,bi);he("hh",Ft,bi);he("kk",Ft,bi);he("hmm",x2);he("hmmss",O2);he("Hmm",x2);he("Hmmss",O2);Et(["H","HH"],En);Et(["k","kk"],function(t,e,n){var r=We(t);e[En]=r===24?0:r});Et(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Et(["h","hh"],function(t,e,n){e[En]=We(t),Be(n).bigHour=!0});Et("hmm",function(t,e,n){var r=t.length-2;e[En]=We(t.substr(0,r)),e[lo]=We(t.substr(r)),Be(n).bigHour=!0});Et("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[En]=We(t.substr(0,r)),e[lo]=We(t.substr(r,2)),e[Ds]=We(t.substr(i)),Be(n).bigHour=!0});Et("Hmm",function(t,e,n){var r=t.length-2;e[En]=We(t.substr(0,r)),e[lo]=We(t.substr(r))});Et("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[En]=We(t.substr(0,r)),e[lo]=We(t.substr(r,2)),e[Ds]=We(t.substr(i))});function Lue(t){return(t+"").toLowerCase().charAt(0)==="p"}var $ue=/[ap]\.?m?\.?/i,Bue=Dd("Hours",!0);function Uue(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var z2={calendar:xae,longDateFormat:Pae,invalidDate:Mae,ordinal:Lae,dayOfMonthOrdinalParse:$ae,relativeTime:Uae,months:eue,monthsShort:A2,week:hue,weekdays:_ue,weekdaysMin:Sue,weekdaysShort:$2,meridiemParse:$ue},Kt={},Tf={},ip;function zue(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function ER(t){return t&&t.toLowerCase().replace("_","-")}function Kue(t){for(var e=0,n,r,i,o;e<t.length;){for(o=ER(t[e]).split("-"),n=o.length,r=ER(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=dw(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&zue(o,r)>=n-1)break;n--}e++}return ip}function Vue(t){return t.match("^[^/\\\\]*$")!=null}function dw(t){var e=null,n;if(Kt[t]===void 0&&typeof Iv!="undefined"&&Iv&&Iv.exports&&Vue(t))try{e=ip._abbr,n=require,n("./locale/"+t),Ua(e)}catch{Kt[t]=null}return Kt[t]}function Ua(t,e){var n;return t&&(Br(e)?n=Qs(t):n=QI(t,e),n?ip=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ip._abbr}function QI(t,e){if(e!==null){var n,r=z2;if(e.abbr=t,Kt[t]!=null)C2("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Kt[t]._config;else if(e.parentLocale!=null)if(Kt[e.parentLocale]!=null)r=Kt[e.parentLocale]._config;else if(n=dw(e.parentLocale),n!=null)r=n._config;else return Tf[e.parentLocale]||(Tf[e.parentLocale]=[]),Tf[e.parentLocale].push({name:t,config:e}),null;return Kt[t]=new KI(C1(r,e)),Tf[t]&&Tf[t].forEach(function(i){QI(i.name,i.config)}),Ua(t),Kt[t]}else return delete Kt[t],null}function jue(t,e){if(e!=null){var n,r,i=z2;Kt[t]!=null&&Kt[t].parentLocale!=null?Kt[t].set(C1(Kt[t]._config,e)):(r=dw(t),r!=null&&(i=r._config),e=C1(i,e),r==null&&(e.abbr=t),n=new KI(e),n.parentLocale=Kt[t],Kt[t]=n),Ua(t)}else Kt[t]!=null&&(Kt[t].parentLocale!=null?(Kt[t]=Kt[t].parentLocale,t===Ua()&&Ua(t)):Kt[t]!=null&&delete Kt[t]);return Kt[t]}function Qs(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ip;if(!wo(t)){if(e=dw(t),e)return e;t=[t]}return Kue(t)}function Wue(){return b1(Kt)}function XI(t){var e,n=t._a;return n&&Be(t).overflow===-2&&(e=n[Ts]<0||n[Ts]>11?Ts:n[Vo]<1||n[Vo]>cw(n[cr],n[Ts])?Vo:n[En]<0||n[En]>24||n[En]===24&&(n[lo]!==0||n[Ds]!==0||n[Ku]!==0)?En:n[lo]<0||n[lo]>59?lo:n[Ds]<0||n[Ds]>59?Ds:n[Ku]<0||n[Ku]>999?Ku:-1,Be(t)._overflowDayOfYear&&(e<cr||e>Vo)&&(e=Vo),Be(t)._overflowWeeks&&e===-1&&(e=Xae),Be(t)._overflowWeekday&&e===-1&&(e=Jae),Be(t).overflow=e),t}var Hue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,que=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gue=/Z|[+-]\d\d(?::?\d\d)?/,Rm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yue=/^\/?Date\((-?\d+)/i,Que=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xue={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function K2(t){var e,n,r=t._i,i=Hue.exec(r)||que.exec(r),o,s,a,u,l=Rm.length,d=xS.length;if(i){for(Be(t).iso=!0,e=0,n=l;e<n;e++)if(Rm[e][1].exec(i[1])){s=Rm[e][0],o=Rm[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(xS[e][1].exec(i[3])){a=(i[2]||" ")+xS[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(Gue.exec(i[4]))u="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(u||""),ZI(t)}else t._isValid=!1}function Jue(t,e,n,r,i,o){var s=[Zue(t),A2.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Zue(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ele(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tle(t,e,n){if(t){var r=$2.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Be(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function nle(t,e,n){if(t)return Xue[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function V2(t){var e=Que.exec(ele(t._i)),n;if(e){if(n=Jue(e[4],e[3],e[2],e[5],e[6],e[7]),!tle(e[1],n,t))return;t._a=n,t._tzm=nle(e[8],e[9],e[10]),t._d=np.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Be(t).rfc2822=!0}else t._isValid=!1}function rle(t){var e=Yue.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(K2(t),t._isValid===!1)delete t._isValid;else return;if(V2(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ce.createFromInputFallback(t)}ce.createFromInputFallback=qi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function uc(t,e,n){return t!=null?t:e!=null?e:n}function ile(t){var e=new Date(ce.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function JI(t){var e,n,r=[],i,o,s;if(!t._d){for(i=ile(t),t._w&&t._a[Vo]==null&&t._a[Ts]==null&&ole(t),t._dayOfYear!=null&&(s=uc(t._a[cr],i[cr]),(t._dayOfYear>vh(s)||t._dayOfYear===0)&&(Be(t)._overflowDayOfYear=!0),n=np(s,0,t._dayOfYear),t._a[Ts]=n.getUTCMonth(),t._a[Vo]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[En]===24&&t._a[lo]===0&&t._a[Ds]===0&&t._a[Ku]===0&&(t._nextDay=!0,t._a[En]=0),t._d=(t._useUTC?np:due).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[En]=24),t._w&&typeof t._w.d!="undefined"&&t._w.d!==o&&(Be(t).weekdayMismatch=!0)}}function ole(t){var e,n,r,i,o,s,a,u,l;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=uc(e.GG,t._a[cr],rp(Mt(),1,4).year),r=uc(e.W,1),i=uc(e.E,1),(i<1||i>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,l=rp(Mt(),o,s),n=uc(e.gg,t._a[cr],l.year),r=uc(e.w,l.week),e.d!=null?(i=e.d,(i<0||i>6)&&(u=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),r<1||r>Ps(n,o,s)?Be(t)._overflowWeeks=!0:u!=null?Be(t)._overflowWeekday=!0:(a=L2(n,r,i,o,s),t._a[cr]=a.year,t._dayOfYear=a.dayOfYear)}ce.ISO_8601=function(){};ce.RFC_2822=function(){};function ZI(t){if(t._f===ce.ISO_8601){K2(t);return}if(t._f===ce.RFC_2822){V2(t);return}t._a=[],Be(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,u=0,l,d;for(i=b2(t._f,t._locale).match(VI)||[],d=i.length,n=0;n<d;n++)o=i[n],r=(e.match(Gae(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&Be(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),u+=r.length),Uc[o]?(r?Be(t).empty=!1:Be(t).unusedTokens.push(o),Qae(o,r,t)):t._strict&&!r&&Be(t).unusedTokens.push(o);Be(t).charsLeftOver=a-u,e.length>0&&Be(t).unusedInput.push(e),t._a[En]<=12&&Be(t).bigHour===!0&&t._a[En]>0&&(Be(t).bigHour=void 0),Be(t).parsedDateParts=t._a.slice(0),Be(t).meridiem=t._meridiem,t._a[En]=sle(t._locale,t._a[En],t._meridiem),l=Be(t).era,l!==null&&(t._a[cr]=t._locale.erasConvertYear(l,t._a[cr])),JI(t),XI(t)}function sle(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function ale(t){var e,n,r,i,o,s,a=!1,u=t._f.length;if(u===0){Be(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<u;i++)o=0,s=!1,e=zI({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],ZI(e),UI(e)&&(s=!0),o+=Be(e).charsLeftOver,o+=Be(e).unusedTokens.length*10,Be(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));Da(t,n||e)}function ule(t){if(!t._d){var e=jI(t._i),n=e.day===void 0?e.date:e.day;t._a=S2([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),JI(t)}}function lle(t){var e=new Qp(XI(j2(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function j2(t){var e=t._i,n=t._f;return t._locale=t._locale||Qs(t._l),e===null||n===void 0&&e===""?rw({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),_o(e)?new Qp(XI(e)):(Yp(e)?t._d=e:wo(n)?ale(t):n?ZI(t):cle(t),UI(t)||(t._d=null),t))}function cle(t){var e=t._i;Br(e)?t._d=new Date(ce.now()):Yp(e)?t._d=new Date(e.valueOf()):typeof e=="string"?rle(t):wo(e)?(t._a=S2(e.slice(0),function(n){return parseInt(n,10)}),JI(t)):Ju(e)?ule(t):zs(e)?t._d=new Date(e):ce.createFromInputFallback(t)}function W2(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ju(t)&&BI(t)||wo(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,lle(o)}function Mt(t,e,n,r){return W2(t,e,n,r,!1)}var dle=qi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Mt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:rw()}),fle=qi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:rw()});function H2(t,e){var n,r;if(e.length===1&&wo(e[0])&&(e=e[0]),!e.length)return Mt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function hle(){var t=[].slice.call(arguments,0);return H2("isBefore",t)}function ple(){var t=[].slice.call(arguments,0);return H2("isAfter",t)}var gle=function(){return Date.now?Date.now():+new Date},Df=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mle(t){var e,n=!1,r,i=Df.length;for(e in t)if(dt(t,e)&&!(nn.call(Df,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Df[r]]){if(n)return!1;parseFloat(t[Df[r]])!==We(t[Df[r]])&&(n=!0)}return!0}function vle(){return this._isValid}function yle(){return Eo(NaN)}function fw(t){var e=jI(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,u=e.minute||0,l=e.second||0,d=e.millisecond||0;this._isValid=mle(e),this._milliseconds=+d+l*1e3+u*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Qs(),this._bubble()}function mv(t){return t instanceof fw}function T1(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function wle(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&We(t[s])!==We(e[s]))&&o++;return o+i}function q2(t,e){Ce(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ts(~~(n/60),2)+e+ts(~~n%60,2)})}q2("Z",":");q2("ZZ","");he("Z",lw);he("ZZ",lw);Et(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=eT(lw,t)});var _le=/([\+\-]|\d\d)/gi;function eT(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(_le)||["-",0,0],o=+(i[1]*60)+We(i[2]),o===0?0:i[0]==="+"?o:-o)}function tT(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(_o(t)||Yp(t)?t.valueOf():Mt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ce.updateOffset(n,!1),n):Mt(t).local()}function D1(t){return-Math.round(t._d.getTimezoneOffset())}ce.updateOffset=function(){};function Sle(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=eT(lw,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=D1(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Q2(this,Eo(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ce.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:D1(this)}function Ele(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Cle(t){return this.utcOffset(0,t)}function ble(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(D1(this),"m")),this}function Ile(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=eT(Hae,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Tle(t){return this.isValid()?(t=t?Mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Dle(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function kle(){if(!Br(this._isDSTShifted))return this._isDSTShifted;var t={},e;return zI(t,this),t=j2(t),t._a?(e=t._isUTC?ss(t._a):Mt(t._a),this._isDSTShifted=this.isValid()&&wle(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xle(){return this.isValid()?!this._isUTC:!1}function Ole(){return this.isValid()?this._isUTC:!1}function G2(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ale=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Rle=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Eo(t,e){var n=t,r=null,i,o,s;return mv(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:zs(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Ale.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:We(r[Vo])*i,h:We(r[En])*i,m:We(r[lo])*i,s:We(r[Ds])*i,ms:We(T1(r[Ku]*1e3))*i}):(r=Rle.exec(t))?(i=r[1]==="-"?-1:1,n={y:Su(r[2],i),M:Su(r[3],i),w:Su(r[4],i),d:Su(r[5],i),h:Su(r[6],i),m:Su(r[7],i),s:Su(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Ple(Mt(n.from),Mt(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new fw(n),mv(t)&&dt(t,"_locale")&&(o._locale=t._locale),mv(t)&&dt(t,"_isValid")&&(o._isValid=t._isValid),o}Eo.fn=fw.prototype;Eo.invalid=yle;function Su(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function CR(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ple(t,e){var n;return t.isValid()&&e.isValid()?(e=tT(e,t),t.isBefore(e)?n=CR(t,e):(n=CR(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Y2(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(C2(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Eo(n,r),Q2(this,i,t),this}}function Q2(t,e,n,r){var i=e._milliseconds,o=T1(e._days),s=T1(e._months);!t.isValid()||(r=r==null?!0:r,s&&P2(t,cy(t,"Month")+s*n),o&&T2(t,"Date",cy(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ce.updateOffset(t,o||s))}var Nle=Y2(1,"add"),Mle=Y2(-1,"subtract");function X2(t){return typeof t=="string"||t instanceof String}function Fle(t){return _o(t)||Yp(t)||X2(t)||zs(t)||$le(t)||Lle(t)||t===null||t===void 0}function Lle(t){var e=Ju(t)&&!BI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||dt(t,o);return e&&n}function $le(t){var e=wo(t),n=!1;return e&&(n=t.filter(function(r){return!zs(r)&&X2(t)}).length===0),e&&n}function Ble(t){var e=Ju(t)&&!BI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||dt(t,o);return e&&n}function Ule(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zle(t,e){arguments.length===1&&(arguments[0]?Fle(arguments[0])?(t=arguments[0],e=void 0):Ble(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Mt(),r=tT(n,this).startOf("day"),i=ce.calendarFormat(this,r)||"sameElse",o=e&&(as(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Mt(n)))}function Kle(){return new Qp(this)}function Vle(t,e){var n=_o(t)?t:Mt(t);return this.isValid()&&n.isValid()?(e=Gi(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function jle(t,e){var n=_o(t)?t:Mt(t);return this.isValid()&&n.isValid()?(e=Gi(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Wle(t,e,n,r){var i=_o(t)?t:Mt(t),o=_o(e)?e:Mt(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function Hle(t,e){var n=_o(t)?t:Mt(t),r;return this.isValid()&&n.isValid()?(e=Gi(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function qle(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Gle(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Yle(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=tT(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Gi(e),e){case"year":o=vv(this,r)/12;break;case"month":o=vv(this,r);break;case"quarter":o=vv(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Li(o)}function vv(t,e){if(t.date()<e.date())return-vv(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}ce.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ce.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Qle(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xle(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?gv(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):as(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gv(n,"Z")):gv(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Jle(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function Zle(t){t||(t=this.isUtc()?ce.defaultFormatUtc:ce.defaultFormat);var e=gv(this,t);return this.localeData().postformat(e)}function ece(t,e){return this.isValid()&&(_o(t)&&t.isValid()||Mt(t).isValid())?Eo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function tce(t){return this.from(Mt(),t)}function nce(t,e){return this.isValid()&&(_o(t)&&t.isValid()||Mt(t).isValid())?Eo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rce(t){return this.to(Mt(),t)}function J2(t){var e;return t===void 0?this._locale._abbr:(e=Qs(t),e!=null&&(this._locale=e),this)}var Z2=qi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function eU(){return this._locale}var hy=1e3,zc=60*hy,py=60*zc,tU=(365*400+97)*24*py;function Kc(t,e){return(t%e+e)%e}function nU(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-tU:new Date(t,e,n).valueOf()}function rU(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-tU:Date.UTC(t,e,n)}function ice(t){var e,n;if(t=Gi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?rU:nU,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Kc(e+(this._isUTC?0:this.utcOffset()*zc),py);break;case"minute":e=this._d.valueOf(),e-=Kc(e,zc);break;case"second":e=this._d.valueOf(),e-=Kc(e,hy);break}return this._d.setTime(e),ce.updateOffset(this,!0),this}function oce(t){var e,n;if(t=Gi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?rU:nU,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=py-Kc(e+(this._isUTC?0:this.utcOffset()*zc),py)-1;break;case"minute":e=this._d.valueOf(),e+=zc-Kc(e,zc)-1;break;case"second":e=this._d.valueOf(),e+=hy-Kc(e,hy)-1;break}return this._d.setTime(e),ce.updateOffset(this,!0),this}function sce(){return this._d.valueOf()-(this._offset||0)*6e4}function ace(){return Math.floor(this.valueOf()/1e3)}function uce(){return new Date(this.valueOf())}function lce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function cce(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function dce(){return this.isValid()?this.toISOString():null}function fce(){return UI(this)}function hce(){return Da({},Be(this))}function pce(){return Be(this).overflow}function gce(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ce("N",0,0,"eraAbbr");Ce("NN",0,0,"eraAbbr");Ce("NNN",0,0,"eraAbbr");Ce("NNNN",0,0,"eraName");Ce("NNNNN",0,0,"eraNarrow");Ce("y",["y",1],"yo","eraYear");Ce("y",["yy",2],0,"eraYear");Ce("y",["yyy",3],0,"eraYear");Ce("y",["yyyy",4],0,"eraYear");he("N",nT);he("NN",nT);he("NNN",nT);he("NNNN",Tce);he("NNNNN",Dce);Et(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Be(n).era=i:Be(n).invalidEra=t});he("y",kd);he("yy",kd);he("yyy",kd);he("yyyy",kd);he("yo",kce);Et(["y","yy","yyy","yyyy"],cr);Et(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[cr]=n._locale.eraYearOrdinalParse(t,i):e[cr]=parseInt(t,10)});function mce(t,e){var n,r,i,o=this._eras||Qs("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=ce(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=ce(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function vce(t,e,n){var r,i,o=this.eras(),s,a,u;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),u=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(u===t)return o[r];break}else if([s,a,u].indexOf(t)>=0)return o[r]}function yce(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ce(t.since).year():ce(t.since).year()+(e-t.offset)*n}function wce(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function _ce(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Sce(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Ece(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ce(i[t].since).year())*n+i[t].offset;return this.year()}function Cce(t){return dt(this,"_erasNameRegex")||rT.call(this),t?this._erasNameRegex:this._erasRegex}function bce(t){return dt(this,"_erasAbbrRegex")||rT.call(this),t?this._erasAbbrRegex:this._erasRegex}function Ice(t){return dt(this,"_erasNarrowRegex")||rT.call(this),t?this._erasNarrowRegex:this._erasRegex}function nT(t,e){return e.erasAbbrRegex(t)}function Tce(t,e){return e.erasNameRegex(t)}function Dce(t,e){return e.erasNarrowRegex(t)}function kce(t,e){return e._eraYearOrdinalRegex||kd}function rT(){var t=[],e=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)e.push(ai(s[i].name)),t.push(ai(s[i].abbr)),n.push(ai(s[i].narrow)),r.push(ai(s[i].name)),r.push(ai(s[i].abbr)),r.push(ai(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Ce(0,["gg",2],0,function(){return this.weekYear()%100});Ce(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hw(t,e){Ce(0,[t,t.length],0,e)}hw("gggg","weekYear");hw("ggggg","weekYear");hw("GGGG","isoWeekYear");hw("GGGGG","isoWeekYear");gr("weekYear","gg");gr("isoWeekYear","GG");mr("weekYear",1);mr("isoWeekYear",1);he("G",uw);he("g",uw);he("GG",Ft,bi);he("gg",Ft,bi);he("GGGG",HI,WI);he("gggg",HI,WI);he("GGGGG",aw,ow);he("ggggg",aw,ow);Jp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=We(t)});Jp(["gg","GG"],function(t,e,n,r){e[r]=ce.parseTwoDigitYear(t)});function xce(t){return iU.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Oce(t){return iU.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ace(){return Ps(this.year(),1,4)}function Rce(){return Ps(this.isoWeekYear(),1,4)}function Pce(){var t=this.localeData()._week;return Ps(this.year(),t.dow,t.doy)}function Nce(){var t=this.localeData()._week;return Ps(this.weekYear(),t.dow,t.doy)}function iU(t,e,n,r,i){var o;return t==null?rp(this,r,i).year:(o=Ps(t,r,i),e>o&&(e=o),Mce.call(this,t,e,n,r,i))}function Mce(t,e,n,r,i){var o=L2(t,e,n,r,i),s=np(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Ce("Q",0,"Qo","quarter");gr("quarter","Q");mr("quarter",7);he("Q",D2);Et("Q",function(t,e){e[Ts]=(We(t)-1)*3});function Fce(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ce("D",["DD",2],"Do","date");gr("date","D");mr("date",9);he("D",Ft);he("DD",Ft,bi);he("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Et(["D","DD"],Vo);Et("Do",function(t,e){e[Vo]=We(t.match(Ft)[0])});var oU=Dd("Date",!0);Ce("DDD",["DDDD",3],"DDDo","dayOfYear");gr("dayOfYear","DDD");mr("dayOfYear",4);he("DDD",sw);he("DDDD",k2);Et(["DDD","DDDD"],function(t,e,n){n._dayOfYear=We(t)});function Lce(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ce("m",["mm",2],0,"minute");gr("minute","m");mr("minute",14);he("m",Ft);he("mm",Ft,bi);Et(["m","mm"],lo);var $ce=Dd("Minutes",!1);Ce("s",["ss",2],0,"second");gr("second","s");mr("second",15);he("s",Ft);he("ss",Ft,bi);Et(["s","ss"],Ds);var Bce=Dd("Seconds",!1);Ce("S",0,0,function(){return~~(this.millisecond()/100)});Ce(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ce(0,["SSS",3],0,"millisecond");Ce(0,["SSSS",4],0,function(){return this.millisecond()*10});Ce(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ce(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ce(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ce(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ce(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});gr("millisecond","ms");mr("millisecond",16);he("S",sw,D2);he("SS",sw,bi);he("SSS",sw,k2);var ka,sU;for(ka="SSSS";ka.length<=9;ka+="S")he(ka,kd);function Uce(t,e){e[Ku]=We(("0."+t)*1e3)}for(ka="S";ka.length<=9;ka+="S")Et(ka,Uce);sU=Dd("Milliseconds",!1);Ce("z",0,0,"zoneAbbr");Ce("zz",0,0,"zoneName");function zce(){return this._isUTC?"UTC":""}function Kce(){return this._isUTC?"Coordinated Universal Time":""}var ne=Qp.prototype;ne.add=Nle;ne.calendar=zle;ne.clone=Kle;ne.diff=Yle;ne.endOf=oce;ne.format=Zle;ne.from=ece;ne.fromNow=tce;ne.to=nce;ne.toNow=rce;ne.get=jae;ne.invalidAt=pce;ne.isAfter=Vle;ne.isBefore=jle;ne.isBetween=Wle;ne.isSame=Hle;ne.isSameOrAfter=qle;ne.isSameOrBefore=Gle;ne.isValid=fce;ne.lang=Z2;ne.locale=J2;ne.localeData=eU;ne.max=fle;ne.min=dle;ne.parsingFlags=hce;ne.set=Wae;ne.startOf=ice;ne.subtract=Mle;ne.toArray=lce;ne.toObject=cce;ne.toDate=uce;ne.toISOString=Xle;ne.inspect=Jle;typeof Symbol!="undefined"&&Symbol.for!=null&&(ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ne.toJSON=dce;ne.toString=Qle;ne.unix=ace;ne.valueOf=sce;ne.creationData=gce;ne.eraName=wce;ne.eraNarrow=_ce;ne.eraAbbr=Sce;ne.eraYear=Ece;ne.year=F2;ne.isLeapYear=cue;ne.weekYear=xce;ne.isoWeekYear=Oce;ne.quarter=ne.quarters=Fce;ne.month=N2;ne.daysInMonth=aue;ne.week=ne.weeks=mue;ne.isoWeek=ne.isoWeeks=vue;ne.weeksInYear=Pce;ne.weeksInWeekYear=Nce;ne.isoWeeksInYear=Ace;ne.isoWeeksInISOWeekYear=Rce;ne.date=oU;ne.day=ne.days=Oue;ne.weekday=Aue;ne.isoWeekday=Rue;ne.dayOfYear=Lce;ne.hour=ne.hours=Bue;ne.minute=ne.minutes=$ce;ne.second=ne.seconds=Bce;ne.millisecond=ne.milliseconds=sU;ne.utcOffset=Sle;ne.utc=Cle;ne.local=ble;ne.parseZone=Ile;ne.hasAlignedHourOffset=Tle;ne.isDST=Dle;ne.isLocal=xle;ne.isUtcOffset=Ole;ne.isUtc=G2;ne.isUTC=G2;ne.zoneAbbr=zce;ne.zoneName=Kce;ne.dates=qi("dates accessor is deprecated. Use date instead.",oU);ne.months=qi("months accessor is deprecated. Use month instead",N2);ne.years=qi("years accessor is deprecated. Use year instead",F2);ne.zone=qi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ele);ne.isDSTShifted=qi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",kle);function Vce(t){return Mt(t*1e3)}function jce(){return Mt.apply(null,arguments).parseZone()}function aU(t){return t}var ft=KI.prototype;ft.calendar=Oae;ft.longDateFormat=Nae;ft.invalidDate=Fae;ft.ordinal=Bae;ft.preparse=aU;ft.postformat=aU;ft.relativeTime=zae;ft.pastFuture=Kae;ft.set=kae;ft.eras=mce;ft.erasParse=vce;ft.erasConvertYear=yce;ft.erasAbbrRegex=bce;ft.erasNameRegex=Cce;ft.erasNarrowRegex=Ice;ft.months=rue;ft.monthsShort=iue;ft.monthsParse=sue;ft.monthsRegex=lue;ft.monthsShortRegex=uue;ft.week=fue;ft.firstDayOfYear=gue;ft.firstDayOfWeek=pue;ft.weekdays=Iue;ft.weekdaysMin=Due;ft.weekdaysShort=Tue;ft.weekdaysParse=xue;ft.weekdaysRegex=Pue;ft.weekdaysShortRegex=Nue;ft.weekdaysMinRegex=Mue;ft.isPM=Lue;ft.meridiem=Uue;function gy(t,e,n,r){var i=Qs(),o=ss().set(r,e);return i[n](o,t)}function uU(t,e,n){if(zs(t)&&(e=t,t=void 0),t=t||"",e!=null)return gy(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=gy(t,r,n,"month");return i}function iT(t,e,n,r){typeof t=="boolean"?(zs(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,zs(e)&&(n=e,e=void 0),e=e||"");var i=Qs(),o=t?i._week.dow:0,s,a=[];if(n!=null)return gy(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=gy(e,(s+o)%7,r,"day");return a}function Wce(t,e){return uU(t,e,"months")}function Hce(t,e){return uU(t,e,"monthsShort")}function qce(t,e,n){return iT(t,e,n,"weekdays")}function Gce(t,e,n){return iT(t,e,n,"weekdaysShort")}function Yce(t,e,n){return iT(t,e,n,"weekdaysMin")}Ua("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=We(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ce.lang=qi("moment.lang is deprecated. Use moment.locale instead.",Ua);ce.langData=qi("moment.langData is deprecated. Use moment.localeData instead.",Qs);var ys=Math.abs;function Qce(){var t=this._data;return this._milliseconds=ys(this._milliseconds),this._days=ys(this._days),this._months=ys(this._months),t.milliseconds=ys(t.milliseconds),t.seconds=ys(t.seconds),t.minutes=ys(t.minutes),t.hours=ys(t.hours),t.months=ys(t.months),t.years=ys(t.years),this}function lU(t,e,n,r){var i=Eo(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Xce(t,e){return lU(this,t,e,1)}function Jce(t,e){return lU(this,t,e,-1)}function bR(t){return t<0?Math.floor(t):Math.ceil(t)}function Zce(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,u;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=bR(k1(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Li(t/1e3),r.seconds=i%60,o=Li(i/60),r.minutes=o%60,s=Li(o/60),r.hours=s%24,e+=Li(s/24),u=Li(cU(e)),n+=u,e-=bR(k1(u)),a=Li(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function cU(t){return t*4800/146097}function k1(t){return t*146097/4800}function ede(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Gi(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+cU(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(k1(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function tde(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+We(this._months/12)*31536e6:NaN}function Xs(t){return function(){return this.as(t)}}var nde=Xs("ms"),rde=Xs("s"),ide=Xs("m"),ode=Xs("h"),sde=Xs("d"),ade=Xs("w"),ude=Xs("M"),lde=Xs("Q"),cde=Xs("y");function dde(){return Eo(this)}function fde(t){return t=Gi(t),this.isValid()?this[t+"s"]():NaN}function Pl(t){return function(){return this.isValid()?this._data[t]:NaN}}var hde=Pl("milliseconds"),pde=Pl("seconds"),gde=Pl("minutes"),mde=Pl("hours"),vde=Pl("days"),yde=Pl("months"),wde=Pl("years");function _de(){return Li(this.days()/7)}var Ss=Math.round,bc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Sde(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Ede(t,e,n,r){var i=Eo(t).abs(),o=Ss(i.as("s")),s=Ss(i.as("m")),a=Ss(i.as("h")),u=Ss(i.as("d")),l=Ss(i.as("M")),d=Ss(i.as("w")),f=Ss(i.as("y")),p=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||l<=1&&["M"]||l<n.M&&["MM",l]||f<=1&&["y"]||["yy",f],p[2]=e,p[3]=+t>0,p[4]=r,Sde.apply(null,p)}function Cde(t){return t===void 0?Ss:typeof t=="function"?(Ss=t,!0):!1}function bde(t,e){return bc[t]===void 0?!1:e===void 0?bc[t]:(bc[t]=e,t==="s"&&(bc.ss=e-1),!0)}function Ide(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=bc,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},bc,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=Ede(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var OS=Math.abs;function tc(t){return(t>0)-(t<0)||+t}function pw(){if(!this.isValid())return this.localeData().invalidDate();var t=OS(this._milliseconds)/1e3,e=OS(this._days),n=OS(this._months),r,i,o,s,a=this.asSeconds(),u,l,d,f;return a?(r=Li(t/60),i=Li(r/60),t%=60,r%=60,o=Li(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",u=a<0?"-":"",l=tc(this._months)!==tc(a)?"-":"",d=tc(this._days)!==tc(a)?"-":"",f=tc(this._milliseconds)!==tc(a)?"-":"",u+"P"+(o?l+o+"Y":"")+(n?l+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(t?f+s+"S":"")):"P0D"}var tt=fw.prototype;tt.isValid=vle;tt.abs=Qce;tt.add=Xce;tt.subtract=Jce;tt.as=ede;tt.asMilliseconds=nde;tt.asSeconds=rde;tt.asMinutes=ide;tt.asHours=ode;tt.asDays=sde;tt.asWeeks=ade;tt.asMonths=ude;tt.asQuarters=lde;tt.asYears=cde;tt.valueOf=tde;tt._bubble=Zce;tt.clone=dde;tt.get=fde;tt.milliseconds=hde;tt.seconds=pde;tt.minutes=gde;tt.hours=mde;tt.days=vde;tt.weeks=_de;tt.months=yde;tt.years=wde;tt.humanize=Ide;tt.toISOString=pw;tt.toString=pw;tt.toJSON=pw;tt.locale=J2;tt.localeData=eU;tt.toIsoString=qi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pw);tt.lang=Z2;Ce("X",0,0,"unix");Ce("x",0,0,"valueOf");he("x",uw);he("X",qae);Et("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Et("x",function(t,e,n){n._d=new Date(We(t))});//! moment.js
ce.version="2.29.4";Tae(Mt);ce.fn=ne;ce.min=hle;ce.max=ple;ce.now=gle;ce.utc=ss;ce.unix=Vce;ce.months=Wce;ce.isDate=Yp;ce.locale=Ua;ce.invalid=rw;ce.duration=Eo;ce.isMoment=_o;ce.weekdays=qce;ce.parseZone=jce;ce.localeData=Qs;ce.isDuration=mv;ce.monthsShort=Hce;ce.weekdaysMin=Yce;ce.defineLocale=QI;ce.updateLocale=jue;ce.locales=Wue;ce.weekdaysShort=Gce;ce.normalizeUnits=Gi;ce.relativeTimeRounding=Cde;ce.relativeTimeThreshold=bde;ce.calendarFormat=Ule;ce.prototype=ne;ce.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var x1={exports:{}},Zp={},op={exports:{}};(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Function]",m="[object GeneratorFunction]",_="[object Map]",C="[object Number]",w="[object Null]",y="[object Object]",S="[object Promise]",I="[object Proxy]",k="[object RegExp]",O="[object Set]",A="[object String]",F="[object Symbol]",G="[object Undefined]",Y="[object WeakMap]",Q="[object ArrayBuffer]",ie="[object DataView]",ae="[object Float32Array]",_e="[object Float64Array]",De="[object Int8Array]",Ie="[object Int16Array]",Ae="[object Int32Array]",X="[object Uint8Array]",W="[object Uint8ClampedArray]",K="[object Uint16Array]",oe="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,L={};L[ae]=L[_e]=L[De]=L[Ie]=L[Ae]=L[X]=L[W]=L[K]=L[oe]=!0,L[a]=L[u]=L[Q]=L[d]=L[ie]=L[f]=L[p]=L[g]=L[_]=L[C]=L[y]=L[k]=L[O]=L[A]=L[Y]=!1;var V=typeof li=="object"&&li&&li.Object===Object&&li,se=typeof self=="object"&&self&&self.Object===Object&&self,ye=V||se||Function("return this")(),Re=e&&!e.nodeType&&e,Ue=Re&&!0&&t&&!t.nodeType&&t,hn=Ue&&Ue.exports===Re,vr=hn&&V.process,nt=function(){try{return vr&&vr.binding&&vr.binding("util")}catch{}}(),mt=nt&&nt.isTypedArray;function ht(D,R){for(var H=-1,fe=D==null?0:D.length,wt=0,xe=[];++H<fe;){var Ot=D[H];R(Ot,H,D)&&(xe[wt++]=Ot)}return xe}function pn(D,R){for(var H=-1,fe=R.length,wt=D.length;++H<fe;)D[wt+H]=R[H];return D}function Ii(D,R){for(var H=-1,fe=D==null?0:D.length;++H<fe;)if(R(D[H],H,D))return!0;return!1}function Un(D,R){for(var H=-1,fe=Array(D);++H<D;)fe[H]=R(H);return fe}function xt(D){return function(R){return D(R)}}function zn(D,R){return D.has(R)}function yr(D,R){return D==null?void 0:D[R]}function Me(D){var R=-1,H=Array(D.size);return D.forEach(function(fe,wt){H[++R]=[wt,fe]}),H}function Qe(D,R){return function(H){return D(R(H))}}function Fe(D){var R=-1,H=Array(D.size);return D.forEach(function(fe){H[++R]=fe}),H}var bt=Array.prototype,ze=Function.prototype,Yi=Object.prototype,at=ye["__core-js_shared__"],Qi=ze.toString,Lt=Yi.hasOwnProperty,cs=function(){var D=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),ds=Yi.toString,Ud=RegExp("^"+Qi.call(Lt).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zd=hn?ye.Buffer:void 0,It=ye.Symbol,Kl=ye.Uint8Array,gn=Yi.propertyIsEnumerable,Kd=bt.splice,Ti=It?It.toStringTag:void 0,mn=Object.getOwnPropertySymbols,Vd=zd?zd.isBuffer:void 0,Co=Qe(Object.keys,Object),fs=ut(ye,"DataView"),Di=ut(ye,"Map"),na=ut(ye,"Promise"),hs=ut(ye,"Set"),hu=ut(ye,"WeakMap"),vn=ut(Object,"create"),i_=eo(fs),jd=eo(Di),o_=eo(na),Ig=eo(hs),Tg=eo(hu),Dg=It?It.prototype:void 0,pu=Dg?Dg.valueOf:void 0;function Xi(D){var R=-1,H=D==null?0:D.length;for(this.clear();++R<H;){var fe=D[R];this.set(fe[0],fe[1])}}function Wd(){this.__data__=vn?vn(null):{},this.size=0}function ps(D){var R=this.has(D)&&delete this.__data__[D];return this.size-=R?1:0,R}function s_(D){var R=this.__data__;if(vn){var H=R[D];return H===r?void 0:H}return Lt.call(R,D)?R[D]:void 0}function a_(D){var R=this.__data__;return vn?R[D]!==void 0:Lt.call(R,D)}function Hd(D,R){var H=this.__data__;return this.size+=this.has(D)?0:1,H[D]=vn&&R===void 0?r:R,this}Xi.prototype.clear=Wd,Xi.prototype.delete=ps,Xi.prototype.get=s_,Xi.prototype.has=a_,Xi.prototype.set=Hd;function ei(D){var R=-1,H=D==null?0:D.length;for(this.clear();++R<H;){var fe=D[R];this.set(fe[0],fe[1])}}function wr(){this.__data__=[],this.size=0}function Ye(D){var R=this.__data__,H=Vl(R,D);if(H<0)return!1;var fe=R.length-1;return H==fe?R.pop():Kd.call(R,H,1),--this.size,!0}function qd(D){var R=this.__data__,H=Vl(R,D);return H<0?void 0:R[H][1]}function kg(D){return Vl(this.__data__,D)>-1}function Ve(D,R){var H=this.__data__,fe=Vl(H,D);return fe<0?(++this.size,H.push([D,R])):H[fe][1]=R,this}ei.prototype.clear=wr,ei.prototype.delete=Ye,ei.prototype.get=qd,ei.prototype.has=kg,ei.prototype.set=Ve;function ti(D){var R=-1,H=D==null?0:D.length;for(this.clear();++R<H;){var fe=D[R];this.set(fe[0],fe[1])}}function ra(){this.size=0,this.__data__={hash:new Xi,map:new(Di||ei),string:new Xi}}function gu(D){var R=jl(this,D).delete(D);return this.size-=R?1:0,R}function ia(D){return jl(this,D).get(D)}function Ji(D){return jl(this,D).has(D)}function Gd(D,R){var H=jl(this,D),fe=H.size;return H.set(D,R),this.size+=H.size==fe?0:1,this}ti.prototype.clear=ra,ti.prototype.delete=gu,ti.prototype.get=ia,ti.prototype.has=Ji,ti.prototype.set=Gd;function oa(D){var R=-1,H=D==null?0:D.length;for(this.__data__=new ti;++R<H;)this.add(D[R])}function xg(D){return this.__data__.set(D,r),this}function Yd(D){return this.__data__.has(D)}oa.prototype.add=oa.prototype.push=xg,oa.prototype.has=Yd;function Zi(D){var R=this.__data__=new ei(D);this.size=R.size}function ki(){this.__data__=new ei,this.size=0}function Og(D){var R=this.__data__,H=R.delete(D);return this.size=R.size,H}function Qd(D){return this.__data__.get(D)}function Ag(D){return this.__data__.has(D)}function Xd(D,R){var H=this.__data__;if(H instanceof ei){var fe=H.__data__;if(!Di||fe.length<n-1)return fe.push([D,R]),this.size=++H.size,this;H=this.__data__=new ti(fe)}return H.set(D,R),this.size=H.size,this}Zi.prototype.clear=ki,Zi.prototype.delete=Og,Zi.prototype.get=Qd,Zi.prototype.has=Ag,Zi.prototype.set=Xd;function u_(D,R){var H=to(D),fe=!H&&ef(D),wt=!H&&!fe&&xi(D),xe=!H&&!fe&&!wt&&nf(D),Ot=H||fe||wt||xe,un=Ot?Un(D.length,String):[],yn=un.length;for(var Ct in D)(R||Lt.call(D,Ct))&&!(Ot&&(Ct=="length"||wt&&(Ct=="offset"||Ct=="parent")||xe&&(Ct=="buffer"||Ct=="byteLength"||Ct=="byteOffset")||Io(Ct,yn)))&&un.push(Ct);return un}function Vl(D,R){for(var H=D.length;H--;)if(Kg(D[H][0],R))return H;return-1}function l_(D,R,H){var fe=R(D);return to(D)?fe:pn(fe,H(D))}function bo(D){return D==null?D===void 0?G:w:Ti&&Ti in Object(D)?$g(D):zg(D)}function Jd(D){return gs(D)&&bo(D)==a}function Zd(D,R,H,fe,wt){return D===R?!0:D==null||R==null||!gs(D)&&!gs(R)?D!==D&&R!==R:Rg(D,R,H,fe,Zd,wt)}function Rg(D,R,H,fe,wt,xe){var Ot=to(D),un=to(R),yn=Ot?u:$t(D),Ct=un?u:$t(R);yn=yn==a?y:yn,Ct=Ct==a?y:Ct;var _r=yn==y,Nr=Ct==y,In=yn==Ct;if(In&&xi(D)){if(!xi(R))return!1;Ot=!0,_r=!1}if(In&&!_r)return xe||(xe=new Zi),Ot||nf(D)?Fg(D,R,H,fe,wt,xe):c_(D,R,yn,H,fe,wt,xe);if(!(H&i)){var Sr=_r&&Lt.call(D,"__wrapped__"),Mr=Nr&&Lt.call(R,"__wrapped__");if(Sr||Mr){var To=Sr?D.value():D,nr=Mr?R.value():R;return xe||(xe=new Zi),wt(To,nr,H,fe,xe)}}return In?(xe||(xe=new Zi),d_(D,R,H,fe,wt,xe)):!1}function Pg(D){if(!tf(D)||Ug(D))return!1;var R=sa(D)?Ud:j;return R.test(eo(D))}function Ng(D){return gs(D)&&Bt(D.length)&&!!L[bo(D)]}function Mg(D){if(!vu(D))return Co(D);var R=[];for(var H in Object(D))Lt.call(D,H)&&H!="constructor"&&R.push(H);return R}function Fg(D,R,H,fe,wt,xe){var Ot=H&i,un=D.length,yn=R.length;if(un!=yn&&!(Ot&&yn>un))return!1;var Ct=xe.get(D);if(Ct&&xe.get(R))return Ct==R;var _r=-1,Nr=!0,In=H&o?new oa:void 0;for(xe.set(D,R),xe.set(R,D);++_r<un;){var Sr=D[_r],Mr=R[_r];if(fe)var To=Ot?fe(Mr,Sr,_r,R,D,xe):fe(Sr,Mr,_r,D,R,xe);if(To!==void 0){if(To)continue;Nr=!1;break}if(In){if(!Ii(R,function(nr,Oi){if(!zn(In,Oi)&&(Sr===nr||wt(Sr,nr,H,fe,xe)))return In.push(Oi)})){Nr=!1;break}}else if(!(Sr===Mr||wt(Sr,Mr,H,fe,xe))){Nr=!1;break}}return xe.delete(D),xe.delete(R),Nr}function c_(D,R,H,fe,wt,xe,Ot){switch(H){case ie:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case Q:return!(D.byteLength!=R.byteLength||!xe(new Kl(D),new Kl(R)));case d:case f:case C:return Kg(+D,+R);case p:return D.name==R.name&&D.message==R.message;case k:case A:return D==R+"";case _:var un=Me;case O:var yn=fe&i;if(un||(un=Fe),D.size!=R.size&&!yn)return!1;var Ct=Ot.get(D);if(Ct)return Ct==R;fe|=o,Ot.set(D,R);var _r=Fg(un(D),un(R),fe,wt,xe,Ot);return Ot.delete(D),_r;case F:if(pu)return pu.call(D)==pu.call(R)}return!1}function d_(D,R,H,fe,wt,xe){var Ot=H&i,un=Lg(D),yn=un.length,Ct=Lg(R),_r=Ct.length;if(yn!=_r&&!Ot)return!1;for(var Nr=yn;Nr--;){var In=un[Nr];if(!(Ot?In in R:Lt.call(R,In)))return!1}var Sr=xe.get(D);if(Sr&&xe.get(R))return Sr==R;var Mr=!0;xe.set(D,R),xe.set(R,D);for(var To=Ot;++Nr<yn;){In=un[Nr];var nr=D[In],Oi=R[In];if(fe)var rf=Ot?fe(Oi,nr,In,R,D,xe):fe(nr,Oi,In,D,R,xe);if(!(rf===void 0?nr===Oi||wt(nr,Oi,H,fe,xe):rf)){Mr=!1;break}To||(To=In=="constructor")}if(Mr&&!To){var aa=D.constructor,lt=R.constructor;aa!=lt&&"constructor"in D&&"constructor"in R&&!(typeof aa=="function"&&aa instanceof aa&&typeof lt=="function"&&lt instanceof lt)&&(Mr=!1)}return xe.delete(D),xe.delete(R),Mr}function Lg(D){return l_(D,Hl,Bg)}function jl(D,R){var H=D.__data__;return mu(R)?H[typeof R=="string"?"string":"hash"]:H.map}function ut(D,R){var H=yr(D,R);return Pg(H)?H:void 0}function $g(D){var R=Lt.call(D,Ti),H=D[Ti];try{D[Ti]=void 0;var fe=!0}catch{}var wt=ds.call(D);return fe&&(R?D[Ti]=H:delete D[Ti]),wt}var Bg=mn?function(D){return D==null?[]:(D=Object(D),ht(mn(D),function(R){return gn.call(D,R)}))}:jg,$t=bo;(fs&&$t(new fs(new ArrayBuffer(1)))!=ie||Di&&$t(new Di)!=_||na&&$t(na.resolve())!=S||hs&&$t(new hs)!=O||hu&&$t(new hu)!=Y)&&($t=function(D){var R=bo(D),H=R==y?D.constructor:void 0,fe=H?eo(H):"";if(fe)switch(fe){case i_:return ie;case jd:return _;case o_:return S;case Ig:return O;case Tg:return Y}return R});function Io(D,R){return R=R==null?s:R,!!R&&(typeof D=="number"||J.test(D))&&D>-1&&D%1==0&&D<R}function mu(D){var R=typeof D;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?D!=="__proto__":D===null}function Ug(D){return!!cs&&cs in D}function vu(D){var R=D&&D.constructor,H=typeof R=="function"&&R.prototype||Yi;return D===H}function zg(D){return ds.call(D)}function eo(D){if(D!=null){try{return Qi.call(D)}catch{}try{return D+""}catch{}}return""}function Kg(D,R){return D===R||D!==D&&R!==R}var ef=Jd(function(){return arguments}())?Jd:function(D){return gs(D)&&Lt.call(D,"callee")&&!gn.call(D,"callee")},to=Array.isArray;function Vg(D){return D!=null&&Bt(D.length)&&!sa(D)}var xi=Vd||Pr;function Wl(D,R){return Zd(D,R)}function sa(D){if(!tf(D))return!1;var R=bo(D);return R==g||R==m||R==l||R==I}function Bt(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=s}function tf(D){var R=typeof D;return D!=null&&(R=="object"||R=="function")}function gs(D){return D!=null&&typeof D=="object"}var nf=mt?xt(mt):Ng;function Hl(D){return Vg(D)?u_(D):Mg(D)}function jg(){return[]}function Pr(){return!1}t.exports=Wl})(op,op.exports);function dU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=dU(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function IR(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=dU(t))&&(r&&(r+=" "),r+=e);return r}var Tde=Object.freeze(Object.defineProperty({__proto__:null,clsx:IR,default:IR},Symbol.toStringTag,{value:"Module"})),gw=UC(Tde),qe={},Dde=function(e,n,r){return e===n?!0:e.className===n.className&&r(e.style,n.style)&&e.width===n.width&&e.autoSize===n.autoSize&&e.cols===n.cols&&e.draggableCancel===n.draggableCancel&&e.draggableHandle===n.draggableHandle&&r(e.verticalCompact,n.verticalCompact)&&r(e.compactType,n.compactType)&&r(e.layout,n.layout)&&r(e.margin,n.margin)&&r(e.containerPadding,n.containerPadding)&&e.rowHeight===n.rowHeight&&e.maxRows===n.maxRows&&e.isBounded===n.isBounded&&e.isDraggable===n.isDraggable&&e.isResizable===n.isResizable&&e.allowOverlap===n.allowOverlap&&e.preventCollision===n.preventCollision&&e.useCSSTransforms===n.useCSSTransforms&&e.transformScale===n.transformScale&&e.isDroppable===n.isDroppable&&r(e.resizeHandles,n.resizeHandles)&&r(e.resizeHandle,n.resizeHandle)&&e.onLayoutChange===n.onLayoutChange&&e.onDragStart===n.onDragStart&&e.onDrag===n.onDrag&&e.onDragStop===n.onDragStop&&e.onResizeStart===n.onResizeStart&&e.onResize===n.onResize&&e.onResizeStop===n.onResizeStop&&e.onDrop===n.onDrop&&r(e.droppingItem,n.droppingItem)&&r(e.innerRef,n.innerRef)};Object.defineProperty(qe,"__esModule",{value:!0});qe.bottom=oT;qe.childrenEqual=Ade;qe.cloneLayout=hU;qe.cloneLayoutItem=Zu;qe.collides=mw;qe.compact=gU;qe.compactItem=mU;qe.compactType=Ude;qe.correctBounds=vU;qe.fastPositionEqual=Pde;qe.fastRGLPropsEqual=void 0;qe.getAllCollisions=yU;qe.getFirstCollision=Vc;qe.getLayoutItem=sT;qe.getStatics=aT;qe.modifyLayout=pU;qe.moveElement=R1;qe.moveElementAwayFromCollision=P1;qe.noop=void 0;qe.perc=Mde;qe.setTopLeft=Lde;qe.setTransform=Fde;qe.sortLayoutItems=uT;qe.sortLayoutItemsByColRow=_U;qe.sortLayoutItemsByRowCol=wU;qe.synchronizeLayoutWithChildren=$de;qe.validateLayout=Bde;qe.withLayoutItem=Ode;var kde=fU(op.exports),O1=fU(we.exports);function fU(t){return t&&t.__esModule?t:{default:t}}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oT(t){for(var e=0,n,r=0,i=t.length;r<i;r++)n=t[r].y+t[r].h,n>e&&(e=n);return e}function hU(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=Zu(t[n]);return e}function pU(t,e){for(var n=Array(t.length),r=0,i=t.length;r<i;r++)e.i===t[r].i?n[r]=e:n[r]=t[r];return n}function Ode(t,e,n){var r=sT(t,e);return r?(r=n(Zu(r)),t=pU(t,r),[t,r]):[t,null]}function Zu(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),static:Boolean(t.static),isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}function Ade(t,e){return(0,kde.default)(O1.default.Children.map(t,function(n){return n==null?void 0:n.key}),O1.default.Children.map(e,function(n){return n==null?void 0:n.key}))}var Rde=Dde;qe.fastRGLPropsEqual=Rde;function Pde(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height}function mw(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function gU(t,e,n){for(var r=aT(t),i=uT(t,e),o=Array(t.length),s=0,a=i.length;s<a;s++){var u=Zu(i[s]);u.static||(u=mU(r,u,e,n,i),r.push(u)),o[t.indexOf(i[s])]=u,u.moved=!1}return o}var Nde={x:"w",y:"h"};function A1(t,e,n,r){var i=Nde[r];e[r]+=1;for(var o=t.map(function(u){return u.i}).indexOf(e.i),s=o+1;s<t.length;s++){var a=t[s];if(!a.static){if(a.y>e.y+e.h)break;mw(e,a)&&A1(t,a,n+e[i],r)}}e[r]=n}function mU(t,e,n,r,i){var o=n==="vertical",s=n==="horizontal";if(o)for(e.y=Math.min(oT(t),e.y);e.y>0&&!Vc(t,e);)e.y--;else if(s)for(;e.x>0&&!Vc(t,e);)e.x--;for(var a;a=Vc(t,e);)s?A1(i,e,a.x+a.w,"x"):A1(i,e,a.y+a.h,"y"),s&&e.x+e.w>r&&(e.x=r-e.w,e.y++);return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function vU(t,e){for(var n=aT(t),r=0,i=t.length;r<i;r++){var o=t[r];if(o.x+o.w>e.cols&&(o.x=e.cols-o.w),o.x<0&&(o.x=0,o.w=e.cols),!o.static)n.push(o);else for(;Vc(n,o);)o.y++}return t}function sT(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function Vc(t,e){for(var n=0,r=t.length;n<r;n++)if(mw(t[n],e))return t[n]}function yU(t,e){return t.filter(function(n){return mw(n,e)})}function aT(t){return t.filter(function(e){return e.static})}function R1(t,e,n,r,i,o,s,a,u){if(e.static&&e.isDraggable!==!0||e.y===r&&e.x===n)return t;"Moving element ".concat(e.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(e.x,",").concat(e.y,"]");var l=e.x,d=e.y;typeof n=="number"&&(e.x=n),typeof r=="number"&&(e.y=r),e.moved=!0;var f=uT(t,s),p=s==="vertical"&&typeof r=="number"?d>=r:s==="horizontal"&&typeof n=="number"?l>=n:!1;p&&(f=f.reverse());var g=yU(f,e),m=g.length>0;if(m&&u)return hU(t);if(m&&o)return"Collision prevented on ".concat(e.i,", reverting."),e.x=l,e.y=d,e.moved=!1,t;for(var _=0,C=g.length;_<C;_++){var w=g[_];"Resolving collision between ".concat(e.i," at [").concat(e.x,",").concat(e.y,"] and ").concat(w.i," at [").concat(w.x,",").concat(w.y,"]"),!w.moved&&(w.static?t=P1(t,w,e,i,s):t=P1(t,e,w,i,s))}return t}function P1(t,e,n,r,i,o){var s=i==="horizontal",a=i!=="horizontal",u=e.static;if(r){r=!1;var l={x:s?Math.max(e.x-n.w,0):n.x,y:a?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!Vc(t,l))return"Doing reverse collision on ".concat(n.i," up to [").concat(l.x,",").concat(l.y,"]."),R1(t,n,s?l.x:void 0,a?l.y:void 0,r,u,i)}return R1(t,n,s?n.x+1:void 0,a?n.y+1:void 0,r,u,i)}function Mde(t){return t*100+"%"}function Fde(t){var e=t.top,n=t.left,r=t.width,i=t.height,o="translate(".concat(n,"px,").concat(e,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}}function Lde(t){var e=t.top,n=t.left,r=t.width,i=t.height;return{top:"".concat(e,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}}function uT(t,e){return e==="horizontal"?_U(t):e==="vertical"?wU(t):t}function wU(t){return t.slice(0).sort(function(e,n){return e.y>n.y||e.y===n.y&&e.x>n.x?1:e.y===n.y&&e.x===n.x?0:-1})}function _U(t){return t.slice(0).sort(function(e,n){return e.x>n.x||e.x===n.x&&e.y>n.y?1:-1})}function $de(t,e,n,r,i){t=t||[];var o=[];O1.default.Children.forEach(e,function(a){if((a==null?void 0:a.key)!=null){var u=sT(t,String(a.key));if(u)o.push(Zu(u));else{var l=a.props["data-grid"]||a.props._grid;l?o.push(Zu(DR(DR({},l),{},{i:a.key}))):o.push(Zu({w:1,h:1,x:0,y:oT(o),i:String(a.key)}))}}});var s=vU(o,{cols:n});return i?s:gU(s,r,n)}function Bde(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,i=t.length;r<i;r++)for(var o=t[r],s=0;s<n.length;s++)if(typeof o[n[s]]!="number")throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[s]+" must be a number!")}function Ude(t){var e=t||{},n=e.verticalCompact,r=e.compactType;return n===!1?null:r}var zde=function(){};qe.noop=zde;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.calcGridColWidth=vw;Js.calcGridItemPosition=Kde;Js.calcGridItemWHPx=N1;Js.calcWH=jde;Js.calcXY=Vde;Js.clamp=sp;function vw(t){var e=t.margin,n=t.containerPadding,r=t.containerWidth,i=t.cols;return(r-e[0]*(i-1)-n[0]*2)/i}function N1(t,e,n){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*n):t}function Kde(t,e,n,r,i,o){var s=t.margin,a=t.containerPadding,u=t.rowHeight,l=vw(t),d={};return o&&o.resizing?(d.width=Math.round(o.resizing.width),d.height=Math.round(o.resizing.height)):(d.width=N1(r,l,s[0]),d.height=N1(i,u,s[1])),o&&o.dragging?(d.top=Math.round(o.dragging.top),d.left=Math.round(o.dragging.left)):(d.top=Math.round((u+s[1])*n+a[1]),d.left=Math.round((l+s[0])*e+a[0])),d}function Vde(t,e,n,r,i){var o=t.margin,s=t.cols,a=t.rowHeight,u=t.maxRows,l=vw(t),d=Math.round((n-o[0])/(l+o[0])),f=Math.round((e-o[1])/(a+o[1]));return d=sp(d,0,s-r),f=sp(f,0,u-i),{x:d,y:f}}function jde(t,e,n,r,i){var o=t.margin,s=t.maxRows,a=t.cols,u=t.rowHeight,l=vw(t),d=Math.round((e+o[0])/(l+o[0])),f=Math.round((n+o[1])/(u+o[1]));return d=sp(d,0,a-r),f=sp(f,0,s-i),{w:d,h:f}}function sp(t,e,n){return Math.max(Math.min(t,n),e)}var yw={},eg={exports:{}},SU={},tn={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.dontSetMe=Yde;us.findInArray=Wde;us.int=Gde;us.isFunction=Hde;us.isNum=qde;function Wde(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Hde(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function qde(t){return typeof t=="number"&&!isNaN(t)}function Gde(t){return parseInt(t,10)}function Yde(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.browserPrefixToKey=CU;Nl.browserPrefixToStyle=Qde;Nl.default=void 0;Nl.getPrefix=EU;var AS=["Moz","Webkit","O","ms"];function EU(){var t,e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var r=(t=window.document)===null||t===void 0||(e=t.documentElement)===null||e===void 0?void 0:e.style;if(!r||n in r)return"";for(var i=0;i<AS.length;i++)if(CU(n,AS[i])in r)return AS[i];return""}function CU(t,e){return e?"".concat(e).concat(Xde(t)):t}function Qde(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Xde(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}var Jde=EU();Nl.default=Jde;function M1(t){return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(t)}Object.defineProperty(tn,"__esModule",{value:!0});tn.addClassName=kU;tn.addEvent=tfe;tn.addUserSelectStyles=ffe;tn.createCSSTransform=ufe;tn.createSVGTransform=lfe;tn.getTouch=cfe;tn.getTouchIdentifier=dfe;tn.getTranslation=lT;tn.innerHeight=ofe;tn.innerWidth=sfe;tn.matchesSelector=DU;tn.matchesSelectorAndParentsTo=efe;tn.offsetXYFromParent=afe;tn.outerHeight=rfe;tn.outerWidth=ife;tn.removeClassName=xU;tn.removeEvent=nfe;tn.removeUserSelectStyles=hfe;var gi=us,kR=Zde(Nl);function bU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(bU=function(i){return i?n:e})(t)}function Zde(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||M1(t)!=="object"&&typeof t!="function")return{default:t};var n=bU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){TU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pm="";function DU(t,e){return Pm||(Pm=(0,gi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,gi.isFunction)(t[n])})),(0,gi.isFunction)(t[Pm])?t[Pm](e):!1}function efe(t,e,n){var r=t;do{if(DU(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function tfe(t,e,n,r){if(!!t){var i=IU({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}}function nfe(t,e,n,r){if(!!t){var i=IU({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}}function rfe(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,gi.int)(n.borderTopWidth),e+=(0,gi.int)(n.borderBottomWidth),e}function ife(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,gi.int)(n.borderLeftWidth),e+=(0,gi.int)(n.borderRightWidth),e}function ofe(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,gi.int)(n.paddingTop),e-=(0,gi.int)(n.paddingBottom),e}function sfe(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,gi.int)(n.paddingLeft),e-=(0,gi.int)(n.paddingRight),e}function afe(t,e,n){var r=e===e.ownerDocument.body,i=r?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function ufe(t,e){var n=lT(t,e,"px");return TU({},(0,kR.browserPrefixToKey)("transform",kR.default),n)}function lfe(t,e){var n=lT(t,e,"");return n}function lT(t,e,n){var r=t.x,i=t.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){var s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function cfe(t,e){return t.targetTouches&&(0,gi.findInArray)(t.targetTouches,function(n){return e===n.identifier})||t.changedTouches&&(0,gi.findInArray)(t.changedTouches,function(n){return e===n.identifier})}function dfe(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function ffe(t){if(!!t){var e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&kU(t.body,"react-draggable-transparent-selection")}}function hfe(t){if(!!t)try{if(t.body&&xU(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function kU(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function xU(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.canDragX=mfe;ls.canDragY=vfe;ls.createCoreData=wfe;ls.createDraggableData=_fe;ls.getBoundPosition=pfe;ls.getControlPosition=yfe;ls.snapToGrid=gfe;var oi=us,Ic=tn;function pfe(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r=typeof r=="string"?r:Sfe(r);var i=cT(t);if(typeof r=="string"){var o=i.ownerDocument,s=o.defaultView,a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a,l=s.getComputedStyle(i),d=s.getComputedStyle(u);r={left:-i.offsetLeft+(0,oi.int)(d.paddingLeft)+(0,oi.int)(l.marginLeft),top:-i.offsetTop+(0,oi.int)(d.paddingTop)+(0,oi.int)(l.marginTop),right:(0,Ic.innerWidth)(u)-(0,Ic.outerWidth)(i)-i.offsetLeft+(0,oi.int)(d.paddingRight)-(0,oi.int)(l.marginRight),bottom:(0,Ic.innerHeight)(u)-(0,Ic.outerHeight)(i)-i.offsetTop+(0,oi.int)(d.paddingBottom)-(0,oi.int)(l.marginBottom)}}return(0,oi.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,oi.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,oi.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,oi.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function gfe(t,e,n){var r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function mfe(t){return t.props.axis==="both"||t.props.axis==="x"}function vfe(t){return t.props.axis==="both"||t.props.axis==="y"}function yfe(t,e,n){var r=typeof e=="number"?(0,Ic.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;var i=cT(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ic.offsetXYFromParent)(r||t,o,n.props.scale)}function wfe(t,e,n){var r=t.state,i=!(0,oi.isNum)(r.lastX),o=cT(t);return i?{node:o,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:o,deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}}function _fe(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Sfe(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function cT(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var ww={},_w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.default=Efe;function Efe(){}function my(t){return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}Object.defineProperty(ww,"__esModule",{value:!0});ww.default=void 0;var RS=bfe(we.exports),ii=dT(is.exports),Cfe=dT(kp.exports),sr=tn,da=ls,PS=us,kf=dT(_w);function dT(t){return t&&t.__esModule?t:{default:t}}function OU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(OU=function(i){return i?n:e})(t)}function bfe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||my(t)!=="object"&&typeof t!="function")return{default:t};var n=OU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function OR(t,e){return kfe(t)||Dfe(t,e)||Tfe(t,e)||Ife()}function Ife(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tfe(t,e){if(!!t){if(typeof t=="string")return AR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AR(t,e)}}function AR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dfe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function kfe(t){if(Array.isArray(t))return t}function xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ofe(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F1(t,e)}function F1(t,e){return F1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},F1(t,e)}function Rfe(t){var e=Nfe();return function(){var r=vy(t),i;if(e){var o=vy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Pfe(this,i)}}function Pfe(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nfe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(t)}function Ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var io={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},fa=io.mouse,Sw=function(t){Afe(n,t);var e=Rfe(n);function n(){var r;xfe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ni(ar(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Ni(ar(r),"mounted",!1),Ni(ar(r),"handleDragStart",function(a){if(r.props.onMouseDown(a),!r.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var u=r.findDOMNode();if(!u||!u.ownerDocument||!u.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var l=u.ownerDocument;if(!(r.props.disabled||!(a.target instanceof l.defaultView.Node)||r.props.handle&&!(0,sr.matchesSelectorAndParentsTo)(a.target,r.props.handle,u)||r.props.cancel&&(0,sr.matchesSelectorAndParentsTo)(a.target,r.props.cancel,u))){a.type==="touchstart"&&a.preventDefault();var d=(0,sr.getTouchIdentifier)(a);r.setState({touchIdentifier:d});var f=(0,da.getControlPosition)(a,d,ar(r));if(f!=null){var p=f.x,g=f.y,m=(0,da.createCoreData)(ar(r),p,g);(0,kf.default)("DraggableCore: handleDragStart: %j",m),(0,kf.default)("calling",r.props.onStart);var _=r.props.onStart(a,m);_===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,sr.addUserSelectStyles)(l),r.setState({dragging:!0,lastX:p,lastY:g}),(0,sr.addEvent)(l,fa.move,r.handleDrag),(0,sr.addEvent)(l,fa.stop,r.handleDragStop))}}}),Ni(ar(r),"handleDrag",function(a){var u=(0,da.getControlPosition)(a,r.state.touchIdentifier,ar(r));if(u!=null){var l=u.x,d=u.y;if(Array.isArray(r.props.grid)){var f=l-r.state.lastX,p=d-r.state.lastY,g=(0,da.snapToGrid)(r.props.grid,f,p),m=OR(g,2);if(f=m[0],p=m[1],!f&&!p)return;l=r.state.lastX+f,d=r.state.lastY+p}var _=(0,da.createCoreData)(ar(r),l,d);(0,kf.default)("DraggableCore: handleDrag: %j",_);var C=r.props.onDrag(a,_);if(C===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(w)}return}r.setState({lastX:l,lastY:d})}}),Ni(ar(r),"handleDragStop",function(a){if(!!r.state.dragging){var u=(0,da.getControlPosition)(a,r.state.touchIdentifier,ar(r));if(u!=null){var l=u.x,d=u.y;if(Array.isArray(r.props.grid)){var f=l-r.state.lastX||0,p=d-r.state.lastY||0,g=(0,da.snapToGrid)(r.props.grid,f,p),m=OR(g,2);f=m[0],p=m[1],l=r.state.lastX+f,d=r.state.lastY+p}var _=(0,da.createCoreData)(ar(r),l,d),C=r.props.onStop(a,_);if(C===!1||r.mounted===!1)return!1;var w=r.findDOMNode();w&&r.props.enableUserSelectHack&&(0,sr.removeUserSelectStyles)(w.ownerDocument),(0,kf.default)("DraggableCore: handleDragStop: %j",_),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),w&&((0,kf.default)("DraggableCore: Removing handlers"),(0,sr.removeEvent)(w.ownerDocument,fa.move,r.handleDrag),(0,sr.removeEvent)(w.ownerDocument,fa.stop,r.handleDragStop))}}}),Ni(ar(r),"onMouseDown",function(a){return fa=io.mouse,r.handleDragStart(a)}),Ni(ar(r),"onMouseUp",function(a){return fa=io.mouse,r.handleDragStop(a)}),Ni(ar(r),"onTouchStart",function(a){return fa=io.touch,r.handleDragStart(a)}),Ni(ar(r),"onTouchEnd",function(a){return fa=io.touch,r.handleDragStop(a)}),r}return Ofe(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,sr.addEvent)(i,io.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var o=i.ownerDocument;(0,sr.removeEvent)(o,io.mouse.move,this.handleDrag),(0,sr.removeEvent)(o,io.touch.move,this.handleDrag),(0,sr.removeEvent)(o,io.mouse.stop,this.handleDragStop),(0,sr.removeEvent)(o,io.touch.stop,this.handleDragStop),(0,sr.removeEvent)(i,io.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,sr.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var i,o,s;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(o=this.props)===null||o===void 0||(s=o.nodeRef)===null||s===void 0?void 0:s.current:Cfe.default.findDOMNode(this)}},{key:"render",value:function(){return RS.cloneElement(RS.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(RS.Component);ww.default=Sw;Ni(Sw,"displayName","DraggableCore");Ni(Sw,"propTypes",{allowAnyClick:ii.default.bool,disabled:ii.default.bool,enableUserSelectHack:ii.default.bool,offsetParent:function(e,n){if(e[n]&&e[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ii.default.arrayOf(ii.default.number),handle:ii.default.string,cancel:ii.default.string,nodeRef:ii.default.object,onStart:ii.default.func,onDrag:ii.default.func,onStop:ii.default.func,onMouseDown:ii.default.func,scale:ii.default.number,className:PS.dontSetMe,style:PS.dontSetMe,transform:PS.dontSetMe});Ni(Sw,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){function e(N){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},e(N)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var n=m(we.exports),r=p(is.exports),i=p(kp.exports),o=p(gw),s=tn,a=ls,u=us,l=p(ww),d=p(_w),f=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(N){return N&&N.__esModule?N:{default:N}}function g(N){if(typeof WeakMap!="function")return null;var j=new WeakMap,J=new WeakMap;return(g=function(V){return V?J:j})(N)}function m(N,j){if(!j&&N&&N.__esModule)return N;if(N===null||e(N)!=="object"&&typeof N!="function")return{default:N};var J=g(j);if(J&&J.has(N))return J.get(N);var L={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in N)if(se!=="default"&&Object.prototype.hasOwnProperty.call(N,se)){var ye=V?Object.getOwnPropertyDescriptor(N,se):null;ye&&(ye.get||ye.set)?Object.defineProperty(L,se,ye):L[se]=N[se]}return L.default=N,J&&J.set(N,L),L}function _(){return _=Object.assign||function(N){for(var j=1;j<arguments.length;j++){var J=arguments[j];for(var L in J)Object.prototype.hasOwnProperty.call(J,L)&&(N[L]=J[L])}return N},_.apply(this,arguments)}function C(N,j){if(N==null)return{};var J=w(N,j),L,V;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(N);for(V=0;V<se.length;V++)L=se[V],!(j.indexOf(L)>=0)&&(!Object.prototype.propertyIsEnumerable.call(N,L)||(J[L]=N[L]))}return J}function w(N,j){if(N==null)return{};var J={},L=Object.keys(N),V,se;for(se=0;se<L.length;se++)V=L[se],!(j.indexOf(V)>=0)&&(J[V]=N[V]);return J}function y(N,j){var J=Object.keys(N);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(N);j&&(L=L.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),J.push.apply(J,L)}return J}function S(N){for(var j=1;j<arguments.length;j++){var J=arguments[j]!=null?arguments[j]:{};j%2?y(Object(J),!0).forEach(function(L){K(N,L,J[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(J)):y(Object(J)).forEach(function(L){Object.defineProperty(N,L,Object.getOwnPropertyDescriptor(J,L))})}return N}function I(N,j){return G(N)||F(N,j)||O(N,j)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(N,j){if(!!N){if(typeof N=="string")return A(N,j);var J=Object.prototype.toString.call(N).slice(8,-1);if(J==="Object"&&N.constructor&&(J=N.constructor.name),J==="Map"||J==="Set")return Array.from(N);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return A(N,j)}}function A(N,j){(j==null||j>N.length)&&(j=N.length);for(var J=0,L=new Array(j);J<j;J++)L[J]=N[J];return L}function F(N,j){var J=N==null?null:typeof Symbol!="undefined"&&N[Symbol.iterator]||N["@@iterator"];if(J!=null){var L=[],V=!0,se=!1,ye,Re;try{for(J=J.call(N);!(V=(ye=J.next()).done)&&(L.push(ye.value),!(j&&L.length===j));V=!0);}catch(Ue){se=!0,Re=Ue}finally{try{!V&&J.return!=null&&J.return()}finally{if(se)throw Re}}return L}}function G(N){if(Array.isArray(N))return N}function Y(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function Q(N,j){for(var J=0;J<j.length;J++){var L=j[J];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}function ie(N,j,J){return j&&Q(N.prototype,j),J&&Q(N,J),Object.defineProperty(N,"prototype",{writable:!1}),N}function ae(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),j&&_e(N,j)}function _e(N,j){return _e=Object.setPrototypeOf||function(L,V){return L.__proto__=V,L},_e(N,j)}function De(N){var j=X();return function(){var L=W(N),V;if(j){var se=W(this).constructor;V=Reflect.construct(L,arguments,se)}else V=L.apply(this,arguments);return Ie(this,V)}}function Ie(N,j){if(j&&(e(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ae(N)}function Ae(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function X(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W(N){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},W(N)}function K(N,j,J){return j in N?Object.defineProperty(N,j,{value:J,enumerable:!0,configurable:!0,writable:!0}):N[j]=J,N}var oe=function(N){ae(J,N);var j=De(J);function J(L){var V;return Y(this,J),V=j.call(this,L),K(Ae(V),"onDragStart",function(se,ye){(0,d.default)("Draggable: onDragStart: %j",ye);var Re=V.props.onStart(se,(0,a.createDraggableData)(Ae(V),ye));if(Re===!1)return!1;V.setState({dragging:!0,dragged:!0})}),K(Ae(V),"onDrag",function(se,ye){if(!V.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",ye);var Re=(0,a.createDraggableData)(Ae(V),ye),Ue={x:Re.x,y:Re.y};if(V.props.bounds){var hn=Ue.x,vr=Ue.y;Ue.x+=V.state.slackX,Ue.y+=V.state.slackY;var nt=(0,a.getBoundPosition)(Ae(V),Ue.x,Ue.y),mt=I(nt,2),ht=mt[0],pn=mt[1];Ue.x=ht,Ue.y=pn,Ue.slackX=V.state.slackX+(hn-Ue.x),Ue.slackY=V.state.slackY+(vr-Ue.y),Re.x=Ue.x,Re.y=Ue.y,Re.deltaX=Ue.x-V.state.x,Re.deltaY=Ue.y-V.state.y}var Ii=V.props.onDrag(se,Re);if(Ii===!1)return!1;V.setState(Ue)}),K(Ae(V),"onDragStop",function(se,ye){if(!V.state.dragging)return!1;var Re=V.props.onStop(se,(0,a.createDraggableData)(Ae(V),ye));if(Re===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",ye);var Ue={dragging:!1,slackX:0,slackY:0},hn=Boolean(V.props.position);if(hn){var vr=V.props.position,nt=vr.x,mt=vr.y;Ue.x=nt,Ue.y=mt}V.setState(Ue)}),V.state={dragging:!1,dragged:!1,x:L.position?L.position.x:L.defaultPosition.x,y:L.position?L.position.y:L.defaultPosition.y,prevPropsPosition:S({},L.position),slackX:0,slackY:0,isElementSVG:!1},L.position&&!(L.onDrag||L.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),V}return ie(J,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var V,se,ye;return(V=(se=this.props)===null||se===void 0||(ye=se.nodeRef)===null||ye===void 0?void 0:ye.current)!==null&&V!==void 0?V:i.default.findDOMNode(this)}},{key:"render",value:function(){var V,se=this.props;se.axis,se.bounds;var ye=se.children,Re=se.defaultPosition,Ue=se.defaultClassName,hn=se.defaultClassNameDragging,vr=se.defaultClassNameDragged,nt=se.position,mt=se.positionOffset;se.scale;var ht=C(se,f),pn={},Ii=null,Un=Boolean(nt),xt=!Un||this.state.dragging,zn=nt||Re,yr={x:(0,a.canDragX)(this)&&xt?this.state.x:zn.x,y:(0,a.canDragY)(this)&&xt?this.state.y:zn.y};this.state.isElementSVG?Ii=(0,s.createSVGTransform)(yr,mt):pn=(0,s.createCSSTransform)(yr,mt);var Me=(0,o.default)(ye.props.className||"",Ue,(V={},K(V,hn,this.state.dragging),K(V,vr,this.state.dragged),V));return n.createElement(l.default,_({},ht,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(ye),{className:Me,style:S(S({},ye.props.style),pn),transform:Ii}))}}],[{key:"getDerivedStateFromProps",value:function(V,se){var ye=V.position,Re=se.prevPropsPosition;return ye&&(!Re||ye.x!==Re.x||ye.y!==Re.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:ye,prevPropsPosition:Re}),{x:ye.x,y:ye.y,prevPropsPosition:S({},ye)}):null}}]),J}(n.Component);t.default=oe,K(oe,"displayName","Draggable"),K(oe,"propTypes",S(S({},l.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),K(oe,"defaultProps",S(S({},l.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(SU);var AU=SU,RU=AU.default,Mfe=AU.DraggableCore;eg.exports=RU;eg.exports.default=RU;eg.exports.DraggableCore=Mfe;var Ew={exports:{}},tg={},fT={};fT.__esModule=!0;fT.cloneElement=Bfe;var Ffe=Lfe(we.exports);function Lfe(t){return t&&t.__esModule?t:{default:t}}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){$fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bfe(t,e){return e.style&&t.props.style&&(e.style=NR(NR({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),Ffe.default.cloneElement(t,e)}var ng={};ng.__esModule=!0;ng.resizableProps=void 0;var He=Ufe(is.exports);function Ufe(t){return t&&t.__esModule?t:{default:t}}var zfe={axis:He.default.oneOf(["both","x","y","none"]),className:He.default.string,children:He.default.element.isRequired,draggableOpts:He.default.shape({allowAnyClick:He.default.bool,cancel:He.default.string,children:He.default.node,disabled:He.default.bool,enableUserSelectHack:He.default.bool,offsetParent:He.default.node,grid:He.default.arrayOf(He.default.number),handle:He.default.string,nodeRef:He.default.object,onStart:He.default.func,onDrag:He.default.func,onStop:He.default.func,onMouseDown:He.default.func,scale:He.default.number}),height:He.default.number.isRequired,handle:He.default.oneOfType([He.default.node,He.default.func]),handleSize:He.default.arrayOf(He.default.number),lockAspectRatio:He.default.bool,maxConstraints:He.default.arrayOf(He.default.number),minConstraints:He.default.arrayOf(He.default.number),onResizeStop:He.default.func,onResizeStart:He.default.func,onResize:He.default.func,resizeHandles:He.default.arrayOf(He.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:He.default.number,width:He.default.number.isRequired};ng.resizableProps=zfe;tg.__esModule=!0;tg.default=void 0;var xf=Hfe(we.exports),Kfe=eg.exports,Vfe=fT,jfe=ng,Wfe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function PU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(PU=function(i){return i?n:e})(t)}function Hfe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=PU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function L1(){return L1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(this,arguments)}function qfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$1(t,e)}var hT=function(t){Yfe(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var n=e.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(i,o){var s=this.props,a=s.minConstraints,u=s.maxConstraints,l=s.lockAspectRatio;if(!a&&!u&&!l)return[i,o];if(l){var d=this.props.width/this.props.height,f=i-this.props.width,p=o-this.props.height;Math.abs(f)>Math.abs(p*d)?o=i/d:i=o*d}var g=i,m=o,_=this.slack||[0,0],C=_[0],w=_[1];return i+=C,o+=w,a&&(i=Math.max(a[0],i),o=Math.max(a[1],o)),u&&(i=Math.min(u[0],i),o=Math.min(u[1],o)),this.slack=[C+(g-i),w+(m-o)],[i,o]},n.resizeHandler=function(i,o){var s=this;return function(a,u){var l=u.node,d=u.deltaX,f=u.deltaY;i==="onResizeStart"&&s.resetData();var p=(s.props.axis==="both"||s.props.axis==="x")&&o!=="n"&&o!=="s",g=(s.props.axis==="both"||s.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!p&&!g)){var m=o[0],_=o[o.length-1],C=l.getBoundingClientRect();if(s.lastHandleRect!=null){if(_==="w"){var w=C.left-s.lastHandleRect.left;d+=w}if(m==="n"){var y=C.top-s.lastHandleRect.top;f+=y}}s.lastHandleRect=C,_==="w"&&(d=-d),m==="n"&&(f=-f);var S=s.props.width+(p?d/s.props.transformScale:0),I=s.props.height+(g?f/s.props.transformScale:0),k=s.runConstraints(S,I);S=k[0],I=k[1];var O=S!==s.props.width||I!==s.props.height,A=typeof s.props[i]=="function"?s.props[i]:null,F=i==="onResize"&&!O;A&&!F&&(a.persist==null||a.persist(),A(a,{node:l,size:{width:S,height:I},handle:o})),i==="onResizeStop"&&s.resetData()}}},n.renderResizeHandle=function(i,o){var s=this.props.handle;if(!s)return xf.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:o});if(typeof s=="function")return s(i,o);var a=typeof s.type=="string",u=NS({ref:o},a?{}:{handleAxis:i});return xf.cloneElement(s,u)},n.render=function(){var i=this,o=this.props,s=o.children,a=o.className,u=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var l=o.resizeHandles;o.transformScale;var d=qfe(o,Wfe);return(0,Vfe.cloneElement)(s,NS(NS({},d),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(s.props.children,l.map(function(f){var p,g=(p=i.handleRefs[f])!=null?p:i.handleRefs[f]=xf.createRef();return xf.createElement(Kfe.DraggableCore,L1({},u,{nodeRef:g,key:"resizableHandle-"+f,onStop:i.resizeHandler("onResizeStop",f),onStart:i.resizeHandler("onResizeStart",f),onDrag:i.resizeHandler("onResize",f)}),i.renderResizeHandle(f,g))}))}))},e}(xf.Component);tg.default=hT;hT.propTypes=jfe.resizableProps;hT.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Cw={};Cw.__esModule=!0;Cw.default=void 0;var MS=ehe(we.exports),Qfe=NU(is.exports),Xfe=NU(tg),Jfe=ng,Zfe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function NU(t){return t&&t.__esModule?t:{default:t}}function MU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(MU=function(i){return i?n:e})(t)}function ehe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=MU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function B1(){return B1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(this,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rhe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,U1(t,e)}function U1(t,e){return U1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},U1(t,e)}var FU=function(t){rhe(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,u){var l=u.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(l,function(){return r.props.onResize&&r.props.onResize(a,u)})):r.setState(l)},r}e.getDerivedStateFromProps=function(i,o){return o.propsWidth!==i.width||o.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var n=e.prototype;return n.render=function(){var i=this.props,o=i.handle,s=i.handleSize;i.onResize;var a=i.onResizeStart,u=i.onResizeStop,l=i.draggableOpts,d=i.minConstraints,f=i.maxConstraints,p=i.lockAspectRatio,g=i.axis;i.width,i.height;var m=i.resizeHandles,_=i.style,C=i.transformScale,w=nhe(i,Zfe);return MS.createElement(Xfe.default,{axis:g,draggableOpts:l,handle:o,handleSize:s,height:this.state.height,lockAspectRatio:p,maxConstraints:f,minConstraints:d,onResizeStart:a,onResize:this.onResize,onResizeStop:u,resizeHandles:m,transformScale:C,width:this.state.width},MS.createElement("div",B1({},w,{style:yy(yy({},_),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(MS.Component);Cw.default=FU;FU.propTypes=yy(yy({},Jfe.resizableProps),{},{children:Qfe.default.element});Ew.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Ew.exports.Resizable=tg.default;Ew.exports.ResizableBox=Cw.default;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.resizeHandleType=Ns.resizeHandleAxesType=Ns.default=void 0;var Ke=LU(is.exports),ihe=LU(we.exports);function LU(t){return t&&t.__esModule?t:{default:t}}var $U=Ke.default.arrayOf(Ke.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));Ns.resizeHandleAxesType=$U;var BU=Ke.default.oneOfType([Ke.default.node,Ke.default.func]);Ns.resizeHandleType=BU;var ohe={className:Ke.default.string,style:Ke.default.object,width:Ke.default.number,autoSize:Ke.default.bool,cols:Ke.default.number,draggableCancel:Ke.default.string,draggableHandle:Ke.default.string,verticalCompact:function(e){e.verticalCompact},compactType:Ke.default.oneOf(["vertical","horizontal"]),layout:function(e){var n=e.layout;n!==void 0&&qe.validateLayout(n,"layout")},margin:Ke.default.arrayOf(Ke.default.number),containerPadding:Ke.default.arrayOf(Ke.default.number),rowHeight:Ke.default.number,maxRows:Ke.default.number,isBounded:Ke.default.bool,isDraggable:Ke.default.bool,isResizable:Ke.default.bool,allowOverlap:Ke.default.bool,preventCollision:Ke.default.bool,useCSSTransforms:Ke.default.bool,transformScale:Ke.default.number,isDroppable:Ke.default.bool,resizeHandles:$U,resizeHandle:BU,onLayoutChange:Ke.default.func,onDragStart:Ke.default.func,onDrag:Ke.default.func,onDragStop:Ke.default.func,onResizeStart:Ke.default.func,onResize:Ke.default.func,onResizeStop:Ke.default.func,onDrop:Ke.default.func,droppingItem:Ke.default.shape({i:Ke.default.string.isRequired,w:Ke.default.number.isRequired,h:Ke.default.number.isRequired}),children:function(e,n){var r=e[n],i={};ihe.default.Children.forEach(r,function(o){if((o==null?void 0:o.key)!=null){if(i[o.key])throw new Error('Duplicate child key "'+o.key+'" found! This will cause problems in ReactGridLayout.');i[o.key]=!0}})},innerRef:Ke.default.any};Ns.default=ohe;function z1(t){return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z1(t)}Object.defineProperty(yw,"__esModule",{value:!0});yw.default=void 0;var nc=pT(we.exports),pt=pT(is.exports),she=eg.exports,ahe=Ew.exports,Of=qe,Vn=Js,LR=Ns,uhe=pT(gw);function pT(t){return t&&t.__esModule?t:{default:t}}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){so(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function che(t,e,n){return e&&BR(t.prototype,e),n&&BR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},K1(t,e)}function fhe(t){var e=phe();return function(){var r=wy(t),i;if(e){var o=wy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hhe(this,i)}}function hhe(t,e){if(e&&(z1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(t)}function Pi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function phe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(t)}function so(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gT=function(t){dhe(n,t);var e=fhe(n);function n(){var r;lhe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),so(Pi(r),"state",{resizing:null,dragging:null,className:""}),so(Pi(r),"elementRef",nc.default.createRef()),so(Pi(r),"onDragStart",function(a,u){var l=u.node,d=r.props,f=d.onDragStart,p=d.transformScale;if(!!f){var g={top:0,left:0},m=l.offsetParent;if(!!m){var _=m.getBoundingClientRect(),C=l.getBoundingClientRect(),w=C.left/p,y=_.left/p,S=C.top/p,I=_.top/p;g.left=w-y+m.scrollLeft,g.top=S-I+m.scrollTop,r.setState({dragging:g});var k=(0,Vn.calcXY)(r.getPositionParams(),g.top,g.left,r.props.w,r.props.h),O=k.x,A=k.y;return f.call(Pi(r),r.props.i,O,A,{e:a,node:l,newPosition:g})}}}),so(Pi(r),"onDrag",function(a,u){var l=u.node,d=u.deltaX,f=u.deltaY,p=r.props.onDrag;if(!!p){if(!r.state.dragging)throw new Error("onDrag called before onDragStart.");var g=r.state.dragging.top+f,m=r.state.dragging.left+d,_=r.props,C=_.isBounded,w=_.i,y=_.w,S=_.h,I=_.containerWidth,k=r.getPositionParams();if(C){var O=l.offsetParent;if(O){var A=r.props,F=A.margin,G=A.rowHeight,Y=O.clientHeight-(0,Vn.calcGridItemWHPx)(S,G,F[1]);g=(0,Vn.clamp)(g,0,Y);var Q=(0,Vn.calcGridColWidth)(k),ie=I-(0,Vn.calcGridItemWHPx)(y,Q,F[0]);m=(0,Vn.clamp)(m,0,ie)}}var ae={top:g,left:m};r.setState({dragging:ae});var _e=(0,Vn.calcXY)(k,g,m,y,S),De=_e.x,Ie=_e.y;return p.call(Pi(r),w,De,Ie,{e:a,node:l,newPosition:ae})}}),so(Pi(r),"onDragStop",function(a,u){var l=u.node,d=r.props.onDragStop;if(!!d){if(!r.state.dragging)throw new Error("onDragEnd called before onDragStart.");var f=r.props,p=f.w,g=f.h,m=f.i,_=r.state.dragging,C=_.left,w=_.top,y={top:w,left:C};r.setState({dragging:null});var S=(0,Vn.calcXY)(r.getPositionParams(),w,C,p,g),I=S.x,k=S.y;return d.call(Pi(r),m,I,k,{e:a,node:l,newPosition:y})}}),so(Pi(r),"onResizeStop",function(a,u){r.onResizeHandler(a,u,"onResizeStop")}),so(Pi(r),"onResizeStart",function(a,u){r.onResizeHandler(a,u,"onResizeStart")}),so(Pi(r),"onResize",function(a,u){r.onResizeHandler(a,u,"onResize")}),r}return che(n,[{key:"shouldComponentUpdate",value:function(i,o){if(this.props.children!==i.children||this.props.droppingPosition!==i.droppingPosition)return!0;var s=(0,Vn.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),a=(0,Vn.calcGridItemPosition)(this.getPositionParams(i),i.x,i.y,i.w,i.h,o);return!(0,Of.fastPositionEqual)(s,a)||this.props.useCSSTransforms!==i.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(i){this.moveDroppingItem(i)}},{key:"moveDroppingItem",value:function(i){var o=this.props.droppingPosition;if(!!o){var s=this.elementRef.current;if(!!s){var a=i.droppingPosition||{left:0,top:0},u=this.state.dragging,l=u&&o.left!==a.left||o.top!==a.top;if(!u)this.onDragStart(o.e,{node:s,deltaX:o.left,deltaY:o.top});else if(l){var d=o.left-u.left,f=o.top-u.top;this.onDrag(o.e,{node:s,deltaX:d,deltaY:f})}}}}},{key:"getPositionParams",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:i.cols,containerPadding:i.containerPadding,containerWidth:i.containerWidth,margin:i.margin,maxRows:i.maxRows,rowHeight:i.rowHeight}}},{key:"createStyle",value:function(i){var o=this.props,s=o.usePercentages,a=o.containerWidth,u=o.useCSSTransforms,l;return u?l=(0,Of.setTransform)(i):(l=(0,Of.setTopLeft)(i),s&&(l.left=(0,Of.perc)(i.left/a),l.width=(0,Of.perc)(i.width/a))),l}},{key:"mixinDraggable",value:function(i,o){return nc.default.createElement(she.DraggableCore,{disabled:!o,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},i)}},{key:"mixinResizable",value:function(i,o,s){var a=this.props,u=a.cols,l=a.x,d=a.minW,f=a.minH,p=a.maxW,g=a.maxH,m=a.transformScale,_=a.resizeHandles,C=a.resizeHandle,w=this.getPositionParams(),y=(0,Vn.calcGridItemPosition)(w,0,0,u-l,0).width,S=(0,Vn.calcGridItemPosition)(w,0,0,d,f),I=(0,Vn.calcGridItemPosition)(w,0,0,p,g),k=[S.width,S.height],O=[Math.min(I.width,y),Math.min(I.height,1/0)];return nc.default.createElement(ahe.Resizable,{draggableOpts:{disabled:!s},className:s?void 0:"react-resizable-hide",width:o.width,height:o.height,minConstraints:k,maxConstraints:O,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:m,resizeHandles:_,handle:C},i)}},{key:"onResizeHandler",value:function(i,o,s){var a=o.node,u=o.size,l=this.props[s];if(!!l){var d=this.props,f=d.cols,p=d.x,g=d.y,m=d.i,_=d.maxH,C=d.minH,w=this.props,y=w.minW,S=w.maxW,I=(0,Vn.calcWH)(this.getPositionParams(),u.width,u.height,p,g),k=I.w,O=I.h;y=Math.max(y,1),S=Math.min(S,f-p),k=(0,Vn.clamp)(k,y,S),O=(0,Vn.clamp)(O,C,_),this.setState({resizing:s==="onResizeStop"?null:u}),l.call(this,m,k,O,{e:i,node:a,size:u})}}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.w,u=i.h,l=i.isDraggable,d=i.isResizable,f=i.droppingPosition,p=i.useCSSTransforms,g=(0,Vn.calcGridItemPosition)(this.getPositionParams(),o,s,a,u,this.state),m=nc.default.Children.only(this.props.children),_=nc.default.cloneElement(m,{ref:this.elementRef,className:(0,uhe.default)("react-grid-item",m.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":l,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(f),cssTransforms:p}),style:FS(FS(FS({},this.props.style),m.props.style),this.createStyle(g))});return _=this.mixinResizable(_,g,d),_=this.mixinDraggable(_,l),_}}]),n}(nc.default.Component);yw.default=gT;so(gT,"propTypes",{children:pt.default.element,cols:pt.default.number.isRequired,containerWidth:pt.default.number.isRequired,rowHeight:pt.default.number.isRequired,margin:pt.default.array.isRequired,maxRows:pt.default.number.isRequired,containerPadding:pt.default.array.isRequired,x:pt.default.number.isRequired,y:pt.default.number.isRequired,w:pt.default.number.isRequired,h:pt.default.number.isRequired,minW:function(e,n){var r=e[n];if(typeof r!="number")return new Error("minWidth not Number");if(r>e.w||r>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,n){var r=e[n];if(typeof r!="number")return new Error("maxWidth not Number");if(r<e.w||r<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,n){var r=e[n];if(typeof r!="number")return new Error("minHeight not Number");if(r>e.h||r>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,n){var r=e[n];if(typeof r!="number")return new Error("maxHeight not Number");if(r<e.h||r<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:pt.default.string.isRequired,resizeHandles:LR.resizeHandleAxesType,resizeHandle:LR.resizeHandleType,onDragStop:pt.default.func,onDragStart:pt.default.func,onDrag:pt.default.func,onResizeStop:pt.default.func,onResizeStart:pt.default.func,onResize:pt.default.func,isDraggable:pt.default.bool.isRequired,isResizable:pt.default.bool.isRequired,isBounded:pt.default.bool.isRequired,static:pt.default.bool,useCSSTransforms:pt.default.bool.isRequired,transformScale:pt.default.number,className:pt.default.string,handle:pt.default.string,cancel:pt.default.string,droppingPosition:pt.default.shape({e:pt.default.object.isRequired,left:pt.default.number.isRequired,top:pt.default.number.isRequired})});so(gT,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});function _y(t){return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default=void 0;var Eu=yhe(we.exports),LS=bw(op.exports),ghe=bw(gw),Ne=qe,mhe=Js,UR=bw(yw),vhe=bw(Ns);function bw(t){return t&&t.__esModule?t:{default:t}}function UU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(UU=function(i){return i?n:e})(t)}function yhe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||_y(t)!=="object"&&typeof t!="function")return{default:t};var n=UU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function whe(t){return Ehe(t)||She(t)||zU(t)||_he()}function _he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function She(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ehe(t){if(Array.isArray(t))return V1(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e){return The(t)||Ihe(t,e)||zU(t,e)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zU(t,e){if(!!t){if(typeof t=="string")return V1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V1(t,e)}}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ihe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function The(t){if(Array.isArray(t))return t}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function khe(t,e,n){return e&&KR(t.prototype,e),n&&KR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},j1(t,e)}function Ohe(t){var e=Rhe();return function(){var r=Sy(t),i;if(e){var o=Sy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ahe(this,i)}}function Ahe(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(t)}function $r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rhe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sy(t){return Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sy(t)}function jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VR="react-grid-layout",KU=!1;try{KU=/firefox/i.test(navigator.userAgent)}catch{}var Iw=function(t){xhe(n,t);var e=Ohe(n);function n(){var r;Dhe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),jn($r(r),"state",{activeDrag:null,layout:(0,Ne.synchronizeLayoutWithChildren)(r.props.layout,r.props.children,r.props.cols,(0,Ne.compactType)(r.props),r.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),jn($r(r),"dragEnterCounter",0),jn($r(r),"onDragStart",function(a,u,l,d){var f=d.e,p=d.node,g=r.state.layout,m=(0,Ne.getLayoutItem)(g,a);if(!!m)return r.setState({oldDragItem:(0,Ne.cloneLayoutItem)(m),oldLayout:g}),r.props.onDragStart(g,m,m,null,f,p)}),jn($r(r),"onDrag",function(a,u,l,d){var f=d.e,p=d.node,g=r.state.oldDragItem,m=r.state.layout,_=r.props,C=_.cols,w=_.allowOverlap,y=_.preventCollision,S=(0,Ne.getLayoutItem)(m,a);if(!!S){var I={w:S.w,h:S.h,x:S.x,y:S.y,placeholder:!0,i:a},k=!0;m=(0,Ne.moveElement)(m,S,u,l,k,y,(0,Ne.compactType)(r.props),C,w),r.props.onDrag(m,g,S,I,f,p),r.setState({layout:w?m:(0,Ne.compact)(m,(0,Ne.compactType)(r.props),C),activeDrag:I})}}),jn($r(r),"onDragStop",function(a,u,l,d){var f=d.e,p=d.node;if(!!r.state.activeDrag){var g=r.state.oldDragItem,m=r.state.layout,_=r.props,C=_.cols,w=_.preventCollision,y=_.allowOverlap,S=(0,Ne.getLayoutItem)(m,a);if(!!S){var I=!0;m=(0,Ne.moveElement)(m,S,u,l,I,w,(0,Ne.compactType)(r.props),C,y),r.props.onDragStop(m,g,S,null,f,p);var k=y?m:(0,Ne.compact)(m,(0,Ne.compactType)(r.props),C),O=r.state.oldLayout;r.setState({activeDrag:null,layout:k,oldDragItem:null,oldLayout:null}),r.onLayoutMaybeChanged(k,O)}}}),jn($r(r),"onResizeStart",function(a,u,l,d){var f=d.e,p=d.node,g=r.state.layout,m=(0,Ne.getLayoutItem)(g,a);!m||(r.setState({oldResizeItem:(0,Ne.cloneLayoutItem)(m),oldLayout:r.state.layout}),r.props.onResizeStart(g,m,m,null,f,p))}),jn($r(r),"onResize",function(a,u,l,d){var f=d.e,p=d.node,g=r.state,m=g.layout,_=g.oldResizeItem,C=r.props,w=C.cols,y=C.preventCollision,S=C.allowOverlap,I=(0,Ne.withLayoutItem)(m,a,function(G){var Y;if(y&&!S){var Q=(0,Ne.getAllCollisions)(m,Cu(Cu({},G),{},{w:u,h:l})).filter(function(_e){return _e.i!==G.i});if(Y=Q.length>0,Y){var ie=1/0,ae=1/0;Q.forEach(function(_e){_e.x>G.x&&(ie=Math.min(ie,_e.x)),_e.y>G.y&&(ae=Math.min(ae,_e.y))}),Number.isFinite(ie)&&(G.w=ie-G.x),Number.isFinite(ae)&&(G.h=ae-G.y)}}return Y||(G.w=u,G.h=l),G}),k=Che(I,2),O=k[0],A=k[1];if(!!A){var F={w:A.w,h:A.h,x:A.x,y:A.y,static:!0,i:a};r.props.onResize(O,_,A,F,f,p),r.setState({layout:S?O:(0,Ne.compact)(O,(0,Ne.compactType)(r.props),w),activeDrag:F})}}),jn($r(r),"onResizeStop",function(a,u,l,d){var f=d.e,p=d.node,g=r.state,m=g.layout,_=g.oldResizeItem,C=r.props,w=C.cols,y=C.allowOverlap,S=(0,Ne.getLayoutItem)(m,a);r.props.onResizeStop(m,_,S,null,f,p);var I=y?m:(0,Ne.compact)(m,(0,Ne.compactType)(r.props),w),k=r.state.oldLayout;r.setState({activeDrag:null,layout:I,oldResizeItem:null,oldLayout:null}),r.onLayoutMaybeChanged(I,k)}),jn($r(r),"onDragOver",function(a){var u;if(a.preventDefault(),a.stopPropagation(),KU&&!((u=a.nativeEvent.target)!==null&&u!==void 0&&u.classList.contains(VR)))return!1;var l=r.props,d=l.droppingItem,f=l.onDropDragOver,p=l.margin,g=l.cols,m=l.rowHeight,_=l.maxRows,C=l.width,w=l.containerPadding,y=l.transformScale,S=f==null?void 0:f(a);if(S===!1)return r.state.droppingDOMNode&&r.removeDroppingPlaceholder(),!1;var I=Cu(Cu({},d),S),k=r.state.layout,O=a.nativeEvent,A=O.layerX,F=O.layerY,G={left:A/y,top:F/y,e:a};if(r.state.droppingDOMNode){if(r.state.droppingPosition){var ie=r.state.droppingPosition,ae=ie.left,_e=ie.top,De=ae!=A||_e!=F;De&&r.setState({droppingPosition:G})}}else{var Y={cols:g,margin:p,maxRows:_,rowHeight:m,containerWidth:C,containerPadding:w||p},Q=(0,mhe.calcXY)(Y,F,A,I.w,I.h);r.setState({droppingDOMNode:Eu.createElement("div",{key:I.i}),droppingPosition:G,layout:[].concat(whe(k),[Cu(Cu({},I),{},{x:Q.x,y:Q.y,static:!1,isDraggable:!0})])})}}),jn($r(r),"removeDroppingPlaceholder",function(){var a=r.props,u=a.droppingItem,l=a.cols,d=r.state.layout,f=(0,Ne.compact)(d.filter(function(p){return p.i!==u.i}),(0,Ne.compactType)(r.props),l);r.setState({layout:f,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),jn($r(r),"onDragLeave",function(a){a.preventDefault(),a.stopPropagation(),r.dragEnterCounter--,r.dragEnterCounter===0&&r.removeDroppingPlaceholder()}),jn($r(r),"onDragEnter",function(a){a.preventDefault(),a.stopPropagation(),r.dragEnterCounter++}),jn($r(r),"onDrop",function(a){a.preventDefault(),a.stopPropagation();var u=r.props.droppingItem,l=r.state.layout,d=l.find(function(f){return f.i===u.i});r.dragEnterCounter=0,r.removeDroppingPlaceholder(),r.props.onDrop(l,d,a)}),r}return khe(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(i,o){return this.props.children!==i.children||!(0,Ne.fastRGLPropsEqual)(this.props,i,LS.default)||this.state.activeDrag!==o.activeDrag||this.state.mounted!==o.mounted||this.state.droppingPosition!==o.droppingPosition}},{key:"componentDidUpdate",value:function(i,o){if(!this.state.activeDrag){var s=this.state.layout,a=o.layout;this.onLayoutMaybeChanged(s,a)}}},{key:"containerHeight",value:function(){if(!!this.props.autoSize){var i=(0,Ne.bottom)(this.state.layout),o=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return i*this.props.rowHeight+(i-1)*this.props.margin[1]+o*2+"px"}}},{key:"onLayoutMaybeChanged",value:function(i,o){o||(o=this.state.layout),(0,LS.default)(o,i)||this.props.onLayoutChange(i)}},{key:"placeholder",value:function(){var i=this.state.activeDrag;if(!i)return null;var o=this.props,s=o.width,a=o.cols,u=o.margin,l=o.containerPadding,d=o.rowHeight,f=o.maxRows,p=o.useCSSTransforms,g=o.transformScale;return Eu.createElement(UR.default,{w:i.w,h:i.h,x:i.x,y:i.y,i:i.i,className:"react-grid-placeholder",containerWidth:s,cols:a,margin:u,containerPadding:l||u,maxRows:f,rowHeight:d,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:p,transformScale:g},Eu.createElement("div",null))}},{key:"processGridItem",value:function(i,o){if(!(!i||!i.key)){var s=(0,Ne.getLayoutItem)(this.state.layout,String(i.key));if(!s)return null;var a=this.props,u=a.width,l=a.cols,d=a.margin,f=a.containerPadding,p=a.rowHeight,g=a.maxRows,m=a.isDraggable,_=a.isResizable,C=a.isBounded,w=a.useCSSTransforms,y=a.transformScale,S=a.draggableCancel,I=a.draggableHandle,k=a.resizeHandles,O=a.resizeHandle,A=this.state,F=A.mounted,G=A.droppingPosition,Y=typeof s.isDraggable=="boolean"?s.isDraggable:!s.static&&m,Q=typeof s.isResizable=="boolean"?s.isResizable:!s.static&&_,ie=s.resizeHandles||k,ae=Y&&C&&s.isBounded!==!1;return Eu.createElement(UR.default,{containerWidth:u,cols:l,margin:d,containerPadding:f||d,maxRows:g,rowHeight:p,cancel:S,handle:I,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:Y,isResizable:Q,isBounded:ae,useCSSTransforms:w&&F,usePercentages:!F,transformScale:y,w:s.w,h:s.h,x:s.x,y:s.y,i:s.i,minH:s.minH,minW:s.minW,maxH:s.maxH,maxW:s.maxW,static:s.static,droppingPosition:o?G:void 0,resizeHandles:ie,resizeHandle:O},i)}}},{key:"render",value:function(){var i=this,o=this.props,s=o.className,a=o.style,u=o.isDroppable,l=o.innerRef,d=(0,ghe.default)(VR,s),f=Cu({height:this.containerHeight()},a);return Eu.createElement("div",{ref:l,className:d,style:f,onDrop:u?this.onDrop:Ne.noop,onDragLeave:u?this.onDragLeave:Ne.noop,onDragEnter:u?this.onDragEnter:Ne.noop,onDragOver:u?this.onDragOver:Ne.noop},Eu.Children.map(this.props.children,function(p){return i.processGridItem(p)}),u&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var s;if(o.activeDrag)return null;if(!(0,LS.default)(i.layout,o.propsLayout)||i.compactType!==o.compactType?s=i.layout:(0,Ne.childrenEqual)(i.children,o.children)||(s=o.layout),s){var a=(0,Ne.synchronizeLayoutWithChildren)(s,i.children,i.cols,(0,Ne.compactType)(i),i.allowOverlap);return{layout:a,compactType:i.compactType,children:i.children,propsLayout:i.layout}}return null}}]),n}(Eu.Component);Zp.default=Iw;jn(Iw,"displayName","ReactGridLayout");jn(Iw,"propTypes",vhe.default);jn(Iw,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Ne.noop,onDragStart:Ne.noop,onDrag:Ne.noop,onDragStop:Ne.noop,onResizeStart:Ne.noop,onResize:Ne.noop,onResizeStop:Ne.noop,onDrop:Ne.noop,onDropDragOver:Ne.noop});var Tw={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.findOrGenerateResponsiveLayout=Mhe;Ml.getBreakpointFromWidth=Phe;Ml.getColsFromBreakpoint=Nhe;Ml.sortBreakpoints=mT;var Nm=qe;function Phe(t,e){for(var n=mT(t),r=n[0],i=1,o=n.length;i<o;i++){var s=n[i];e>t[s]&&(r=s)}return r}function Nhe(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]}function Mhe(t,e,n,r,i,o){if(t[n])return(0,Nm.cloneLayout)(t[n]);for(var s=t[r],a=mT(e),u=a.slice(a.indexOf(n)),l=0,d=u.length;l<d;l++){var f=u[l];if(t[f]){s=t[f];break}}return s=(0,Nm.cloneLayout)(s||[]),(0,Nm.compact)((0,Nm.correctBounds)(s,{cols:i}),o,i)}function mT(t){var e=Object.keys(t);return e.sort(function(n,r){return t[n]-t[r]})}function Ey(t){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}Object.defineProperty(Tw,"__esModule",{value:!0});Tw.default=void 0;var jR=$he(we.exports),Lr=vT(is.exports),$S=vT(op.exports),jc=qe,bu=Ml,Fhe=vT(Zp),Lhe=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function vT(t){return t&&t.__esModule?t:{default:t}}function VU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(VU=function(i){return i?n:e})(t)}function $he(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||Ey(t)!=="object"&&typeof t!="function")return{default:t};var n=VU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function W1(){return W1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(this,arguments)}function Bhe(t,e){if(t==null)return{};var n=Uhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Uhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Wc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Khe(t,e,n){return e&&HR(t.prototype,e),n&&HR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},H1(t,e)}function jhe(t){var e=Hhe();return function(){var r=Cy(t),i;if(e){var o=Cy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Whe(this,i)}}function Whe(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1(t)}function q1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hhe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cy(t)}function Wc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qR=function(e){return Object.prototype.toString.call(e)};function Mm(t,e){return t==null?null:Array.isArray(t)?t:t[e]}var yT=function(t){Vhe(n,t);var e=jhe(n);function n(){var r;zhe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Wc(q1(r),"state",r.generateInitialState()),Wc(q1(r),"onLayoutChange",function(a){r.props.onLayoutChange(a,BS(BS({},r.props.layouts),{},Wc({},r.state.breakpoint,a)))}),r}return Khe(n,[{key:"generateInitialState",value:function(){var i=this.props,o=i.width,s=i.breakpoints,a=i.layouts,u=i.cols,l=(0,bu.getBreakpointFromWidth)(s,o),d=(0,bu.getColsFromBreakpoint)(l,u),f=this.props.verticalCompact===!1?null:this.props.compactType,p=(0,bu.findOrGenerateResponsiveLayout)(a,s,l,l,d,f);return{layout:p,breakpoint:l,cols:d}}},{key:"componentDidUpdate",value:function(i){(this.props.width!=i.width||this.props.breakpoint!==i.breakpoint||!(0,$S.default)(this.props.breakpoints,i.breakpoints)||!(0,$S.default)(this.props.cols,i.cols))&&this.onWidthChange(i)}},{key:"onWidthChange",value:function(i){var o=this.props,s=o.breakpoints,a=o.cols,u=o.layouts,l=o.compactType,d=this.props.breakpoint||(0,bu.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),f=this.state.breakpoint,p=(0,bu.getColsFromBreakpoint)(d,a),g=BS({},u);if(f!==d||i.breakpoints!==s||i.cols!==a){f in g||(g[f]=(0,jc.cloneLayout)(this.state.layout));var m=(0,bu.findOrGenerateResponsiveLayout)(g,s,d,f,p,l);m=(0,jc.synchronizeLayoutWithChildren)(m,this.props.children,p,l,this.props.allowOverlap),g[d]=m,this.props.onLayoutChange(m,g),this.props.onBreakpointChange(d,p),this.setState({breakpoint:d,layout:m,cols:p})}var _=Mm(this.props.margin,d),C=Mm(this.props.containerPadding,d);this.props.onWidthChange(this.props.width,_,p,C)}},{key:"render",value:function(){var i=this.props;i.breakpoint,i.breakpoints,i.cols,i.layouts;var o=i.margin,s=i.containerPadding;i.onBreakpointChange,i.onLayoutChange,i.onWidthChange;var a=Bhe(i,Lhe);return jR.createElement(Fhe.default,W1({},a,{margin:Mm(o,this.state.breakpoint),containerPadding:Mm(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!(0,$S.default)(i.layouts,o.layouts)){var s=o.breakpoint,a=o.cols,u=(0,bu.findOrGenerateResponsiveLayout)(i.layouts,i.breakpoints,s,s,a,i.compactType);return{layout:u,layouts:i.layouts}}return null}}]),n}(jR.Component);Tw.default=yT;Wc(yT,"propTypes",{breakpoint:Lr.default.string,breakpoints:Lr.default.object,allowOverlap:Lr.default.bool,cols:Lr.default.object,margin:Lr.default.oneOfType([Lr.default.array,Lr.default.object]),containerPadding:Lr.default.oneOfType([Lr.default.array,Lr.default.object]),layouts:function(e,n){if(qR(e[n])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+qR(e[n]));Object.keys(e[n]).forEach(function(r){if(!(r in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,jc.validateLayout)(e.layouts[r],"layouts."+r)})},width:Lr.default.number.isRequired,onBreakpointChange:Lr.default.func,onLayoutChange:Lr.default.func,onWidthChange:Lr.default.func});Wc(yT,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:jc.noop,onLayoutChange:jc.noop,onWidthChange:jc.noop});var wT={};function by(t){return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}Object.defineProperty(wT,"__esModule",{value:!0});wT.default=spe;var Fm=Qhe(we.exports),qhe=jU(is.exports),Ghe=jU(gw),Yhe=["measureBeforeMount"];function jU(t){return t&&t.__esModule?t:{default:t}}function WU(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(WU=function(i){return i?n:e})(t)}function Qhe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||by(t)!=="object"&&typeof t!="function")return{default:t};var n=WU(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function G1(){return G1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function Xhe(t,e){if(t==null)return{};var n=Jhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Jhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function epe(t,e,n){return e&&GR(t.prototype,e),n&&GR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function Y1(t,e){return Y1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Y1(t,e)}function npe(t){var e=ipe();return function(){var r=Iy(t),i;if(e){var o=Iy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return rpe(this,i)}}function rpe(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qf(t)}function Qf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ipe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Iy(t)}function rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ope="react-grid-layout";function spe(t){var e;return e=function(n){tpe(i,n);var r=npe(i);function i(){var o;Zhe(this,i);for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return o=r.call.apply(r,[this].concat(a)),rc(Qf(o),"state",{width:1280}),rc(Qf(o),"elementRef",Fm.createRef()),rc(Qf(o),"mounted",!1),rc(Qf(o),"onWindowResize",function(){if(!!o.mounted){var l=o.elementRef.current;l instanceof HTMLElement&&l.offsetWidth&&o.setState({width:l.offsetWidth})}}),o}return epe(i,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var s=this.props,a=s.measureBeforeMount,u=Xhe(s,Yhe);return a&&!this.mounted?Fm.createElement("div",{className:(0,Ghe.default)(this.props.className,ope),style:this.props.style,ref:this.elementRef}):Fm.createElement(t,G1({innerRef:this.elementRef},u,this.state))}}]),i}(Fm.Component),rc(e,"defaultProps",{measureBeforeMount:!1}),rc(e,"propTypes",{measureBeforeMount:qhe.default.bool}),e}(function(t){t.exports=Zp.default,t.exports.utils=qe,t.exports.Responsive=Tw.default,t.exports.Responsive.utils=Ml,t.exports.WidthProvider=wT.default})(x1);class ape extends we.exports.Component{shouldComponentUpdate(e){return e.html!==this.editable.innerHTML}componentDidUpdate(){this.props.html!==this.editable.innerHTML&&(this.editable.innerHTML=this.props.html)}emitChange(){const e=this.editable.innerHTML;this.props.onChange&&e!==this.lastHtml&&this.props.onChange({target:{value:e}}),this.lastHtml=e}render(){return M("div",{onInput:this.emitChange.bind(this),onBlur:this.emitChange.bind(this),contentEditable:!0,dangerouslySetInnerHTML:{__html:this.props.html},ref:e=>this.editable=e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upe{constructor(e,n){this._delegate=e,this.firebase=n,ty(e,new vo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),hL(this._delegate)))}_getService(e,n=ll){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ll){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ty(this._delegate,e)}_addOrOverwriteComponent(e){dL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lpe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},YR=new Tl("app-compat","Firebase",lpe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cpe(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:zi,setLogLevel:gL,onLog:pL,apps:null,SDK_VERSION:iu,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:J6}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(l){delete e[l]}function i(l){if(l=l||ll,!zx(e,l))throw YR.create("no-app",{appName:l});return e[l]}i.App=t;function o(l,d={}){const f=fL(l,d);if(zx(e,f.name))return e[f.name];const p=new t(f,n);return e[f.name]=p,p}function s(){return Object.keys(e).map(l=>e[l])}function a(l){const d=l.name,f=d.replace("-compat","");if(Bs(l)&&l.type==="PUBLIC"){const p=(g=i())=>{if(typeof g[f]!="function")throw YR.create("invalid-app-argument",{appName:d});return g[f]()};l.serviceProps!==void 0&&Zv(p,l.serviceProps),n[f]=p,t.prototype[f]=function(...g){return this._getService.bind(this,d).apply(this,l.multipleInstances?g:[])}}return l.type==="PUBLIC"?n[f]:null}function u(l,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(){const t=cpe(upe);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:HU,extendNamespace:e,createSubscribe:aL,ErrorFactory:Tl,deepExtend:Zv});function e(n){Zv(t,n)}return t}const dpe=HU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new O0("@firebase/app-compat"),fpe="@firebase/app-compat",hpe="0.1.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ppe(t){zi(fpe,hpe,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(P4()&&self.firebase!==void 0){QR.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&QR.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Qo=dpe;ppe();var gpe="firebase",mpe="9.9.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo.registerVersion(gpe,mpe,"app-compat");var vpe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ge,_T=_T||{},Oe=vpe||self;function Ty(){}function Q1(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ype(t){return Object.prototype.hasOwnProperty.call(t,US)&&t[US]||(t[US]=++wpe)}var US="closure_uid_"+(1e9*Math.random()>>>0),wpe=0;function _pe(t,e,n){return t.call.apply(t.bind,arguments)}function Spe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jn=_pe:Jn=Spe,Jn.apply(null,arguments)}function Lm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function tr(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function au(){this.s=this.s,this.o=this.o}var Epe=0;au.prototype.s=!1;au.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Epe!=0)&&ype(this)};au.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},GU=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Cpe(t){e:{var e=pge;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function XR(t){return Array.prototype.concat.apply([],arguments)}function ST(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Dy(t){return/^[\s\xa0]*$/.test(t)}var JR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tr(t,e){return t.indexOf(e)!=-1}function zS(t,e){return t<e?-1:t>e?1:0}var Dr;e:{var ZR=Oe.navigator;if(ZR){var eP=ZR.userAgent;if(eP){Dr=eP;break e}}Dr=""}function ET(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function YU(t){const e={};for(const n in t)e[n]=t[n];return e}var tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QU(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<tP.length;o++)n=tP[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function CT(t){return CT[" "](t),t}CT[" "]=Ty;function bpe(t){var e=Dpe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Ipe=Tr(Dr,"Opera"),sd=Tr(Dr,"Trident")||Tr(Dr,"MSIE"),XU=Tr(Dr,"Edge"),X1=XU||sd,JU=Tr(Dr,"Gecko")&&!(Tr(Dr.toLowerCase(),"webkit")&&!Tr(Dr,"Edge"))&&!(Tr(Dr,"Trident")||Tr(Dr,"MSIE"))&&!Tr(Dr,"Edge"),Tpe=Tr(Dr.toLowerCase(),"webkit")&&!Tr(Dr,"Edge");function ZU(){var t=Oe.document;return t?t.documentMode:void 0}var ky;e:{var KS="",VS=function(){var t=Dr;if(JU)return/rv:([^\);]+)(\)|;)/.exec(t);if(XU)return/Edge\/([\d\.]+)/.exec(t);if(sd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Tpe)return/WebKit\/(\S+)/.exec(t);if(Ipe)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(VS&&(KS=VS?VS[1]:""),sd){var jS=ZU();if(jS!=null&&jS>parseFloat(KS)){ky=String(jS);break e}}ky=KS}var Dpe={};function kpe(){return bpe(function(){let t=0;const e=JR(String(ky)).split("."),n=JR("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=zS(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||zS(i[2].length==0,o[2].length==0)||zS(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var J1;if(Oe.document&&sd){var nP=ZU();J1=nP||parseInt(ky,10)||void 0}else J1=void 0;var xpe=J1,Ope=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",Ty,e),Oe.removeEventListener("test",Ty,e)}catch{}return t}();function dr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};function ap(t,e){if(dr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JU){e:{try{CT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ape[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ap.Z.h.call(this)}}tr(ap,dr);var Ape={2:"touch",3:"pen",4:"mouse"};ap.prototype.h=function(){ap.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ig="closure_listenable_"+(1e6*Math.random()|0),Rpe=0;function Ppe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Rpe,this.ca=this.fa=!1}function Dw(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function kw(t){this.src=t,this.g={},this.h=0}kw.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=eC(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):(e=new Ppe(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function Z1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qU(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Dw(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function eC(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var bT="closure_lm_"+(1e6*Math.random()|0),WS={};function ez(t,e,n,r,i){if(r&&r.once)return nz(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ez(t,e[o],n,r,i);return null}return n=DT(n),t&&t[ig]?t.N(e,n,rg(r)?!!r.capture:!!r,i):tz(t,e,n,!1,r,i)}function tz(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rg(i)?!!i.capture:!!i,a=TT(t);if(a||(t[bT]=a=new kw(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=Npe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ope||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iz(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Npe(){function t(n){return e.call(t.src,t.listener,n)}var e=Mpe;return t}function nz(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)nz(t,e[o],n,r,i);return null}return n=DT(n),t&&t[ig]?t.O(e,n,rg(r)?!!r.capture:!!r,i):tz(t,e,n,!0,r,i)}function rz(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rz(t,e[o],n,r,i);else r=rg(r)?!!r.capture:!!r,n=DT(n),t&&t[ig]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=eC(o,n,r,i),-1<n&&(Dw(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=TT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=eC(e,n,r,i)),(n=-1<t?e[t]:null)&&IT(n))}function IT(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[ig])Z1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iz(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=TT(e))?(Z1(n,t),n.h==0&&(n.src=null,e[bT]=null)):Dw(t)}}}function iz(t){return t in WS?WS[t]:WS[t]="on"+t}function Mpe(t,e){if(t.ca)t=!0;else{e=new ap(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&IT(t),t=n.call(r,e)}return t}function TT(t){return t=t[bT],t instanceof kw?t:null}var HS="__closure_events_fn_"+(1e9*Math.random()>>>0);function DT(t){return typeof t=="function"?t:(t[HS]||(t[HS]=function(e){return t.handleEvent(e)}),t[HS])}function Nn(){au.call(this),this.i=new kw(this),this.P=this,this.I=null}tr(Nn,au);Nn.prototype[ig]=!0;Nn.prototype.removeEventListener=function(t,e,n,r){rz(this,t,e,n,r)};function Zn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new dr(e,t);else if(e instanceof dr)e.target=e.target||t;else{var i=e;e=new dr(r,t),QU(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=$m(s,r,!0,e)&&i}if(s=e.g=t,i=$m(s,r,!0,e)&&i,i=$m(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=$m(s,r,!1,e)&&i}Nn.prototype.M=function(){if(Nn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dw(n[r]);delete t.g[e],t.h--}}this.I=null};Nn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Nn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $m(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Z1(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var kT=Oe.JSON.stringify;function Fpe(){var t=sz;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Lpe{constructor(){this.h=this.g=null}add(e,n){const r=oz.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oz=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $pe,t=>t.reset());class $pe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Bpe(t){Oe.setTimeout(()=>{throw t},0)}function xT(t,e){tC||Upe(),nC||(tC(),nC=!0),sz.add(t,e)}var tC;function Upe(){var t=Oe.Promise.resolve(void 0);tC=function(){t.then(zpe)}}var nC=!1,sz=new Lpe;function zpe(){for(var t;t=Fpe();){try{t.h.call(t.g)}catch(n){Bpe(n)}var e=oz;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nC=!1}function xw(t,e){Nn.call(this),this.h=t||1,this.g=e||Oe,this.j=Jn(this.kb,this),this.l=Date.now()}tr(xw,Nn);ge=xw.prototype;ge.da=!1;ge.S=null;ge.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zn(this,"tick"),this.da&&(OT(this),this.start()))}};ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function OT(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ge.M=function(){xw.Z.M.call(this),OT(this),delete this.g};function AT(t,e,n){if(typeof t=="function")n&&(t=Jn(t,n));else if(t&&typeof t.handleEvent=="function")t=Jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function az(t){t.g=AT(()=>{t.g=null,t.i&&(t.i=!1,az(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Kpe extends au{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:az(this)}M(){super.M(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function up(t){au.call(this),this.h=t,this.g={}}tr(up,au);var rP=[];function uz(t,e,n,r){Array.isArray(n)||(n&&(rP[0]=n.toString()),n=rP);for(var i=0;i<n.length;i++){var o=ez(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function lz(t){ET(t.g,function(e,n){this.g.hasOwnProperty(n)&&IT(e)},t),t.g={}}up.prototype.M=function(){up.Z.M.call(this),lz(this)};up.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ow(){this.g=!0}Ow.prototype.Aa=function(){this.g=!1};function Vpe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var d=l[0];l=l[1];var f=d.split("_");s=2<=f.length&&f[1]=="type"?s+(d+"="+l+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function jpe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Tc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Hpe(t,n)+(r?" "+r:"")})}function Wpe(t,e){t.info(function(){return"TIMEOUT: "+e})}Ow.prototype.info=function(){};function Hpe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return kT(n)}catch{return e}}var Fl={},iP=null;function Aw(){return iP=iP||new Nn}Fl.Ma="serverreachability";function cz(t){dr.call(this,Fl.Ma,t)}tr(cz,dr);function lp(t){const e=Aw();Zn(e,new cz(e))}Fl.STAT_EVENT="statevent";function dz(t,e){dr.call(this,Fl.STAT_EVENT,t),this.stat=e}tr(dz,dr);function kr(t){const e=Aw();Zn(e,new dz(e,t))}Fl.Na="timingevent";function fz(t,e){dr.call(this,Fl.Na,t),this.size=e}tr(fz,dr);function og(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}var Rw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hz={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function RT(){}RT.prototype.h=null;function oP(t){return t.h||(t.h=t.i())}function pz(){}var sg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function PT(){dr.call(this,"d")}tr(PT,dr);function NT(){dr.call(this,"c")}tr(NT,dr);var rC;function Pw(){}tr(Pw,RT);Pw.prototype.g=function(){return new XMLHttpRequest};Pw.prototype.i=function(){return{}};rC=new Pw;function ag(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new up(this),this.P=qpe,t=X1?125:void 0,this.W=new xw(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gz}function gz(){this.i=null,this.g="",this.h=!1}var qpe=45e3,iC={},xy={};ge=ag.prototype;ge.setTimeout=function(t){this.P=t};function oC(t,e,n){t.K=1,t.v=Mw(Ks(e)),t.s=n,t.U=!0,mz(t,null)}function mz(t,e){t.F=Date.now(),ug(t),t.A=Ks(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Cz(n.h,"t",r),t.C=0,n=t.l.H,t.h=new gz,t.g=Vz(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Kpe(Jn(t.Ia,t,t.g),t.O)),uz(t.V,t.g,"readystatechange",t.gb),e=t.H?YU(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),lp(),Vpe(t.j,t.u,t.A,t.m,t.X,t.s)}ge.gb=function(t){t=t.target;const e=this.L;e&&ks(t)==3?e.l():this.Ia(t)};ge.Ia=function(t){try{if(t==this.g)e:{const d=ks(this.g);var e=this.g.Da();const f=this.g.ba();if(!(3>d)&&(d!=3||X1||this.g&&(this.h.h||this.g.ga()||lP(this.g)))){this.I||d!=4||e==7||(e==8||0>=f?lp(3):lp(2)),Nw(this);var n=this.g.ba();this.N=n;t:if(vz(this)){var r=lP(this.g);t="";var i=r.length,o=ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Vu(this),yh(this);var s="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=n==200,jpe(this.j,this.u,this.A,this.m,this.X,d,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dy(a)){var l=a;break t}}l=null}if(n=l)Tc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sC(this,n);else{this.i=!1,this.o=3,kr(12),Vu(this),yh(this);break e}}this.U?(yz(this,d,s),X1&&this.i&&d==3&&(uz(this.V,this.W,"tick",this.fb),this.W.start())):(Tc(this.j,this.m,s,null),sC(this,s)),d==4&&Vu(this),this.i&&!this.I&&(d==4?Bz(this.l,this):(this.i=!1,ug(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Vu(this),yh(this)}}}catch{}finally{}};function vz(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function yz(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=Gpe(t,n),i==xy){e==4&&(t.o=4,kr(14),r=!1),Tc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==iC){t.o=4,kr(15),Tc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Tc(t.j,t.m,i,null),sC(t,i);vz(t)&&i!=xy&&i!=iC&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,kr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),VT(e),e.L=!0,kr(11))):(Tc(t.j,t.m,n,"[Invalid Chunked Response]"),Vu(t),yh(t))}ge.fb=function(){if(this.g){var t=ks(this.g),e=this.g.ga();this.C<e.length&&(Nw(this),yz(this,t,e),this.i&&t!=4&&ug(this))}};function Gpe(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?xy:(n=Number(e.substring(n,r)),isNaN(n)?iC:(r+=1,r+n>e.length?xy:(e=e.substr(r,n),t.C=r+n,e)))}ge.cancel=function(){this.I=!0,Vu(this)};function ug(t){t.Y=Date.now()+t.P,wz(t,t.P)}function wz(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=og(Jn(t.eb,t),e)}function Nw(t){t.B&&(Oe.clearTimeout(t.B),t.B=null)}ge.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Wpe(this.j,this.A),this.K!=2&&(lp(),kr(17)),Vu(this),this.o=2,yh(this)):wz(this,this.Y-t)};function yh(t){t.l.G==0||t.I||Bz(t.l,t)}function Vu(t){Nw(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,OT(t.W),lz(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function sC(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||aC(n.i,t))){if(n.I=t.N,!t.J&&aC(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Py(n),$w(n);else break e;KT(n),kr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=og(Jn(n.ab,n),6e3));if(1>=Tz(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ju(n,11)}else if((t.J||n.g==t)&&Py(n),!Dy(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const d=l[3];d!=null&&(n.ma=d,n.h.info("VER="+n.ma));const f=l[4];f!=null&&(n.za=f,n.h.info("SVER="+n.za));const p=l[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const m=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;!o.g&&(Tr(m,"spdy")||Tr(m,"quic")||Tr(m,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(LT(o,o.h),o.h=null))}if(r.D){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,jt(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var s=t;if(r.oa=Kz(r,r.H?r.la:null,r.W),s.J){Dz(r.i,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(Nw(a),ug(a)),r.g=s}else Lz(r);0<n.l.length&&Bw(n)}else l[0]!="stop"&&l[0]!="close"||ju(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ju(n,7):zT(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}lp(4)}catch{}}function Ype(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Q1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function MT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Q1(t)||typeof t=="string")GU(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Q1(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Ype(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function xd(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xd)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}ge=xd.prototype;ge.R=function(){FT(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ge.T=function(){return FT(this),this.g.concat()};function FT(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];cl(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],cl(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}ge.get=function(t,e){return cl(this.h,t)?this.h[t]:e};ge.set=function(t,e){cl(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ge.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function cl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _z=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qpe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function dl(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof dl){this.g=e!==void 0?e:t.g,Oy(this,t.j),this.s=t.s,Ay(this,t.i),Ry(this,t.m),this.l=t.l,e=t.h;var n=new cp;n.i=e.i,e.g&&(n.g=new xd(e.g),n.h=e.h),sP(this,n),this.o=t.o}else t&&(n=String(t).match(_z))?(this.g=!!e,Oy(this,n[1]||"",!0),this.s=wh(n[2]||""),Ay(this,n[3]||"",!0),Ry(this,n[4]),this.l=wh(n[5]||"",!0),sP(this,n[6]||"",!0),this.o=wh(n[7]||"")):(this.g=!!e,this.h=new cp(null,this.g))}dl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xf(e,aP,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xf(e,aP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Xf(n,n.charAt(0)=="/"?tge:ege,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xf(n,rge)),t.join("")};function Ks(t){return new dl(t)}function Oy(t,e,n){t.j=n?wh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ay(t,e,n){t.i=n?wh(e,!0):e}function Ry(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sP(t,e,n){e instanceof cp?(t.h=e,ige(t.h,t.g)):(n||(e=Xf(e,nge)),t.h=new cp(e,t.g))}function jt(t,e,n){t.h.set(e,n)}function Mw(t){return jt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xpe(t){return t instanceof dl?Ks(t):new dl(t,void 0)}function Jpe(t,e,n,r){var i=new dl(null,void 0);return t&&Oy(i,t),e&&Ay(i,e),n&&Ry(i,n),r&&(i.l=r),i}function wh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Zpe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zpe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var aP=/[#\/\?@]/g,ege=/[#\?:]/g,tge=/[#\?]/g,nge=/[#\?@]/g,rge=/#/g;function cp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function uu(t){t.g||(t.g=new xd,t.h=0,t.i&&Qpe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ge=cp.prototype;ge.add=function(t,e){uu(this),this.i=null,t=Od(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Sz(t,e){uu(t),e=Od(t,e),cl(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,cl(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&FT(t)))}function Ez(t,e){return uu(t),e=Od(t,e),cl(t.g.h,e)}ge.forEach=function(t,e){uu(this),this.g.forEach(function(n,r){GU(n,function(i){t.call(e,i,r,this)},this)},this)};ge.T=function(){uu(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};ge.R=function(t){uu(this);var e=[];if(typeof t=="string")Ez(this,t)&&(e=XR(e,this.g.get(Od(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=XR(e,t[n])}return e};ge.set=function(t,e){return uu(this),this.i=null,t=Od(this,t),Ez(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ge.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Cz(t,e,n){Sz(t,e),0<n.length&&(t.i=null,t.g.set(Od(t,e),ST(n)),t.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};function Od(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ige(t,e){e&&!t.j&&(uu(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Sz(this,r),Cz(this,i,n))},t)),t.j=e}var oge=class{constructor(t,e){this.h=t,this.g=e}};function bz(t){this.l=t||sge,Oe.PerformanceNavigationTiming?(t=Oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Oe.g&&Oe.g.Ea&&Oe.g.Ea()&&Oe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sge=10;function Iz(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Tz(t){return t.h?1:t.g?t.g.size:0}function aC(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function LT(t,e){t.g?t.g.add(e):t.h=e}function Dz(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bz.prototype.cancel=function(){if(this.i=kz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kz(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ST(t.i)}function $T(){}$T.prototype.stringify=function(t){return Oe.JSON.stringify(t,void 0)};$T.prototype.parse=function(t){return Oe.JSON.parse(t,void 0)};function age(){this.g=new $T}function uge(t,e,n){const r=n||"";try{MT(t,function(i,o){let s=i;rg(i)&&(s=kT(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lge(t,e){const n=new Ow;if(Oe.Image){const r=new Image;r.onload=Lm(Bm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lm(Bm,n,r,"TestLoadImage: error",!1,e),r.onabort=Lm(Bm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lm(Bm,n,r,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lg(t){this.l=t.$b||null,this.j=t.ib||!1}tr(lg,RT);lg.prototype.g=function(){return new Fw(this.l,this.j)};lg.prototype.i=function(t){return function(){return t}}({});function Fw(t,e){Nn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=BT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tr(Fw,Nn);var BT=0;ge=Fw.prototype;ge.open=function(t,e){if(this.readyState!=BT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dp(this)};ge.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Oe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cg(this)),this.readyState=BT};ge.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dp(this)),this.g&&(this.readyState=3,dp(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Oe.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xz(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function xz(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ge.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cg(this):dp(this),this.readyState==3&&xz(this)}};ge.Ua=function(t){this.g&&(this.response=this.responseText=t,cg(this))};ge.Ta=function(t){this.g&&(this.response=t,cg(this))};ge.ha=function(){this.g&&cg(this)};function cg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dp(t)}ge.setRequestHeader=function(t,e){this.v.append(t,e)};ge.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function dp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fw.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cge=Oe.JSON.parse;function fn(t){Nn.call(this),this.headers=new xd,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oz,this.K=this.L=!1}tr(fn,Nn);var Oz="",dge=/^https?$/i,fge=["POST","PUT"];ge=fn.prototype;ge.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rC.g(),this.C=this.u?oP(this.u):oP(rC),this.g.onreadystatechange=Jn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){uP(this,o);return}t=n||"";const i=new xd(this.headers);r&&MT(r,function(o,s){i.set(s,o)}),r=Cpe(i.T()),n=Oe.FormData&&t instanceof Oe.FormData,!(0<=qU(fge,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pz(this),0<this.B&&((this.K=hge(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.pa,this)):this.A=AT(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){uP(this,o)}};function hge(t){return sd&&kpe()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function pge(t){return t.toLowerCase()=="content-type"}ge.pa=function(){typeof _T!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))};function uP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Az(t),Lw(t)}function Az(t){t.D||(t.D=!0,Zn(t,"complete"),Zn(t,"error"))}ge.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Zn(this,"complete"),Zn(this,"abort"),Lw(this))};ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lw(this,!0)),fn.Z.M.call(this)};ge.Fa=function(){this.s||(this.F||this.v||this.l?Rz(this):this.cb())};ge.cb=function(){Rz(this)};function Rz(t){if(t.h&&typeof _T!="undefined"&&(!t.C[1]||ks(t)!=4||t.ba()!=2)){if(t.v&&ks(t)==4)AT(t.Fa,0,t);else if(Zn(t,"readystatechange"),ks(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(_z)[1]||null;if(!i&&Oe.self&&Oe.self.location){var o=Oe.self.location.protocol;i=o.substr(0,o.length-1)}r=!dge.test(i?i.toLowerCase():"")}n=r}if(n)Zn(t,"complete"),Zn(t,"success");else{t.m=6;try{var s=2<ks(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.ba()+"]",Az(t)}}finally{Lw(t)}}}}function Lw(t,e){if(t.g){Pz(t);const n=t.g,r=t.C[0]?Ty:null;t.g=null,t.C=null,e||Zn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Pz(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Oe.clearTimeout(t.A),t.A=null)}function ks(t){return t.g?t.g.readyState:0}ge.ba=function(){try{return 2<ks(this)?this.g.status:-1}catch{return-1}};ge.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cge(e)}};function lP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Oz:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ge.Da=function(){return this.m};ge.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function gge(t){let e="";return ET(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function UT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gge(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):jt(t,e,n))}function Af(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Nz(t){this.za=0,this.l=[],this.h=new Ow,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Af("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Af("baseRetryDelayMs",5e3,t),this.$a=Af("retryDelaySeedMs",1e4,t),this.Ya=Af("forwardChannelMaxRetries",2,t),this.ra=Af("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bz(t&&t.concurrentRequestLimit),this.Ca=new age,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ge=Nz.prototype;ge.ma=8;ge.G=1;function zT(t){if(Mz(t),t.G==3){var e=t.V++,n=Ks(t.F);jt(n,"SID",t.J),jt(n,"RID",e),jt(n,"TYPE","terminate"),dg(t,n),e=new ag(t,t.h,e,void 0),e.K=2,e.v=Mw(Ks(n)),n=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(n=Oe.navigator.sendBeacon(e.v.toString(),"")),!n&&Oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=Vz(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ug(e)}zz(t)}ge.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function $w(t){t.g&&(VT(t),t.g.cancel(),t.g=null)}function Mz(t){$w(t),t.u&&(Oe.clearTimeout(t.u),t.u=null),Py(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Oe.clearTimeout(t.m),t.m=null)}function qS(t,e){t.l.push(new oge(t.Za++,e)),t.G==3&&Bw(t)}function Bw(t){Iz(t.i)||t.m||(t.m=!0,xT(t.Ha,t),t.C=0)}function mge(t,e){return Tz(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=og(Jn(t.Ha,t,e),Uz(t,t.C)),t.C++,!0)}ge.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ag(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=YU(o),QU(o,this.P)):o=this.P),this.o===null&&(i.H=o),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Fz(this,i,e),n=Ks(this.F),jt(n,"RID",t),jt(n,"CVER",22),this.D&&jt(n,"X-HTTP-Session-Id",this.D),dg(this,n),this.o&&o&&UT(n,this.o,o),LT(this.i,i),this.Ra&&jt(n,"TYPE","init"),this.ja?(jt(n,"$req",e),jt(n,"SID","null"),i.$=!0,oC(i,n,null)):oC(i,n,e),this.G=2}}else this.G==3&&(t?cP(this,t):this.l.length==0||Iz(this.i)||cP(this))};function cP(t,e){var n;e?n=e.m:n=t.V++;const r=Ks(t.F);jt(r,"SID",t.J),jt(r,"RID",n),jt(r,"AID",t.U),dg(t,r),t.o&&t.s&&UT(r,t.o,t.s),n=new ag(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Fz(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),LT(t.i,n),oC(n,r,e)}function dg(t,e){t.j&&MT({},function(n,r){jt(e,r,n)})}function Fz(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Jn(t.j.Oa,t.j,t):null;e:{var i=t.l;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const d=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{uge(d,s,"req"+l+"_")}catch{r&&r(d)}}if(a){r=s.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Lz(t){t.g||t.u||(t.Y=1,xT(t.Ga,t),t.A=0)}function KT(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=og(Jn(t.Ga,t),Uz(t,t.A)),t.A++,!0)}ge.Ga=function(){if(this.u=null,$z(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=og(Jn(this.bb,this),t)}};ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kr(10),$w(this),$z(this))};function VT(t){t.B!=null&&(Oe.clearTimeout(t.B),t.B=null)}function $z(t){t.g=new ag(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Ks(t.oa);jt(e,"RID","rpc"),jt(e,"SID",t.J),jt(e,"CI",t.N?"0":"1"),jt(e,"AID",t.U),dg(t,e),jt(e,"TYPE","xmlhttp"),t.o&&t.s&&UT(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Mw(Ks(e)),n.s=null,n.U=!0,mz(n,t)}ge.ab=function(){this.v!=null&&(this.v=null,$w(this),KT(this),kr(19))};function Py(t){t.v!=null&&(Oe.clearTimeout(t.v),t.v=null)}function Bz(t,e){var n=null;if(t.g==e){Py(t),VT(t),t.g=null;var r=2}else if(aC(t.i,e))n=e.D,Dz(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Aw(),Zn(r,new fz(r,n)),Bw(t)}else Lz(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&mge(t,e)||r==2&&KT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ju(t,5);break;case 4:ju(t,10);break;case 3:ju(t,6);break;default:ju(t,2)}}}function Uz(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ju(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Jn(t.jb,t);n||(n=new dl("//www.google.com/images/cleardot.gif"),Oe.location&&Oe.location.protocol=="http"||Oy(n,"https"),Mw(n)),lge(n.toString(),r)}else kr(2);t.G=0,t.j&&t.j.va(e),zz(t),Mz(t)}ge.jb=function(t){t?(this.h.info("Successfully pinged google.com"),kr(2)):(this.h.info("Failed to ping google.com"),kr(1))};function zz(t){t.G=0,t.I=-1,t.j&&((kz(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,ST(t.l),t.l.length=0),t.j.ua())}function Kz(t,e,n){let r=Xpe(n);if(r.i!="")e&&Ay(r,e+"."+r.i),Ry(r,r.m);else{const i=Oe.location;r=Jpe(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ET(t.aa,function(i,o){jt(r,o,i)}),e=t.D,n=t.sa,e&&n&&jt(r,e,n),jt(r,"VER",t.ma),dg(t,r),r}function Vz(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new fn(new lg({ib:!0})):new fn(t.qa),e.L=t.H,e}function jz(){}ge=jz.prototype;ge.xa=function(){};ge.wa=function(){};ge.va=function(){};ge.ua=function(){};ge.Oa=function(){};function Ny(){if(sd&&!(10<=Number(xpe)))throw Error("Environmental error: no available transport.")}Ny.prototype.g=function(t,e){return new yi(t,e)};function yi(t,e){Nn.call(this),this.g=new Nz(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Dy(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dy(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ad(this)}tr(yi,Nn);yi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),xT(Jn(t.hb,t,e))),kr(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Kz(t,null,t.W),Bw(t)};yi.prototype.close=function(){zT(this.g)};yi.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,qS(this.g,e)}else this.v?(e={},e.__data__=kT(t),qS(this.g,e)):qS(this.g,t)};yi.prototype.M=function(){this.g.j=null,delete this.j,zT(this.g),delete this.g,yi.Z.M.call(this)};function Wz(t){PT.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tr(Wz,PT);function Hz(){NT.call(this),this.status=1}tr(Hz,NT);function Ad(t){this.g=t}tr(Ad,jz);Ad.prototype.xa=function(){Zn(this.g,"a")};Ad.prototype.wa=function(t){Zn(this.g,new Wz(t))};Ad.prototype.va=function(t){Zn(this.g,new Hz)};Ad.prototype.ua=function(){Zn(this.g,"b")};Ny.prototype.createWebChannel=Ny.prototype.g;yi.prototype.send=yi.prototype.u;yi.prototype.open=yi.prototype.m;yi.prototype.close=yi.prototype.close;Rw.NO_ERROR=0;Rw.TIMEOUT=8;Rw.HTTP_ERROR=6;hz.COMPLETE="complete";pz.EventType=sg;sg.OPEN="a";sg.CLOSE="b";sg.ERROR="c";sg.MESSAGE="d";Nn.prototype.listen=Nn.prototype.N;fn.prototype.listenOnce=fn.prototype.O;fn.prototype.getLastError=fn.prototype.La;fn.prototype.getLastErrorCode=fn.prototype.Da;fn.prototype.getStatus=fn.prototype.ba;fn.prototype.getResponseJson=fn.prototype.Qa;fn.prototype.getResponseText=fn.prototype.ga;fn.prototype.send=fn.prototype.ea;var vge=function(){return new Ny},yge=function(){return Aw()},GS=Rw,wge=hz,_ge=Fl,dP={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Sge=lg,Um=pz,Ege=fn;const fP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd="9.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new O0("@firebase/firestore");function uC(){return qa.logLevel}function Cge(t){qa.setLogLevel(t)}function ee(t,...e){if(qa.logLevel<=rt.DEBUG){const n=e.map(jT);qa.debug(`Firestore (${Rd}): ${t}`,...n)}}function on(t,...e){if(qa.logLevel<=rt.ERROR){const n=e.map(jT);qa.error(`Firestore (${Rd}): ${t}`,...n)}}function ad(t,...e){if(qa.logLevel<=rt.WARN){const n=e.map(jT);qa.warn(`Firestore (${Rd}): ${t}`,...n)}}function jT(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Rd}) INTERNAL ASSERTION FAILED: `+t;throw on(e),new Error(e)}function ke(t,e){t||me()}function bge(t,e){t||me()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ige{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class Tge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dge{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new On;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new On,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new On)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new qz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new kn(e)}}class kge{constructor(e,n,r){this.type="FirstParty",this.user=kn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class xge{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new kge(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oge{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Age{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.p;return this.p=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.p=n.token,new Oge(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rge(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Rge(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function ud(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Yz(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Wt(0,0))}static max(){return new Te(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends fp{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const Pge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends fp{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return Pge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ze.fromString(e))}static fromName(e){return new ue(Ze.fromString(e).popFirst(5))}static empty(){return new ue(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function lC(t){return t.fields.find(e=>e.kind===2)}function Ou(t){return t.fields.filter(e=>e.kind!==2)}Qz.UNKNOWN_ID=-1;class Nge{constructor(e,n){this.fieldPath=e,this.kind=n}}class My{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new My(0,wi.min())}}function Xz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new wi(i,ue.empty(),e)}function Jz(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(Te.min(),ue.empty(),-1)}static max(){return new wi(Te.max(),ue.empty(),-1)}}function WT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==Zz)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new On,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new _h(e,n.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=HT(r.target.error);this.T.reject(new _h(e,i))}}static open(e,n,r,i){try{return new Uw(n,e.transaction(i,r))}catch(o){throw new _h(n,o)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Fge(n)}}class co{constructor(e,n,r){this.name=e,this.version=n,this.P=r,co.v(Nt())===12.2&&on("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ee("SimpleDb","Removing database:",e),Ru(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!qh())return!1;if(co.S())return!0;const e=Nt(),n=co.v(e),r=0<n&&n<10,i=co.D(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static S(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.C)==="YES"}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async k(e){return this.db||(ee("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new _h(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new Z(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new Z(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new _h(e,s))},i.onupgradeneeded=o=>{ee("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.P.M(s,i.transaction,o.oldVersion,this.version).next(()=>{ee("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.O&&(this.db.onversionchange=n=>this.O(n)),this.db}F(e){this.O=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.k(e);const a=Uw.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(l=>(a.R(),l)).catch(l=>(a.abort(l),$.reject(l))).toPromise();return u.catch(()=>{}),await a.A,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&s<3;if(ee("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Mge{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Ru(this.$.delete())}}class _h extends Z{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function cu(t){return t.name==="IndexedDbTransactionError"}class Fge{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ee("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ru(r)}add(e){return ee("SimpleDb","ADD",this.store.name,e,e),Ru(this.store.add(e))}get(e){return Ru(this.store.get(e)).next(n=>(n===void 0&&(n=null),ee("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ee("SimpleDb","DELETE",this.store.name,e),Ru(this.store.delete(e))}count(){return ee("SimpleDb","COUNT",this.store.name),Ru(this.store.count())}K(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new $((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}W(e,n){ee("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Y(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=o=>{const s=HT(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new $((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new Mge(a),l=n(a.primaryKey,a.value,u);if(l instanceof $){const d=l.catch(f=>(u.done(),$.reject(f)));r.push(d)}u.isDone?i():u.U===null?a.continue():a.continue(u.U)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ru(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=HT(r.target.error);n(i)}})}let hP=!1;function HT(t){const e=co.v(Nt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hP||(hP=!0,setTimeout(()=>{throw r},0)),r}}return t}class Lge{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}Z(e){ee("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ee("IndexBackiller",`Documents written: ${await this.X.tt()}`)}catch(n){cu(n)?ee("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await lu(n)}await this.Z(1)})}}class $ge{constructor(e,n){this.localStore=e,this.persistence=n}async tt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.et(n,e))}et(e,n){const r=new Set;let i=n,o=!0;return $.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return ee("IndexBackiller",`Processing collection: ${s}`),this.nt(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}nt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.st(i,o)).next(a=>(ee("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}st(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=Jz(o);WT(s,r)>0&&(r=s)}),new wi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr.ot=-1;class Zt{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new Zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zm(this.root,e,this.comparator,!0)}}class zm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:qn.RED,this.left=i!=null?i:qn.EMPTY,this.right=o!=null?o:qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new qn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gP(this.data.getIterator())}getIteratorFrom(e){return new gP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class gP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ic(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new _t(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ud(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bge(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Cn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const Uge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(t){if(ke(!!t),typeof t=="string"){let e=0;const n=Uge.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fl(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nK(t){const e=t.mapValue.fields.__previous_value__;return qT(e)?nK(e):e}function hp(t){const e=Ga(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(e,n,r,i,o,s,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Vs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){return t==null}function pp(t){return t===0&&1/t==-1/0}function rK(t){return typeof t=="number"&&Number.isInteger(t)&&!pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yv={nullValue:"NULL_VALUE"};function hl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qT(t)?4:iK(t)?9007199254740991:10:me()}function ns(t,e){if(t===e)return!0;const n=hl(t);if(n!==hl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hp(t).isEqual(hp(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ga(r.timestampValue),s=Ga(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return fl(r.bytesValue).isEqual(fl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Jt(r.geoPointValue.latitude)===Jt(i.geoPointValue.latitude)&&Jt(r.geoPointValue.longitude)===Jt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Jt(r.integerValue)===Jt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Jt(r.doubleValue),s=Jt(i.doubleValue);return o===s?pp(o)===pp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ud(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(pP(o)!==pP(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!ns(o[a],s[a])))return!1;return!0}(t,e);default:return me()}}function gp(t,e){return(t.values||[]).find(n=>ns(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=hl(t),r=hl(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Jt(i.integerValue||i.doubleValue),a=Jt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return mP(t.timestampValue,e.timestampValue);case 4:return mP(hp(t),hp(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,o){const s=fl(i),a=fl(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const l=Le(s[u],a[u]);if(l!==0)return l}return Le(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Le(Jt(i.latitude),Jt(o.latitude));return s!==0?s:Le(Jt(i.longitude),Jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const l=Ya(s[u],a[u]);if(l)return l}return Le(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===xa.mapValue&&o===xa.mapValue)return 0;if(i===xa.mapValue)return 1;if(o===xa.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let d=0;d<a.length&&d<l.length;++d){const f=Le(a[d],l[d]);if(f!==0)return f;const p=Ya(s[a[d]],u[l[d]]);if(p!==0)return p}return Le(a.length,l.length)}(t.mapValue,e.mapValue);default:throw me()}}function mP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ga(t),r=Ga(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function Hc(t){return cC(t)}function cC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ga(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=cC(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${cC(r.fields[a])}`;return o+"}"}(t.mapValue):me();var e,n}function pl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dC(t){return!!t&&"integerValue"in t}function mp(t){return!!t&&"arrayValue"in t}function vP(t){return!!t&&"nullValue"in t}function yP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wv(t){return!!t&&"mapValue"in t}function Sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ll(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Kge(t){return"nullValue"in t?yv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?pl(Vs.empty(),ue.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:me()}function Vge(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?pl(Vs.empty(),ue.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?xa:me()}function wP(t,e){const n=Ya(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function _P(t,e){const n=Ya(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sh(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Sh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ll(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Gn(Sh(this.value))}}function oK(t){const e=[];return Ll(t.fields,(n,r)=>{const i=new sn([n]);if(wv(r)){const o=oK(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Tt(e,0,Te.min(),Te.min(),Gn.empty(),0)}static newFoundDocument(e,n,r){return new Tt(e,1,n,Te.min(),r,0)}static newNoDocument(e,n){return new Tt(e,2,n,Te.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,Te.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jge{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ut=null}}function SP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new jge(t,e,n,r,i,o,s)}function gl(t){const e=le(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Hc(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hc(r)).join(",")),e.ut=n}return e.ut}function Wge(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Hc(r.value)}`;var r}).join(", ")}]`),fg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Hc(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Hc(n)).join(",")),`Target(${e})`}function hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Zge(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!ns(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IP(t.startAt,e.startAt)&&IP(t.endAt,e.endAt)}function Fy(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ly(t,e){return t.filters.filter(n=>n instanceof Yn&&n.field.isEqual(e))}function EP(t,e,n){let r=yv,i=!0;for(const o of Ly(t,e)){let s=yv,a=!0;switch(o.op){case"<":case"<=":s=Kge(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=yv}wP({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];wP({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function CP(t,e,n){let r=xa,i=!0;for(const o of Ly(t,e)){let s=xa,a=!0;switch(o.op){case">=":case">":s=Vge(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=xa}_P({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];_P({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}class Yn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new Hge(e,n,r):n==="array-contains"?new Yge(e,r):n==="in"?new Qge(e,r):n==="not-in"?new Xge(e,r):n==="array-contains-any"?new Jge(e,r):new Yn(e,n,r)}static ct(e,n,r){return n==="in"?new qge(e,r):new Gge(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(Ya(n,this.value)):n!==null&&hl(this.value)===hl(n)&&this.at(Ya(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hge extends Yn{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.at(n)}}class qge extends Yn{constructor(e,n){super(e,"in",n),this.keys=sK("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gge extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=sK("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sK(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class Yge extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&gp(n.arrayValue,this.value)}}class Qge extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gp(this.value.arrayValue,n)}}class Xge extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gp(this.value.arrayValue,n)}}class Jge extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gp(this.value.arrayValue,r))}}class Qa{constructor(e,n){this.position=e,this.inclusive=n}}class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function bP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=Ya(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}}function aK(t,e,n,r,i,o,s,a){return new Zs(t,e,n,r,i,o,s,a)}function Pd(t){return new Zs(t)}function TP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function YT(t){for(const e of t.filters)if(e.ht())return e.field;return null}function QT(t){return t.collectionGroup!==null}function ld(t){const e=le(t);if(e.lt===null){e.lt=[];const n=YT(e),r=GT(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new qc(n)),e.lt.push(new qc(sn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.lt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new qc(sn.keyField(),o))}}}return e.lt}function Qr(t){const e=le(t);if(!e.ft)if(e.limitType==="F")e.ft=SP(e.path,e.collectionGroup,ld(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ld(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new qc(o.field,s))}const r=e.endAt?new Qa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qa(e.startAt.position,e.startAt.inclusive):null;e.ft=SP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function $y(t,e,n){return new Zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pg(t,e){return hg(Qr(t),Qr(e))&&t.limitType===e.limitType}function uK(t){return`${gl(Qr(t))}|lt:${t.limitType}`}function fC(t){return`Query(target=${Wge(Qr(t))}; limitType=${t.limitType})`}function XT(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ue.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=bP(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ld(n),r)||n.endAt&&!function(i,o,s){const a=bP(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ld(n),r))}(t,e)}function lK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cK(t){return(e,n)=>{let r=!1;for(const i of ld(t)){const o=eme(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function eme(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?Ya(a,u):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function fK(t){return{integerValue:""+t}}function hK(t,e){return rK(e)?fK(e):dK(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this._=void 0}}function tme(t,e,n){return t instanceof cd?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ml?gK(t,e):t instanceof vl?mK(t,e):function(r,i){const o=pK(r,i),s=DP(o)+DP(r._t);return dC(o)&&dC(r._t)?fK(s):dK(r.wt,s)}(t,e)}function nme(t,e,n){return t instanceof ml?gK(t,e):t instanceof vl?mK(t,e):n}function pK(t,e){return t instanceof dd?dC(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class cd extends zw{}class ml extends zw{constructor(e){super(),this.elements=e}}function gK(t,e){const n=vK(e);for(const r of t.elements)n.some(i=>ns(i,r))||n.push(r);return{arrayValue:{values:n}}}class vl extends zw{constructor(e){super(),this.elements=e}}function mK(t,e){let n=vK(e);for(const r of t.elements)n=n.filter(i=>!ns(i,r));return{arrayValue:{values:n}}}class dd extends zw{constructor(e,n){super(),this.wt=e,this._t=n}}function DP(t){return Jt(t.integerValue||t.doubleValue)}function vK(t){return mp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.field=e,this.transform=n}}function rme(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ml&&r instanceof ml||n instanceof vl&&r instanceof vl?ud(n.elements,r.elements,ns):n instanceof dd&&r instanceof dd?ns(n._t,r._t):n instanceof cd&&r instanceof cd}(t.transform,e.transform)}class ime{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _v(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kw{}function yK(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Md(t.key,qt.none()):new Nd(t.key,t.data,qt.none());{const n=t.data,r=Gn.empty();let i=new _t(sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ea(t.key,r,new mi(i.toArray()),qt.none())}}function ome(t,e,n){t instanceof Nd?function(r,i,o){const s=r.value.clone(),a=xP(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ea?function(r,i,o){if(!_v(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=xP(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(wK(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eh(t,e,n,r){return t instanceof Nd?function(i,o,s,a){if(!_v(i.precondition,o))return s;const u=i.value.clone(),l=OP(i.fieldTransforms,a,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ea?function(i,o,s,a){if(!_v(i.precondition,o))return s;const u=OP(i.fieldTransforms,a,o),l=o.data;return l.setAll(wK(i)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,s){return _v(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function sme(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=pK(r.transform,i||null);o!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,o))}return n||null}function kP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ud(n,r,(i,o)=>rme(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nd extends Kw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ea extends Kw{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wK(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xP(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,nme(s,a,n[i]))}return r}function OP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,tme(o,s,e))}return r}class Md extends Kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JT extends Kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,Je;function _K(t){switch(t){default:return me();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function SK(t){if(t===void 0)return on("GRPC error has no .code"),U.UNKNOWN;switch(t){case cn.OK:return U.OK;case cn.CANCELLED:return U.CANCELLED;case cn.UNKNOWN:return U.UNKNOWN;case cn.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case cn.INTERNAL:return U.INTERNAL;case cn.UNAVAILABLE:return U.UNAVAILABLE;case cn.UNAUTHENTICATED:return U.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case cn.NOT_FOUND:return U.NOT_FOUND;case cn.ALREADY_EXISTS:return U.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return U.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case cn.ABORTED:return U.ABORTED;case cn.OUT_OF_RANGE:return U.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return U.UNIMPLEMENTED;case cn.DATA_LOSS:return U.DATA_LOSS;default:return me()}}(Je=cn||(cn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return tK(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume=new Zt(ue.comparator);function Hr(){return ume}const EK=new Zt(ue.comparator);function Jf(...t){let e=EK;for(const n of t)e=e.insert(n.key,n);return e}function CK(t){let e=EK;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return Ch()}function bK(){return Ch()}function Ch(){return new du(t=>t.toString(),(t,e)=>t.isEqual(e))}const lme=new Zt(ue.comparator),cme=new _t(ue.comparator);function $e(...t){let e=cme;for(const n of t)e=e.add(n);return e}const dme=new _t(Le);function Vw(){return dme}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,vg.createSynthesizedTargetChangeForCurrentChange(e,n)),new mg(Te.min(),r,Vw(),Hr(),$e())}}class vg{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n){return new vg(Cn.EMPTY_BYTE_STRING,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class IK{constructor(e,n){this.targetId=e,this.It=n}}class TK{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AP{constructor(){this.Tt=0,this.Et=PP(),this.At=Cn.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=$e(),n=$e(),r=$e();return this.Et.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new vg(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=PP()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class fme{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Hr(),this.Bt=RP(),this.Lt=new _t(Le)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const o=i.target;if(Fy(o))if(r===0){const s=new ue(o.path);this.Kt(n,s,Tt.newNoDocument(s,Te.min()))}else ke(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((o,s)=>{const a=this.Ht(s);if(a){if(o.current&&Fy(a.target)){const u=new ue(a.target.path);this.$t.get(u)!==null||this.Xt(s,u)||this.Kt(s,u,Tt.newNoDocument(u,e))}o.vt&&(n.set(s,o.St()),o.Dt())}});let r=$e();this.Bt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Ht(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.$t.forEach((o,s)=>s.setReadTime(e));const i=new mg(e,n,this.Lt,this.$t,r);return this.$t=Hr(),this.Bt=RP(),this.Lt=new _t(Le),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new AP,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new _t(Le),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new AP),this.Ot.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Ot.getRemoteKeysForTarget(e).has(n)}}function RP(){return new Zt(ue.comparator)}function PP(){return new Zt(ue.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),pme=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class gme{constructor(e,n){this.databaseId=e,this.dt=n}}function vp(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DK(t,e){return t.dt?e.toBase64():e.toUint8Array()}function mme(t,e){return vp(t,e.toTimestamp())}function An(t){return ke(!!t),Te.fromTimestamp(function(e){const n=Ga(e);return new Wt(n.seconds,n.nanos)}(t))}function ZT(t,e){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function kK(t){const e=Ze.fromString(t);return ke(FK(e)),e}function yp(t,e){return ZT(t.databaseId,e.path)}function Xo(t,e){const n=kK(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(OK(n))}function hC(t,e){return ZT(t.databaseId,e)}function xK(t){const e=kK(t);return e.length===4?Ze.emptyPath():OK(e)}function wp(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OK(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NP(t,e,n){return{name:yp(t,e),fields:n.value.mapValue.fields}}function AK(t,e,n){const r=Xo(t,e.name),i=An(e.updateTime),o=new Gn({mapValue:{fields:e.fields}}),s=Tt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function vme(t,e){return"found"in e?function(n,r){ke(!!r.found),r.found.name,r.found.updateTime;const i=Xo(n,r.found.name),o=An(r.found.updateTime),s=new Gn({mapValue:{fields:r.found.fields}});return Tt.newFoundDocument(i,o,s)}(t,e):"missing"in e?function(n,r){ke(!!r.missing),ke(!!r.readTime);const i=Xo(n,r.missing),o=An(r.readTime);return Tt.newNoDocument(i,o)}(t,e):me()}function yme(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.dt?(ke(l===void 0||typeof l=="string"),Cn.fromBase64String(l||"")):(ke(l===void 0||l instanceof Uint8Array),Cn.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const l=u.code===void 0?U.UNKNOWN:SK(u.code);return new Z(l,u.message||"")}(s);n=new TK(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xo(t,r.document.name),o=An(r.document.updateTime),s=new Gn({mapValue:{fields:r.document.fields}}),a=Tt.newFoundDocument(i,o,s),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Sv(u,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xo(t,r.document),o=r.readTime?An(r.readTime):Te.min(),s=Tt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Sv([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xo(t,r.document),o=r.removedTargetIds||[];n=new Sv([],o,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new ame(i),s=r.targetId;n=new IK(s,o)}}return n}function _p(t,e){let n;if(e instanceof Nd)n={update:NP(t,e.key,e.value)};else if(e instanceof Md)n={delete:yp(t,e.key)};else if(e instanceof ea)n={update:NP(t,e.key,e.data),updateMask:Ime(e.fieldMask)};else{if(!(e instanceof JT))return me();n={verify:yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof dd)return{fieldPath:o.field.canonicalString(),increment:s._t};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mme(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(t,e.precondition)),n}function pC(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?qt.updateTime(An(i.updateTime)):i.exists!==void 0?qt.exists(i.exists):qt.none()}(e.currentDocument):qt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;if("setToServerValue"in s)ke(s.setToServerValue==="REQUEST_TIME"),a=new cd;else if("appendMissingElements"in s){const l=s.appendMissingElements.values||[];a=new ml(l)}else if("removeAllFromArray"in s){const l=s.removeAllFromArray.values||[];a=new vl(l)}else"increment"in s?a=new dd(o,s.increment):me();const u=sn.fromServerFormat(s.fieldPath);return new gg(u,a)}(t,i)):[];if(e.update){e.update.name;const i=Xo(t,e.update.name),o=new Gn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(a){const u=a.fieldPaths||[];return new mi(u.map(l=>sn.fromServerFormat(l)))}(e.updateMask);return new ea(i,o,s,n,r)}return new Nd(i,o,n,r)}if(e.delete){const i=Xo(t,e.delete);return new Md(i,n)}if(e.verify){const i=Xo(t,e.verify);return new JT(i,n)}return me()}function wme(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?An(r.updateTime):An(i);return o.isEqual(Te.min())&&(o=An(i)),new ime(o,r.transformResults||[])}(n,e))):[]}function RK(t,e){return{documents:[hC(t,e.path)]}}function PK(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length===0)return;const l=u.map(d=>function(f){if(f.op==="=="){if(yP(f.value))return{unaryFilter:{field:oc(f.field),op:"IS_NAN"}};if(vP(f.value))return{unaryFilter:{field:oc(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(yP(f.value))return{unaryFilter:{field:oc(f.field),op:"IS_NOT_NAN"}};if(vP(f.value))return{unaryFilter:{field:oc(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(f.field),op:Eme(f.op),value:f.value}}}(d));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:oc(d.field),direction:Sme(d.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(u,l){return u.dt||fg(l)?l:{value:l}}(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function NK(t){let e=xK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=MK(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(d=>function(f){return new qc(Dc(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d)));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,fg(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(d){const f=!!d.before,p=d.values||[];return new Qa(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const f=!d.before,p=d.values||[];return new Qa(p,f)}(n.endAt)),aK(e,i,s,o,a,"F",u,l)}function _me(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return me()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function MK(t){return t?t.unaryFilter!==void 0?[bme(t)]:t.fieldFilter!==void 0?[Cme(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>MK(e)).reduce((e,n)=>e.concat(n)):me():[]}function Sme(t){return hme[t]}function Eme(t){return pme[t]}function oc(t){return{fieldPath:t.canonicalString()}}function Dc(t){return sn.fromServerFormat(t.fieldPath)}function Cme(t){return Yn.create(Dc(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(t.fieldFilter.op),t.fieldFilter.value)}function bme(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Dc(t.unaryFilter.field);return Yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Dc(t.unaryFilter.field);return Yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dc(t.unaryFilter.field);return Yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Dc(t.unaryFilter.field);return Yn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return me()}}function Ime(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MP(e)),e=Tme(t.get(n),e);return MP(e)}function Tme(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function MP(t){return t+""}function Ho(t){const e=t.length;if(ke(e>=2),e===2)return ke(t.charAt(0)===""&&t.charAt(1)===""),Ze.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&me(),t.charAt(s+1)){case"":const a=t.substring(o,s);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:me()}o=s+2}return new Ze(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){return[t,Or(e)]}function LK(t,e,n){return[t,Or(e),n]}const Dme={},kme=["prefixPath","collectionGroup","readTime","documentId"],xme=["prefixPath","collectionGroup","documentId"],Ome=["collectionGroup","readTime","prefixPath","documentId"],Ame=["canonicalId","targetId"],Rme=["targetId","path"],Pme=["path","targetId"],Nme=["collectionId","parent"],Mme=["indexId","uid"],Fme=["uid","sequenceNumber"],Lme=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$me=["indexId","uid","orderedDocumentKey"],Bme=["userId","collectionPath","documentId"],Ume=["userId","collectionPath","largestBatchId"],zme=["userId","collectionGroup","largestBatchId"],$K=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kme=[...$K,"documentOverlays"],BK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UK=BK,Vme=[...UK,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends eK{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function $n(t,e){const n=le(t);return co.N(n.ee,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ome(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bK();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=yK(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&ud(this.mutations,e.mutations,(n,r)=>kP(n,r))&&ud(this.baseMutations,e.baseMutations,(n,r)=>kP(n,r))}}class tD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=lme;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new tD(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,i,o=Te.min(),s=Te.min(),a=Cn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e){this.ne=e}}function jme(t,e){let n;if(e.document)n=AK(t.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ue.fromSegments(e.noDocument.path),i=wl(e.noDocument.readTime);n=Tt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return me();{const r=ue.fromSegments(e.unknownDocument.path),i=wl(e.unknownDocument.version);n=Tt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Wt(r[0],r[1]);return Te.fromTimestamp(i)}(e.readTime)),n}function LP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:By(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:yp(i,o.key),fields:o.data.value.mapValue.fields,updateTime:vp(i,o.version.toTimestamp())}}(t.ne,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yl(e.version)};else{if(!e.isUnknownDocument())return me();r.unknownDocument={path:n.path.toArray(),version:yl(e.version)}}return r}function By(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(t){const e=new Wt(t.seconds,t.nanoseconds);return Te.fromTimestamp(e)}function Pu(t,e){const n=(e.baseMutations||[]).map(o=>pC(t.ne,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>pC(t.ne,o)),i=Wt.fromMillis(e.localWriteTimeMs);return new eD(e.batchId,i,n,r)}function Zf(t){const e=wl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?wl(t.lastLimboFreeSnapshotVersion):Te.min();let r;var i;return t.query.documents!==void 0?(ke((i=t.query).documents.length===1),r=Qr(Pd(xK(i.documents[0])))):r=function(o){return Qr(NK(o))}(t.query),new za(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Cn.fromBase64String(t.resumeToken))}function KK(t,e){const n=yl(e.snapshotVersion),r=yl(e.lastLimboFreeSnapshotVersion);let i;i=Fy(e.target)?RK(t.ne,e.target):PK(t.ne,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gl(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function rD(t){const e=NK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$y(e,e.limit,"L"):e}function YS(t,e){return new nD(e.largestBatchId,pC(t.ne,e.overlayMutation))}function $P(t,e){const n=e.path.lastSegment();return[t,Or(e.path.popLast()),n]}function BP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:yl(r.readTime),documentKey:Or(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{getBundleMetadata(e,n){return UP(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:wl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return UP(e).put({bundleId:(r=n).id,createTime:yl(An(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return zP(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:rD(i.bundledQuery),readTime:wl(i.readTime)};var i})}saveNamedQuery(e,n){return zP(e).put(function(r){return{name:r.name,readTime:yl(An(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function UP(t){return $n(t,"bundles")}function zP(t){return $n(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){const r=n.uid||"";return new jw(e,r)}getOverlay(e,n){return Rf(e).get($P(this.userId,n)).next(r=>r?YS(this.wt,r):null)}getOverlays(e,n){const r=Wo();return $.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new nD(n,s);i.push(this.ie(e,a))}),$.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Or(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Rf(e).W("collectionPathOverlayIndex",a))}),$.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Wo(),o=Or(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Rf(e).K("collectionPathOverlayIndex",s).next(a=>{for(const u of a){const l=YS(this.wt,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Wo();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rf(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{const f=YS(this.wt,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ie(e,n){return Rf(e).put(function(r,i,o){const[s,a,u]=$P(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:_p(r.ne,o.mutation)}}(this.wt,this.userId,n))}}function Rf(t){return $n(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(Jt(e.integerValue));else if("doubleValue"in e){const r=Jt(e.doubleValue);isNaN(r)?this.ce(n,13):(this.ce(n,15),pp(r)?n.ae(0):n.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(n,20),typeof r=="string"?n.he(r):(n.he(`${r.seconds||""}`),n.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(fl(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(n,45),n.ae(r.latitude||0),n.ae(r.longitude||0)}else"mapValue"in e?iK(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):me()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const r=e.fields||{};this.ce(n,55);for(const i of Object.keys(r))this.le(i,n),this.oe(r[i],n)}me(e,n){const r=e.values||[];this.ce(n,50);for(const i of r)this.oe(i,n)}_e(e,n){this.ce(n,37),ue.fromName(e).path.forEach(r=>{this.ce(n,60),this.ge(r,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}Nu.ye=new Nu;function Hme(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function KP(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const o=Hme(255&n[i]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}class qme{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ie(r.value),r=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=n.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=n.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const n=this.Ve(e),r=KP(n);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}De(e){const n=this.Ve(e),r=KP(n);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ie(e){const n=255&e;n===0?(this.xe(0),this.xe(255)):n===255?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Gme{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class Yme{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class Pf{constructor(){this.Oe=new qme,this.Fe=new Gme(this.Oe),this.$e=new Yme(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return e===0?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Mu(this.indexId,this.documentKey,this.arrayValue,r)}}function Iu(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=VP(t.arrayValue,e.arrayValue),n!==0?n:(n=VP(t.directionalValue,e.directionalValue),n!==0?n:ue.comparator(t.documentKey,e.documentKey)))}function VP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qme{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const r=n;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const n=lC(e);if(n!==void 0&&!this.Qe(n))return!1;const r=Ou(e);let i=0,o=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(this.Ke!==void 0){const s=r[i];if(!this.je(this.Ke,s)||!this.We(this.Ue[o++],s))return!1;++i}for(;i<r.length;++i){const s=r[i];if(o>=this.Ue.length||!this.We(this.Ue[o++],s))return!1}return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xme{constructor(){this.ze=new iD}addToCollectionParentIndex(e,n){return this.ze.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(wi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Uint8Array(0);class Jme{constructor(e,n){this.user=e,this.databaseId=n,this.He=new iD,this.Je=new du(r=>gl(r),(r,i)=>hg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const o={collectionId:r,parent:Or(i)};return jP(e).put(o)}return $.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Yz(n),""],!1,!0);return jP(e).K(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Ho(s.parent))}return r})}addFieldIndex(e,n){const r=Vm(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Mf(e);return o.next(a=>{s.put(BP(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Vm(e),i=Mf(e),o=Nf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Nf(e);let i=!0;const o=new Map;return $.forEach(this.Ye(n),s=>this.Xe(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=$e();const a=[];return $.forEach(o,(u,l)=>{var d;ee("IndexedDbIndexManager",`Using index ${d=u,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`} to execute ${gl(n)}`);const f=function(S,I){const k=lC(I);if(k===void 0)return null;for(const O of Ly(S,k.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(l,u),p=function(S,I){const k=new Map;for(const O of Ou(I))for(const A of Ly(S,O.fieldPath))switch(A.op){case"==":case"in":k.set(O.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return k.set(O.fieldPath.canonicalString(),A.value),Array.from(k.values())}return null}(l,u),g=function(S,I){const k=[];let O=!0;for(const A of Ou(I)){const F=A.kind===0?EP(S,A.fieldPath,S.startAt):CP(S,A.fieldPath,S.startAt);k.push(F.value),O&&(O=F.inclusive)}return new Qa(k,O)}(l,u),m=function(S,I){const k=[];let O=!0;for(const A of Ou(I)){const F=A.kind===0?CP(S,A.fieldPath,S.endAt):EP(S,A.fieldPath,S.endAt);k.push(F.value),O&&(O=F.inclusive)}return new Qa(k,O)}(l,u),_=this.Ze(u,l,g),C=this.Ze(u,l,m),w=this.tn(u,l,p),y=this.en(u.indexId,f,_,g.inclusive,C,m.inclusive,w);return $.forEach(y,S=>r.j(S,n.limit).next(I=>{I.forEach(k=>{const O=ue.fromSegments(k.documentKey);s.has(O)||(s=s.add(O),a.push(O))})}))}).next(()=>a)}return $.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,r,i,o,s,a){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),l=u/(n!=null?n.length:1),d=[];for(let f=0;f<u;++f){const p=n?this.nn(n[f/l]):Km,g=this.sn(e,p,r[f%l],i),m=this.rn(e,p,o[f%l],s),_=a.map(C=>this.sn(e,p,C,!0));d.push(...this.createRange(g,m,_))}return d}sn(e,n,r,i){const o=new Mu(e,ue.empty(),n,r);return i?o:o.Le()}rn(e,n,r,i){const o=new Mu(e,ue.empty(),n,r);return i?o.Le():o}Xe(e,n){const r=new Qme(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.Ge(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;return $.forEach(this.Ye(n),i=>this.Xe(e,i).next(o=>{o?r!==0&&o.fields.length<function(s){let a=new _t(sn.comparator),u=!1;for(const l of s.filters){const d=l;d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:a=a.add(d.field))}for(const l of s.orderBy)l.field.isKeyField()||(a=a.add(l.field));return a.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,n){const r=new Pf;for(const i of Ou(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Be(i.kind);Nu.ye.re(o,s)}return r.Me()}nn(e){const n=new Pf;return Nu.ye.re(e,n.Be(0)),n.Me()}un(e,n){const r=new Pf;return Nu.ye.re(pl(this.databaseId,n),r.Be(function(i){const o=Ou(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Me()}tn(e,n,r){if(r===null)return[];let i=[];i.push(new Pf);let o=0;for(const s of Ou(e)){const a=r[o++];for(const u of i)if(this.cn(n,s.fieldPath)&&mp(a))i=this.an(i,s,a);else{const l=u.Be(s.kind);Nu.ye.re(a,l)}}return this.hn(i)}Ze(e,n,r){return this.tn(e,n,r.position)}hn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Me();return n}an(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const u=new Pf;u.seed(a.Me()),Nu.ye.re(s,u.Be(n.kind)),o.push(u)}return o}cn(e,n){return!!e.filters.find(r=>r instanceof Yn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Vm(e),i=Mf(e);return(n?r.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.K()).next(o=>{const s=[];return $.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(l,d){const f=d?new My(d.sequenceNumber,new wi(wl(d.readTime),new ue(Ho(d.documentKey)),d.largestBatchId)):My.empty(),p=l.fields.map(([g,m])=>new Nge(sn.fromServerFormat(g),m));return new Qz(l.indexId,l.collectionGroup,p,f)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Le(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Vm(e),o=Mf(e);return this.ln(e).next(s=>i.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>$.forEach(a,u=>o.put(BP(u.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return $.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?$.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),$.forEach(a,u=>this.fn(e,i,u).next(l=>{const d=this.dn(o,u);return l.isEqual(d)?$.resolve():this._n(e,o,u,l,d)}))))})}wn(e,n,r,i){return Nf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,n.key),documentKey:n.key.path.toArray()})}mn(e,n,r,i){return Nf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,n.key),n.key.path.toArray()])}fn(e,n,r){const i=Nf(e);let o=new _t(Iu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,n)])},(s,a)=>{o=o.add(new Mu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}dn(e,n){let r=new _t(Iu);const i=this.on(n,e);if(i==null)return r;const o=lC(n);if(o!=null){const s=e.data.field(o.fieldPath);if(mp(s))for(const a of s.arrayValue.values||[])r=r.add(new Mu(n.indexId,e.key,this.nn(a),i))}else r=r.add(new Mu(n.indexId,e.key,Km,i));return r}_n(e,n,r,i,o){ee("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,u,l,d,f){const p=a.getIterator(),g=u.getIterator();let m=ic(p),_=ic(g);for(;m||_;){let C=!1,w=!1;if(m&&_){const y=l(m,_);y<0?w=!0:y>0&&(C=!0)}else m!=null?w=!0:C=!0;C?(d(_),_=ic(g)):w?(f(m),m=ic(p)):(m=ic(p),_=ic(g))}}(i,o,Iu,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.mn(e,n,r,a))}),$.waitFor(s)}ln(e){let n=1;return Mf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Iu(s,a)).filter((s,a,u)=>!a||Iu(s,u[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=Iu(s,e),u=Iu(s,n);if(a===0)i[0]=e.Le();else if(a>0&&u<0)i.push(s),i.push(s.Le());else if(u>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2)o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Km,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Km,[]]));return o}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(WP)}getMinOffset(e,n){return $.mapArray(this.Ye(n),r=>this.Xe(e,r).next(i=>i||me())).next(WP)}}function jP(t){return $n(t,"collectionParents")}function Nf(t){return $n(t,"indexEntries")}function Vm(t){return $n(t,"indexConfiguration")}function Mf(t){return $n(t,"indexState")}function WP(t){ke(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;WT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zr(e,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.J({range:s},(d,f,p)=>(a++,p.delete()));o.push(u.next(()=>{ke(a===1)}));const l=[];for(const d of n.mutations){const f=LK(e,d.key.path,n.batchId);o.push(i.delete(f)),l.push(d.key)}return $.waitFor(o).next(()=>l)}function Uy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw me();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);class Ww{constructor(e,n,r,i){this.userId=e,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,n,r,i){ke(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Ww(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ha(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=lc(e),s=ha(e);return s.add({}).next(a=>{ke(typeof a=="number");const u=new eD(a,n,r,i),l=function(p,g,m){const _=m.baseMutations.map(w=>_p(p.ne,w)),C=m.mutations.map(w=>_p(p.ne,w));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:_,mutations:C}}(this.wt,this.userId,u),d=[];let f=new _t((p,g)=>Le(p.canonicalString(),g.canonicalString()));for(const p of i){const g=LK(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),d.push(s.put(l)),d.push(o.put(g,Dme))}return f.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.gn[a]=u.keys()}),$.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return ha(e).get(n).next(r=>r?(ke(r.userId===this.userId),Pu(this.wt,r)):null)}yn(e,n){return this.gn[n]?$.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.gn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ha(e).J({index:"userMutationsIndex",range:i},(s,a,u)=>{a.userId===this.userId&&(ke(a.batchId>=r),o=Pu(this.wt,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ha(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ha(e).K("userMutationsIndex",n).next(r=>r.map(i=>Pu(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ev(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return lc(e).J({range:i},(s,a,u)=>{const[l,d,f]=s,p=Ho(d);if(l===this.userId&&n.path.isEqual(p))return ha(e).get(f).next(g=>{if(!g)throw me();ke(g.userId===this.userId),o.push(Pu(this.wt,g))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Le);const i=[];return n.forEach(o=>{const s=Ev(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=lc(e).J({range:a},(l,d,f)=>{const[p,g,m]=l,_=Ho(g);p===this.userId&&o.path.isEqual(_)?r=r.add(m):f.done()});i.push(u)}),$.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Ev(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new _t(Le);return lc(e).J({range:s},(u,l,d)=>{const[f,p,g]=u,m=Ho(p);f===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(g)):d.done()}).next(()=>this.pn(e,a))}pn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(ha(e).get(o).next(s=>{if(s===null)throw me();ke(s.userId===this.userId),r.push(Pu(this.wt,s))}))}),$.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return VK(e.ee,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),$.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return lc(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const u=Ho(o[1]);i.push(u)}else a.done()}).next(()=>{ke(i.length===0)})})}containsKey(e,n){return jK(e,this.userId,n)}Tn(e){return WK(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jK(t,e,n){const r=Ev(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return lc(t).J({range:o,H:!0},(a,u,l)=>{const[d,f,p]=a;d===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function ha(t){return $n(t,"mutations")}function lc(t){return $n(t,"documentMutations")}function WK(t){return $n(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new _l(0)}static Rn(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zme{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const r=new _l(n.highestTargetId);return n.highestTargetId=r.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>Te.fromTimestamp(new Wt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Pn(e,i)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(n,r),this.Pn(e,r))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>sc(e).delete(n.targetId)).next(()=>this.bn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return sc(e).J((s,a)=>{const u=Zf(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>$.waitFor(o)).next(()=>i)}forEachTarget(e,n){return sc(e).J((r,i)=>{const o=Zf(i);n(o)})}bn(e){return qP(e).get("targetGlobalKey").next(n=>(ke(n!==null),n))}Pn(e,n){return qP(e).put("targetGlobalKey",n)}vn(e,n){return sc(e).put(KK(this.wt,n))}Vn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=gl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return sc(e).J({range:i,index:"queryTargetsIndex"},(s,a,u)=>{const l=Zf(a);hg(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Sa(e);return n.forEach(s=>{const a=Or(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),$.waitFor(i)}removeMatchingKeys(e,n,r){const i=Sa(e);return $.forEach(n,o=>{const s=Or(o.path);return $.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Sa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Sa(e);let o=$e();return i.J({range:r,H:!0},(s,a,u)=>{const l=Ho(s[1]),d=new ue(l);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=Or(n.path),i=IDBKeyRange.bound([r],[Yz(r)],!1,!0);let o=0;return Sa(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],u,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}te(e,n){return sc(e).get(n).next(r=>r?Zf(r):null)}}function sc(t){return $n(t,"targets")}function qP(t){return $n(t,"targetGlobal")}function Sa(t){return $n(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class eve{constructor(e){this.Sn=e,this.buffer=new _t(GP),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tve{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Nn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return this.Nn!==null}kn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Nn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.kn(3e5)})}}class nve{constructor(e,n){this.Mn=e,this.params=n}calculateTargetCount(e,n){return this.Mn.On(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Wr.ot);const r=new eve(n);return this.Mn.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Mn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Mn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(HP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HP):this.$n(e,n))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,n){let r,i,o,s,a,u,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),uC()<=rt.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rve{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new nve(r,i)}(this,n)}On(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Bn(e){let n=0;return this.Fn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(r,i)=>n(i))}addReference(e,n,r){return jm(e,r)}removeReference(e,n,r){return jm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return jm(e,n)}Un(e,n){return function(r,i){let o=!1;return WK(r).Y(s=>jK(r,s,i).next(a=>(a&&(o=!0),$.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Ln(e,(s,a)=>{if(a<=n){const u=this.Un(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Te.min()),Sa(e).delete([0,Or(s.path)])))});i.push(u)}}).next(()=>$.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return jm(e,n)}Ln(e,n){const r=Sa(e);let i,o=Wr.ot;return r.J({index:"documentTargetsIndex"},([s,a],{path:u,sequenceNumber:l})=>{s===0?(o!==Wr.ot&&n(new ue(Ho(i)),o),o=l,i=u):o=Wr.ot}).next(()=>{o!==Wr.ot&&n(new ue(Ho(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jm(t,e){return Sa(t).put(function(n,r){return{targetId:0,path:Or(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(){this.changes=new du(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ive{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Tu(e).put(r)}removeEntry(e,n,r){return Tu(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],By(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.qn(e,r)))}getEntry(e,n){let r=Tt.newInvalidDocument(n);return Tu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(n))},(i,o)=>{r=this.Kn(n,o)}).next(()=>r)}Gn(e,n){let r={size:0,document:Tt.newInvalidDocument(n)};return Tu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(n))},(i,o)=>{r={document:this.Kn(n,o),size:Uy(o)}}).next(()=>r)}getEntries(e,n){let r=Hr();return this.Qn(e,n,(i,o)=>{const s=this.Kn(i,o);r=r.insert(i,s)}).next(()=>r)}jn(e,n){let r=Hr(),i=new Zt(ue.comparator);return this.Qn(e,n,(o,s)=>{const a=this.Kn(o,s);r=r.insert(o,a),i=i.insert(o,Uy(s))}).next(()=>({documents:r,Wn:i}))}Qn(e,n,r){if(n.isEmpty())return $.resolve();let i=new _t(XP);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(Ff(i.first()),Ff(i.last())),s=i.getIterator();let a=s.getNext();return Tu(e).J({index:"documentKeyIndex",range:o},(u,l,d)=>{const f=ue.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&XP(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?d.q(Ff(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),By(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tu(e).K(IDBKeyRange.bound(i,o,!0)).next(s=>{let a=Hr();for(const u of s){const l=this.Kn(ue.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(l.key,l)}return a})}getAllFromCollectionGroup(e,n,r,i){let o=Hr();const s=QP(n,r),a=QP(n,wi.max());return Tu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(u,l,d)=>{const f=this.Kn(ue.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new ove(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return YP(e).get("remoteDocumentGlobalKey").next(n=>(ke(!!n),n))}qn(e,n){return YP(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const r=jme(this.wt,n);if(!(r.isNoDocument()&&r.version.isEqual(Te.min())))return r}return Tt.newInvalidDocument(e)}}function qK(t){return new ive(t)}class ove extends HK{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new du(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new _t((o,s)=>Le(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.Hn.get(o);if(n.push(this.zn.removeEntry(e,o,a.readTime)),s.isValidDocument()){const u=LP(this.zn.wt,s);i=i.add(o.path.popLast()),r+=Uy(u)-a.size,n.push(this.zn.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){const u=LP(this.zn.wt,s.convertToNoDocument(Te.min()));n.push(this.zn.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.zn.updateMetadata(e,r)),$.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(r=>(this.Hn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:r,Wn:i})=>(i.forEach((o,s)=>{this.Hn.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function YP(t){return $n(t,"remoteDocumentGlobal")}function Tu(t){return $n(t,"remoteDocumentsV14")}function Ff(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QP(t,e){const n=e.documentKey.path.toArray();return[t,By(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Le(n[o],r[o]),i)return i;return i=Le(n.length,r.length),i||(i=Le(n[n.length-2],r[r.length-2]),i||Le(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Eh(r.mutation,i,mi.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=Wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Jf();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hr();const s=Ch(),a=Ch();return n.forEach((u,l)=>{const d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof ea)?o=o.insert(l.key,l):d!==void 0&&(s.set(l.key,d.mutation.getFieldMask()),Eh(d.mutation,l,d.mutation.getFieldMask(),Wt.now()))}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,d)=>s.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new sve(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ch();let i=new Zt((s,a)=>s-a),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let d=r.get(u)||mi.empty();d=a.applyToLocalView(l,d),r.set(u,d);const f=(i.get(a.batchId)||$e()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,d=u.value,f=bK();d.forEach(p=>{if(!o.has(p)){const g=yK(n.get(p),r.get(p));g!==null&&f.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):$.resolve(Wo());let a=-1,u=o;return s.next(l=>$.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?$.resolve():this.getBaseDocument(e,d,f).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,$e())).next(d=>({batchId:a,changes:CK(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Jf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Jf();return this.indexManager.getCollectionParents(e,i).next(s=>$.forEach(s,a=>{const u=function(l,d){return new Zs(d,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(o=>{o.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,Tt.newInvalidDocument(l)))});let s=Jf();return i.forEach((a,u)=>{const l=o.get(a);l!==void 0&&Eh(l.mutation,u,mi.empty(),Wt.now()),XT(n,u)&&(s=s.insert(a,u))}),s})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):$.resolve(Tt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ave{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return $.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:An(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:rD(r.bundledQuery),readTime:An(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(){this.overlays=new Zt(ue.comparator),this.Xn=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return $.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ie(e,n,o)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Zt((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=Wo(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=Wo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return $.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nD(n,r));let o=this.Xn.get(n);o===void 0&&(o=$e(),this.Xn.set(n,o)),this.Xn.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.Zn=new _t(Tn.ts),this.es=new _t(Tn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Tn(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new ue(new Ze([])),r=new Tn(n,e),i=new Tn(n,e+1),o=[];return this.es.forEachInRange([r,i],s=>{this.rs(s),o.push(s.key)}),o}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new ue(new Ze([])),r=new Tn(n,e),i=new Tn(n,e+1);let o=$e();return this.es.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Tn(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return ue.comparator(e.key,n.key)||Le(e.ls,n.ls)}static ns(e,n){return Le(e.ls,n.ls)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lve{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new _t(Tn.ts)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new eD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.ds=this.ds.add(new Tn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,n){return $.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),i=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([r,i],s=>{const a=this._s(s.ls);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Le);return n.forEach(i=>{const o=new Tn(i,0),s=new Tn(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,s],a=>{r=r.add(a.ls)})}),$.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new ue(o),0);let a=new _t(Le);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},s),$.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return $.forEach(n.mutations,i=>{const o=new Tn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new Tn(n,0),i=this.ds.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cve{constructor(e){this.ps=e,this.docs=new Zt(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tt.newInvalidDocument(i))}),$.resolve(r)}getAllFromCollection(e,n,r){let i=Hr();const o=new ue(n.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:a,value:{document:u}}=s.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||WT(Jz(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,i){me()}Is(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dve(this)}getSize(e){return $.resolve(this.size)}}class dve extends HK{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fve{constructor(e){this.persistence=e,this.Ts=new du(n=>gl(n),hg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Es=0,this.As=new oD,this.targetCount=0,this.Rs=_l.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),$.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.vn(n),$.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Ts.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Wr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new fve(this),this.indexManager=new Xme,this.remoteDocumentCache=function(r){return new cve(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new zK(n),this.Ds=new ave(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uve,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new lve(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new hve(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(o=>this.referenceDelegate.xs(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ns(e,n){return $.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class hve extends eK{constructor(e){super(),this.currentSequenceNumber=e}}class Hw{constructor(e){this.persistence=e,this.ks=new oD,this.Ms=null}static Os(e){return new Hw(e)}get Fs(){if(this.Ms)return this.Ms;throw me()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),$.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Fs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Ms=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Fs,r=>{const i=ue.fromPath(r);return this.$s(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return $.or([()=>$.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(e){this.wt=e}M(e,n,r,i){const o=new Uw("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FP,{unique:!0}),a.createObjectStore("documentMutations")}(e),JP(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=$.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),JP(e)),s=s.next(()=>function(a){const u=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(a,u){return u.store("mutations").K().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FP,{unique:!0});const d=u.store("mutations"),f=l.map(p=>d.put(p));return $.waitFor(f)})}(e,o))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Bs(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(o)))),r<7&&i>=7&&(s=s.next(()=>this.Us(o))),r<8&&i>=8&&(s=s.next(()=>this.qs(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Ks(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(a){const u=a.createObjectStore("documentOverlays",{keyPath:Bme});u.createIndex("collectionPathOverlayIndex",Ume,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",zme,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:kme});u.createIndex("documentKeyIndex",xme),u.createIndex("collectionGroupIndex",Ome)}(e)).next(()=>this.Gs(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.Qs(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Mme}).createIndex("sequenceNumberIndex",Fme,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:Lme}).createIndex("documentKeyIndex",$me,{unique:!1})}(e))),s}Ls(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Uy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next(i=>$.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",s).next(a=>$.forEach(a,u=>{ke(u.userId===o.userId);const l=Pu(this.wt,u);return VK(e,o.userId,l).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const u=new Ze(s),l=function(d){return[0,Or(d)]}(u);o.push(n.get(l).next(d=>d?$.resolve():(f=>n.put({targetId:0,path:Or(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>$.waitFor(o))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:Nme});const r=n.store("collectionParents"),i=new iD,o=s=>{if(i.add(s)){const a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:Or(u)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const u=new Ze(s);return o(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,u],l)=>{const d=Ho(a);return o(d.popLast())}))}Ks(e){const n=e.store("targets");return n.J((r,i)=>{const o=Zf(i),s=KK(this.wt,o);return n.put(s)})}Gs(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),u=(l=s,l.document?new ue(Ze.fromString(l.document.name).popFirst(5)):l.noDocument?ue.fromSegments(l.noDocument.path):l.unknownDocument?ue.fromSegments(l.unknownDocument.path):me()).path.toArray();var l;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(d))}).next(()=>$.waitFor(i))}Qs(e,n){const r=n.store("mutations"),i=qK(this.wt),o=new YK(Hw.Os,this.wt.ne);return r.K().next(s=>{const a=new Map;return s.forEach(u=>{var l;let d=(l=a.get(u.userId))!==null&&l!==void 0?l:$e();Pu(this.wt,u).keys().forEach(f=>d=d.add(f)),a.set(u.userId,d)}),$.forEach(a,(u,l)=>{const d=new kn(l),f=jw.se(this.wt,d),p=o.getIndexManager(d),g=Ww.se(d,this.wt,p,o.referenceDelegate);return new GK(i,g,f,p).recalculateAndSaveOverlaysForDocumentKeys(new gC(n,Wr.ot),u).next()})})}}function JP(t){t.createObjectStore("targetDocuments",{keyPath:Rme}).createIndex("documentTargetsIndex",Pme,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ame,{unique:!0}),t.createObjectStore("targetGlobal")}const QS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sD{constructor(e,n,r,i,o,s,a,u,l,d,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=o,this.window=s,this.document=a,this.Ws=l,this.zs=d,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=p=>Promise.resolve(),!sD.V())throw new Z(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rve(this,i),this.ei=n+"main",this.wt=new zK(u),this.ni=new co(this.ei,this.Hs,new pve(this.wt)),this.Vs=new Zme(this.referenceDelegate,this.wt),this.remoteDocumentCache=qK(this.wt),this.Ds=new Wme,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,d===!1&&on("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Z(U.FAILED_PRECONDITION,QS);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Wr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){return this.ti=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(async()=>{this.started&&await this.ii()}))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(cu(e))return ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Lf(e).get("owner").next(n=>$.resolve(this.di(n)))}_i(e){return Wm(e).delete(this.clientId)}async wi(){if(this.isPrimary&&!this.mi(this.Zs,18e5)){this.Zs=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=$n(n,"clientMetadata");return r.K().next(i=>{const o=this.gi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return $.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.si)for(const n of e)this.si.removeItem(this.yi(n.clientId))}}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?$.resolve(!0):Lf(e).get("owner").next(n=>{if(n!==null&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new Z(U.FAILED_PRECONDITION,QS);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wm(e).K().next(r=>this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ee("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),await this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new gC(e,Wr.ot);return this.li(n).next(()=>this._i(n))}),this.ni.close(),this.Ai()}gi(e,n){return e.filter(r=>this.mi(r.updateTimeMs,n)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Wm(e).K().next(n=>this.gi(n,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return Ww.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jme(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return jw.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,r){ee("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(s=this.Hs)===15?Vme:s===14?UK:s===13?BK:s===12?Kme:s===11?$K:void me();var s;let a;return this.ni.runTransaction(e,i,o,u=>(a=new gC(u,this.Ps?this.Ps.next():Wr.ot),n==="readwrite-primary"?this.ai(a).next(l=>!!l||this.hi(a)).next(l=>{if(!l)throw on(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Z(U.FAILED_PRECONDITION,Zz);return r(a)}).next(l=>this.fi(a).next(()=>l)):this.bi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}bi(e){return Lf(e).get("owner").next(n=>{if(n!==null&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Z(U.FAILED_PRECONDITION,QS)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lf(e).put("owner",n)}static V(){return co.V()}li(e){const n=Lf(e);return n.get("owner").next(r=>this.di(r)?(ee("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$.resolve())}mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(on(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground=this.document.visibilityState==="visible")}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Js=()=>{this.Ii(),F4()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const r=((n=this.si)===null||n===void 0?void 0:n.getItem(this.yi(e)))!==null;return ee("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return on("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){on("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lf(t){return $n(t,"owner")}function Wm(t){return $n(t,"clientMetadata")}function aD(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=$e(),i=$e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uD(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(o=>o||this.xi(e,n,i,r)).next(o=>o||this.Ni(e,n))}Ci(e,n){if(TP(n))return $.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$y(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=$e(...o);return this.Di.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ki(n,a);return this.Mi(n,l,s,u.readTime)?this.Ci(e,$y(n,null,"F")):this.Oi(e,l,n,u)}))})))}xi(e,n,r,i){return TP(n)||i.isEqual(Te.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(o=>{const s=this.ki(n,o);return this.Mi(n,s,r,i)?this.Ni(e,n):(uC()<=rt.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fC(n)),this.Oi(e,s,n,Xz(i,-1)))})}ki(e,n){let r=new _t(cK(e));return n.forEach((i,o)=>{XT(e,o)&&(r=r.add(o))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ni(e,n){return uC()<=rt.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",fC(n)),this.Di.getDocumentsMatchingQuery(e,n,wi.min())}Oi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gve{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new Zt(Le),this.Bi=new du(o=>gl(o),hg),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GK(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function XK(t,e,n,r){return new gve(t,e,n,r)}async function JK(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=$e();for(const l of i){s.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:s,addedBatchIds:a}))})})}function mve(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ui.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){const d=u.batch,f=d.keys();let p=$.resolve();return f.forEach(g=>{p=p.next(()=>l.getEntry(a,g)).next(m=>{const _=u.docVersions.get(g);ke(_!==null),m.version.compareTo(_)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),l.addEntry(m)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=$e();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZK(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function vve(t,e){const n=le(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Vs.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Vs.addMatchingKeys(o,d.addedDocuments,f)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(f)?g=g.withResumeToken(Cn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(m,_,C){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(p,g,d)&&a.push(n.Vs.updateTargetData(o,g))});let u=Hr(),l=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(e3(o,s,e.documentUpdates).next(d=>{u=d.Gi,l=d.Qi})),!r.isEqual(Te.min())){const d=n.Vs.getLastRemoteSnapshotVersion(o).next(f=>n.Vs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.$i=i,o))}function e3(t,e,n){let r=$e(),i=$e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hr();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Gi:s,Qi:i}})}function yve(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fd(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):n.Vs.allocateTargetId(r).next(s=>(i=new za(e,s,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function hd(t,e,n){const r=le(t),i=r.$i.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!cu(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function zy(t,e,n){const r=le(t);let i=Te.min(),o=$e();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,l){const d=le(a),f=d.Bi.get(l);return f!==void 0?$.resolve(d.$i.get(f)):d.Vs.getTargetData(u,l)}(r,s,Qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(s,e,n?i:Te.min(),n?o:$e())).next(a=>(r3(r,lK(e),a),{documents:a,ji:o})))}function t3(t,e){const n=le(t),r=le(n.Vs),i=n.$i.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.te(o,e).next(s=>s?s.target:null))}function n3(t,e){const n=le(t),r=n.Li.get(e)||Te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ui.getAllFromCollectionGroup(i,e,Xz(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(r3(n,e,i),i))}function r3(t,e,n){let r=Te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Li.set(e,r)}async function wve(t,e,n,r){const i=le(t);let o=$e(),s=Hr();for(const l of n){const d=e.Wi(l.metadata.name);l.document&&(o=o.add(d));const f=e.zi(l);f.setReadTime(e.Hi(l.metadata.readTime)),s=s.insert(d,f)}const a=i.Ui.newChangeBuffer({trackRemovals:!0}),u=await fd(i,function(l){return Qr(Pd(Ze.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>e3(l,a,s).next(d=>(a.apply(l),d)).next(d=>i.Vs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Vs.addMatchingKeys(l,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.Gi,d.Qi)).next(()=>d.Gi)))}async function _ve(t,e,n=$e()){const r=await fd(t,Qr(rD(e.bundledQuery))),i=le(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=An(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ds.saveNamedQuery(o,e);const a=r.withResumeToken(Cn.EMPTY_BYTE_STRING,s);return i.$i=i.$i.insert(a.targetId,a),i.Vs.updateTargetData(o,a).next(()=>i.Vs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Vs.addMatchingKeys(o,n,r.targetId)).next(()=>i.Ds.saveNamedQuery(o,e))})}function ZP(t,e){return`firestore_clients_${t}_${e}`}function eN(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function XS(t,e){return`firestore_targets_${t}_${e}`}class Ky{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ji(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new Z(i.error.code,i.error.message))),s?new Ky(e,n,i.state,o):(on("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ji(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new Z(r.error.code,r.error.message))),o?new bh(e,r.state,i):(on("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Vw();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=rK(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new Vy(e,o):(on("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class lD{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new lD(n.clientId,n.onlineState):(on("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mC{constructor(){this.activeTargetIds=Vw()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JS{constructor(e,n,r,i,o){this.window=e,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zt(Le),this.started=!1,this.ir=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=ZP(this.persistenceKey,this.tr),this.ur=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new mC),this.cr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.lr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.dr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ri();for(const r of e){if(r===this.tr)continue;const i=this.getItem(ZP(this.persistenceKey,r));if(i){const o=Vy.Ji(r,i);o&&(this.sr=this.sr.insert(o.clientId,o))}}this._r();const n=this.storage.getItem(this.lr);if(n){const r=this.wr(n);r&&this.mr(r)}for(const r of this.ir)this.nr(r);this.ir=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,r){this.yr(e,n,r),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(XS(this.persistenceKey,e));if(r){const i=bh.Ji(e,r);i&&(n=i.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(XS(this.persistenceKey,e))}updateQueryState(e,n,r){this.Tr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ee("SharedClientState","READ",e,n),n}setItem(e,n){ee("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){const n=e;if(n.storageArea===this.storage){if(ee("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void on("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.cr.test(n.key)){if(n.newValue==null){const r=this.Rr(n.key);return this.br(r,null)}{const r=this.Pr(n.key,n.newValue);if(r)return this.br(r.clientId,r)}}else if(this.ar.test(n.key)){if(n.newValue!==null){const r=this.vr(n.key,n.newValue);if(r)return this.Vr(r)}}else if(this.hr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(n.key===this.lr){if(n.newValue!==null){const r=this.wr(n.newValue);if(r)return this.mr(r)}}else if(n.key===this.ur){const r=function(i){let o=Wr.ot;if(i!=null)try{const s=JSON.parse(i);ke(typeof s=="number"),o=s}catch(s){on("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);r!==Wr.ot&&this.sequenceNumberHandler(r)}else if(n.key===this.dr){const r=this.Cr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Nr(i)))}}}else this.ir.push(n)})}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,r){const i=new Ky(this.currentUser,e,n,r),o=eN(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Yi())}pr(e){const n=eN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){const n={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(n))}Tr(e,n,r){const i=XS(this.persistenceKey,e),o=new bh(e,n,r);this.setItem(i,o.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const r=this.Rr(e);return Vy.Ji(r,n)}vr(e,n){const r=this.ar.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ky.Ji(new kn(o),i,n)}Sr(e,n){const r=this.hr.exec(e),i=Number(r[1]);return bh.Ji(i,n)}wr(e){return lD.Ji(e)}Cr(e){return JSON.parse(e)}async Vr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.kr(e.batchId,e.state,e.error);ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,n){const r=n?this.sr.insert(e,n):this.sr.remove(e),i=this.gr(this.sr),o=this.gr(r),s=[],a=[];return o.forEach(u=>{i.has(u)||s.push(u)}),i.forEach(u=>{o.has(u)||a.push(u)}),this.syncEngine.Or(s,a).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=Vw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class i3{constructor(){this.Fr=new mC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new mC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cve{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,o){const s=this.oo(e,n);ee("RestConnection","Sending: ",s,r);const a={};return this.uo(a,i,o),this.co(e,s,a,r).then(u=>(ee("RestConnection","Received: ",u),u),u=>{throw ad("RestConnection",`${e} failed with error: `,u,"url: ",s,"request:",r),u})}ao(e,n,r,i,o,s){return this.ro(e,n,r,i,o)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}oo(e,n){const r=Eve[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((o,s)=>{const a=new Ege;a.listenOnce(wge.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case GS.NO_ERROR:const l=a.getResponseJson();ee("Connection","XHR received:",JSON.stringify(l)),o(l);break;case GS.TIMEOUT:ee("Connection",'RPC "'+e+'" timed out'),s(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case GS.HTTP_ERROR:const d=a.getStatus();if(ee("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){const f=a.getResponseJson().error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(m)>=0?m:U.UNKNOWN}(f.status);s(new Z(p,f.message))}else s(new Z(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Z(U.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ee("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vge(),s=yge(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Sge({})),this.uo(a.initMessageHeaders,n,r),sL()||x0()||N4()||Jb()||M4()||Xb()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");ee("Connection","Creating WebChannel: "+u,a);const l=o.createWebChannel(u,a);let d=!1,f=!1;const p=new Cve({jr:m=>{f?ee("Connection","Not sending because WebChannel is closed:",m):(d||(ee("Connection","Opening WebChannel transport."),l.open(),d=!0),ee("Connection","WebChannel sending:",m),l.send(m))},Wr:()=>l.close()}),g=(m,_,C)=>{m.listen(_,w=>{try{C(w)}catch(y){setTimeout(()=>{throw y},0)}})};return g(l,Um.EventType.OPEN,()=>{f||ee("Connection","WebChannel transport opened.")}),g(l,Um.EventType.CLOSE,()=>{f||(f=!0,ee("Connection","WebChannel transport closed"),p.eo())}),g(l,Um.EventType.ERROR,m=>{f||(f=!0,ad("Connection","WebChannel transport errored:",m),p.eo(new Z(U.UNAVAILABLE,"The operation could not be completed")))}),g(l,Um.EventType.MESSAGE,m=>{var _;if(!f){const C=m.data[0];ke(!!C);const w=C,y=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(y){ee("Connection","WebChannel received error:",y);const S=y.status;let I=function(O){const A=cn[O];if(A!==void 0)return SK(A)}(S),k=y.message;I===void 0&&(I=U.INTERNAL,k="Unknown error status: "+S+" with message "+y.message),f=!0,p.eo(new Z(I,k)),l.close()}else ee("Connection","WebChannel received:",C),p.no(C)}}),g(s,_ge.STAT_EVENT,m=>{m.stat===dP.PROXY?ee("Connection","Detected buffering proxy"):m.stat===dP.NOPROXY&&ee("Connection","Detected no buffering proxy")}),setTimeout(()=>{p.Zr()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){return typeof window!="undefined"?window:null}function Cv(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){return new gme(t,!0)}class cD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i,o,s,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new cD(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}async Mo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(on(n.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ive extends s3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.wt=o}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=yme(this.wt,e),r=function(i){if(!("targetChange"in i))return Te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?An(o.readTime):Te.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=wp(this.wt),n.addTarget=function(i,o){let s;const a=o.target;return s=Fy(a)?{documents:RK(i,a)}:{query:PK(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=DK(i,o.resumeToken):o.snapshotVersion.compareTo(Te.min())>0&&(s.readTime=vp(i,o.snapshotVersion.toTimestamp())),s}(this.wt,e);const r=_me(this.wt,e);r&&(n.labels=r),this.Oo(n)}jo(e){const n={};n.database=wp(this.wt),n.removeTarget=e,this.Oo(n)}}class Tve extends s3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=wme(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.Jo(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=wp(this.wt),this.Oo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_p(this.wt,r))};this.Oo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dve extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ro(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(U.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.bo.ao(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class kve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(on(n),this.su=!1):ee("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xve{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(s=>{r.enqueueAndForget(async()=>{fu(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=le(a);u.lu.add(4),await Fd(u),u._u.set("Unknown"),u.lu.delete(4),await wg(u)}(this))})}),this._u=new kve(r,i)}}async function wg(t){if(fu(t))for(const e of t.fu)await e(!0)}async function Fd(t){for(const e of t.fu)await e(!1)}function qw(t,e){const n=le(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),hD(n)?fD(n):$d(n).Co()&&dD(n,e))}function Sp(t,e){const n=le(t),r=$d(n);n.hu.delete(e),r.Co()&&a3(n,e),n.hu.size===0&&(r.Co()?r.ko():fu(n)&&n._u.set("Unknown"))}function dD(t,e){t.wu.Nt(e.targetId),$d(t).Qo(e)}function a3(t,e){t.wu.Nt(e),$d(t).jo(e)}function fD(t){t.wu=new fme({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),$d(t).start(),t._u.iu()}function hD(t){return fu(t)&&!$d(t).Do()&&t.hu.size>0}function fu(t){return le(t).lu.size===0}function u3(t){t.wu=void 0}async function Ove(t){t.hu.forEach((e,n)=>{dD(t,e)})}async function Ave(t,e){u3(t),hD(t)?(t._u.uu(e),fD(t)):t._u.set("Unknown")}async function Rve(t,e,n){if(t._u.set("Online"),e instanceof TK&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.hu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.hu.delete(s),r.wu.removeTarget(s))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jy(t,r)}else if(e instanceof Sv?t.wu.Ut(e):e instanceof IK?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Te.min()))try{const r=await ZK(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.wu.Yt(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(Cn.EMPTY_BYTE_STRING,u.snapshotVersion)),a3(i,a);const l=new za(u.target,a,1,u.sequenceNumber);dD(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await jy(t,r)}}async function jy(t,e,n){if(!cu(e))throw e;t.lu.add(1),await Fd(t),t._u.set("Offline"),n||(n=()=>ZK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await wg(t)})}function l3(t,e){return e().catch(n=>jy(t,n,e))}async function Ld(t){const e=le(t),n=Xa(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Pve(e);)try{const i=await yve(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,Nve(e,i)}catch(i){await jy(e,i)}c3(e)&&d3(e)}function Pve(t){return fu(t)&&t.au.length<10}function Nve(t,e){t.au.push(e);const n=Xa(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function c3(t){return fu(t)&&!Xa(t).Do()&&t.au.length>0}function d3(t){Xa(t).start()}async function Mve(t){Xa(t).Xo()}async function Fve(t){const e=Xa(t);for(const n of t.au)e.Ho(n.mutations)}async function Lve(t,e,n){const r=t.au.shift(),i=tD.from(r,e,n);await l3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ld(t)}async function $ve(t,e){e&&Xa(t).zo&&await async function(n,r){if(i=r.code,_K(i)&&i!==U.ABORTED){const o=n.au.shift();Xa(n).No(),await l3(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ld(n)}var i}(t,e),c3(t)&&d3(t)}async function nN(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=fu(n);n.lu.add(3),await Fd(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await wg(n)}async function vC(t,e){const n=le(t);e?(n.lu.delete(2),await wg(n)):e||(n.lu.add(2),await Fd(n),n._u.set("Unknown"))}function $d(t){return t.mu||(t.mu=function(e,n,r){const i=le(e);return i.tu(),new Ive(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:Ove.bind(null,t),Jr:Ave.bind(null,t),Go:Rve.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),hD(t)?fD(t):t._u.set("Unknown")):(await t.mu.stop(),u3(t))})),t.mu}function Xa(t){return t.gu||(t.gu=function(e,n,r){const i=le(e);return i.tu(),new Tve(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:Mve.bind(null,t),Jr:$ve.bind(null,t),Yo:Fve.bind(null,t),Jo:Lve.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await Ld(t)):(await t.gu.stop(),t.au.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new pD(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(t,e){if(on("AsyncQueue",`${e}: ${t}`),cu(t))return new Z(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Jf(),this.sortedSet=new Zt(this.comparator)}static emptySet(e){return new Gc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.yu=new Zt(ue.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):me():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class pd{constructor(e,n,r,i,o,s,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new pd(e,n,Gc.emptySet(n),o,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bve{constructor(){this.Iu=void 0,this.listeners=[]}}class Uve{constructor(){this.queries=new du(e=>uK(e),pg),this.onlineState="Unknown",this.Tu=new Set}}async function gD(t,e){const n=le(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Bve),i)try{o.Iu=await n.onListen(r)}catch(s){const a=Bd(s,`Initialization of query '${fC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Eu(n.onlineState),o.Iu&&e.Au(o.Iu)&&vD(n)}async function mD(t,e){const n=le(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function zve(t,e){const n=le(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.Au(i)&&(r=!0);s.Iu=i}}r&&vD(n)}function Kve(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function vD(t){t.Tu.forEach(e=>{e.next()})}class yD{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vve{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.wt=e}Wi(e){return Xo(this.wt,e)}zi(e){return e.metadata.exists?AK(this.wt,e.document,!1):Tt.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return An(e)}}class jve{constructor(e,n,r){this.xu=e,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f3(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const r=Ze.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,r=new iN(this.wt);for(const i of e)if(i.metadata.queries){const o=r.Wi(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||$e()).add(o);n.set(s,a)}}return n}async complete(){const e=await wve(this.localStore,new iN(this.wt),this.documents,this.xu.id),n=this.ku(this.documents);for(const r of this.queries)await _ve(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:e}}}function f3(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.key=e}}class p3{constructor(e){this.key=e}}class g3{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=$e(),this.mutatedKeys=$e(),this.Lu=cK(e),this.Uu=new Gc(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new rN,i=n?n.Uu:this.Uu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=XT(this.query,f)?f:null,m=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?m!==_&&(r.track({type:3,doc:g}),C=!0):this.Qu(p,g)||(r.track({type:2,doc:g}),C=!0,(u&&this.Lu(g,u)>0||l&&this.Lu(g,l)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),C=!0):p&&!g&&(r.track({type:1,doc:p}),C=!0,(u||l)&&(a=!0)),C&&(g?(s=s.add(g),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Uu:s,Gu:r,Mi:a,mutatedKeys:o}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const o=e.Gu.pu();o.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return g(f)-g(p)}(l.type,d.type)||this.Lu(l.doc,d.doc)),this.ju(r);const s=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,u=a!==this.$u;return this.$u=a,o.length!==0||u?{snapshot:new pd(this.query,e.Uu,i,o,e.mutatedKeys,a===0,u,!1),zu:s}:{zu:s}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new rN,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=$e(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new p3(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new h3(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=$e();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return pd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class Wve{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hve{constructor(e){this.key=e,this.Xu=!1}}class qve{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new du(a=>uK(a),pg),this.ec=new Map,this.nc=new Set,this.sc=new Zt(ue.comparator),this.ic=new Map,this.rc=new oD,this.oc={},this.uc=new Map,this.cc=_l.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function Gve(t,e){const n=CD(t);let r,i;const o=n.tc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Yu();else{const s=await fd(n.localStore,Qr(e));n.isPrimaryClient&&qw(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await wD(n,e,r,a==="current")}return i}async function wD(t,e,n,r){t.hc=(d,f,p)=>async function(g,m,_,C){let w=m.view.Ku(_);w.Mi&&(w=await zy(g.localStore,m.query,!1).then(({documents:I})=>m.view.Ku(I,w)));const y=C&&C.targetChanges.get(m.targetId),S=m.view.applyChanges(w,g.isPrimaryClient,y);return yC(g,m.targetId,S.zu),S.snapshot}(t,d,f,p);const i=await zy(t.localStore,e,!0),o=new g3(e,i.ji),s=o.Ku(i.documents),a=vg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),u=o.applyChanges(s,t.isPrimaryClient,a);yC(t,n,u.zu);const l=new Wve(e,n,o);return t.tc.set(e,l),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}async function Yve(t,e){const n=le(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(o=>!pg(o,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await hd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Sp(n.remoteStore,r.targetId),gd(n,r.targetId)}).catch(lu)):(gd(n,r.targetId),await hd(n.localStore,r.targetId,!0))}async function Qve(t,e,n){const r=bD(t);try{const i=await function(o,s){const a=le(o),u=Wt.now(),l=s.reduce((p,g)=>p.add(g.key),$e());let d,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Hr(),m=$e();return a.Ui.getEntries(p,l).next(_=>{g=_,g.forEach((C,w)=>{w.isValidDocument()||(m=m.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(_=>{d=_;const C=[];for(const w of s){const y=sme(w,d.get(w.key).overlayedDocument);y!=null&&C.push(new ea(w.key,y,oK(y.value.mapValue),qt.exists(!0)))}return a.mutationQueue.addMutationBatch(p,u,C,s)}).next(_=>{f=_;const C=_.applyToLocalDocumentSet(d,m);return a.documentOverlayCache.saveOverlays(p,_.batchId,C)})}).then(()=>({batchId:f.batchId,changes:CK(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.oc[o.currentUser.toKey()];u||(u=new Zt(Le)),u=u.insert(s,a),o.oc[o.currentUser.toKey()]=u}(r,i.batchId,n),await ta(r,i.changes),await Ld(r.remoteStore)}catch(i){const o=Bd(i,"Failed to persist write");n.reject(o)}}async function m3(t,e){const n=le(t);try{const r=await vve(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ic.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Xu=!0:i.modifiedDocuments.size>0?ke(s.Xu):i.removedDocuments.size>0&&(ke(s.Xu),s.Xu=!1))}),await ta(n,r,e)}catch(r){await lu(r)}}function oN(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((o,s)=>{const a=s.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=le(o);a.onlineState=s;let u=!1;a.queries.forEach((l,d)=>{for(const f of d.listeners)f.Eu(s)&&(u=!0)}),u&&vD(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xve(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),o=i&&i.key;if(o){let s=new Zt(ue.comparator);s=s.insert(o,Tt.newNoDocument(o,Te.min()));const a=$e().add(o),u=new mg(Te.min(),new Map,new _t(Le),s,a);await m3(r,u),r.sc=r.sc.remove(o),r.ic.delete(e),ED(r)}else await hd(r.localStore,e,!1).then(()=>gd(r,e,n)).catch(lu)}async function Jve(t,e){const n=le(t),r=e.batch.batchId;try{const i=await mve(n.localStore,e);SD(n,r,null),_D(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ta(n,i)}catch(i){await lu(i)}}async function Zve(t,e,n){const r=le(t);try{const i=await function(o,s){const a=le(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,s).next(d=>(ke(d!==null),l=d.keys(),a.mutationQueue.removeMutationBatch(u,d))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);SD(r,e,n),_D(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ta(r,i)}catch(i){await lu(i)}}async function eye(t,e){const n=le(t);fu(n.remoteStore)||ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const s=le(o);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>s.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.uc.get(r)||[];i.push(e),n.uc.set(r,i)}catch(r){const i=Bd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function _D(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function SD(t,e,n){const r=le(t);let i=r.oc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function gd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||v3(t,r)})}function v3(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(Sp(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),ED(t))}function yC(t,e,n){for(const r of n)r instanceof h3?(t.rc.addReference(r.key,e),tye(t,r)):r instanceof p3?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||v3(t,r.key)):me()}function tye(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.nc.add(r),ED(t))}function ED(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new ue(Ze.fromString(e)),r=t.cc.next();t.ic.set(r,new Hve(n)),t.sc=t.sc.insert(n,r),qw(t.remoteStore,new za(Qr(Pd(n.path)),r,2,Wr.ot))}}async function ta(t,e,n){const r=le(t),i=[],o=[],s=[];r.tc.isEmpty()||(r.tc.forEach((a,u)=>{s.push(r.hc(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const d=uD.Vi(u.targetId,l);o.push(d)}}))}),await Promise.all(s),r.Zu.Go(i),await async function(a,u){const l=le(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,f=>$.forEach(f.Pi,p=>l.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>$.forEach(f.vi,p=>l.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!cu(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=l.$i.get(f),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);l.$i=l.$i.insert(f,m)}}}(r.localStore,o))}async function nye(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await JK(n.localStore,e);n.currentUser=e,function(i,o){i.uc.forEach(s=>{s.forEach(a=>{a.reject(new Z(U.CANCELLED,o))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ta(n,r.Ki)}}function rye(t,e){const n=le(t),r=n.ic.get(e);if(r&&r.Xu)return $e().add(r.key);{let i=$e();const o=n.ec.get(e);if(!o)return i;for(const s of o){const a=n.tc.get(s);i=i.unionWith(a.view.qu)}return i}}async function iye(t,e){const n=le(t),r=await zy(n.localStore,e.query,!0),i=e.view.Ju(r);return n.isPrimaryClient&&yC(n,e.targetId,i.zu),i}async function oye(t,e){const n=le(t);return n3(n.localStore,e).then(r=>ta(n,r))}async function sye(t,e,n,r){const i=le(t),o=await function(s,a){const u=le(s),l=le(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>l.yn(d,a).next(f=>f?u.localDocuments.getDocuments(d,f):$.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Ld(i.remoteStore):n==="acknowledged"||n==="rejected"?(SD(i,e,r||null),_D(i,e),function(s,a){le(le(s).mutationQueue).In(a)}(i.localStore,e)):me(),await ta(i,o)):ee("SyncEngine","Cannot apply mutation batch with id: "+e)}async function aye(t,e){const n=le(t);if(CD(n),bD(n),e===!0&&n.ac!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await sN(n,r.toArray());n.ac=!0,await vC(n.remoteStore,!0);for(const o of i)qw(n.remoteStore,o)}else if(e===!1&&n.ac!==!1){const r=[];let i=Promise.resolve();n.ec.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(gd(n,s),hd(n.localStore,s,!0))),Sp(n.remoteStore,s)}),await i,await sN(n,r),function(o){const s=le(o);s.ic.forEach((a,u)=>{Sp(s.remoteStore,u)}),s.rc.cs(),s.ic=new Map,s.sc=new Zt(ue.comparator)}(n),n.ac=!1,await vC(n.remoteStore,!1)}}async function sN(t,e,n){const r=le(t),i=[],o=[];for(const s of e){let a;const u=r.ec.get(s);if(u&&u.length!==0){a=await fd(r.localStore,Qr(u[0]));for(const l of u){const d=r.tc.get(l),f=await iye(r,d);f.snapshot&&o.push(f.snapshot)}}else{const l=await t3(r.localStore,s);a=await fd(r.localStore,l),await wD(r,y3(l),s,!1)}i.push(a)}return r.Zu.Go(o),i}function y3(t){return aK(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uye(t){const e=le(t);return le(le(e.localStore).persistence).Ri()}async function lye(t,e,n,r){const i=le(t);if(i.ac)return void ee("SyncEngine","Ignoring unexpected query state notification.");const o=i.ec.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await n3(i.localStore,lK(o[0])),a=mg.createSynthesizedRemoteEventForCurrentChange(e,n==="current");await ta(i,s,a);break}case"rejected":await hd(i.localStore,e,!0),gd(i,e,r);break;default:me()}}async function cye(t,e,n){const r=CD(t);if(r.ac){for(const i of e){if(r.ec.has(i)){ee("SyncEngine","Adding an already active target "+i);continue}const o=await t3(r.localStore,i),s=await fd(r.localStore,o);await wD(r,y3(o),s.targetId,!1),qw(r.remoteStore,s)}for(const i of n)r.ec.has(i)&&await hd(r.localStore,i,!1).then(()=>{Sp(r.remoteStore,i),gd(r,i)}).catch(lu)}}function CD(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xve.bind(null,e),e.Zu.Go=zve.bind(null,e.eventManager),e.Zu.lc=Kve.bind(null,e.eventManager),e}function bD(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jve.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zve.bind(null,e),e}function dye(t,e,n){const r=le(t);(async function(i,o,s){try{const a=await o.getMetadata();if(await function(f,p){const g=le(f),m=An(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",_=>g.Ds.getBundleMetadata(_,p.id)).then(_=>!!_&&_.createTime.compareTo(m)>=0)}(i.localStore,a))return await o.close(),s._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(a)),Promise.resolve(new Set);s._updateProgress(f3(a));const u=new jve(a,i.localStore,o.wt);let l=await o.fc();for(;l;){const f=await u.Nu(l);f&&s._updateProgress(f),l=await o.fc()}const d=await u.complete();return await ta(i,d.Ou,void 0),await function(f,p){const g=le(f);return g.persistence.runTransaction("Save bundle","readwrite",m=>g.Ds.saveBundleMetadata(m,p))}(i.localStore,a),s._completeWith(d.progress),Promise.resolve(d.Mu)}catch(a){return ad("SyncEngine",`Loading bundle failed with ${a}`),s._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class w3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=yg(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return XK(this.persistence,new QK,e.initialUser,this.wt)}_c(e){return new YK(Hw.Os,this.wt)}dc(e){return new i3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _3 extends w3{constructor(e,n,r){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.yc.initialize(this,e),await bD(this.yc.syncEngine),await Ld(this.yc.remoteStore),await this.persistence.ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wc(e){return XK(this.persistence,new QK,e.initialUser,this.wt)}mc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new tve(r,e.asyncQueue,n)}gc(e,n){const r=new $ge(n,this.persistence);return new Lge(e.asyncQueue,r)}_c(e){const n=aD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new sD(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,o3(),Cv(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new i3}}class fye extends _3{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.yc.syncEngine;this.sharedClientState instanceof JS&&(this.sharedClientState.syncEngine={kr:sye.bind(null,n),Mr:lye.bind(null,n),Or:cye.bind(null,n),Ri:uye.bind(null,n),Nr:oye.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ci(async r=>{await aye(this.yc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}dc(e){const n=o3();if(!JS.V(n))throw new Z(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class ID{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nye.bind(null,this.syncEngine),await vC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Uve}createDatastore(e){const n=yg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new bve(i));var i;return function(o,s,a,u){return new Dve(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>oN(this.syncEngine,a,0),s=tN.V()?new tN:new Sve,new xve(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,l){const d=new qve(r,i,o,s,a,u);return l&&(d.ac=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=le(e);ee("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Fd(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):on("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hye{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new On,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}async getMetadata(){return this.metadata.promise}async fc(){return await this.getMetadata(),this.Rc()}async Rc(){const e=await this.bc();if(e===null)return null;const n=this.Ac.decode(e),r=Number(n);isNaN(r)&&this.Pc(`length string (${n}) is not valid number`);const i=await this.vc(r);return new Vve(JSON.parse(i),e.length+r)}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async bc(){for(;this.Vc()<0&&!await this.Sc(););if(this.buffer.length===0)return null;const e=this.Vc();e<0&&this.Pc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async vc(e){for(;this.buffer.length<e;)await this.Sc()&&this.Pc("Reached the end of bundle when more is expected.");const n=this.Ac.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}async Sc(){const e=await this.Ec.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Z(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const o=le(r),s=wp(o.wt)+"/documents",a={documents:i.map(f=>yp(o.wt,f))},u=await o.ao("BatchGetDocuments",s,a,i.length),l=new Map;u.forEach(f=>{const p=vme(o.wt,f);l.set(p.key.toString(),p)});const d=[];return i.forEach(f=>{const p=l.get(f.toString());ke(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Md(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ue.fromPath(r);this.mutations.push(new JT(i,this.precondition(i)))}),await async function(n,r){const i=le(n),o=wp(i.wt)+"/documents",s={writes:r.map(a=>_p(i.wt,a))};await i.ro("Commit",o,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw me();n=Te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Z(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?qt.updateTime(n):qt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Te.min()))throw new Z(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qt.updateTime(n)}return qt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gye{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Dc=r.maxAttempts,this.So=new cD(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){this.So.Io(async()=>{const e=new pye(this.datastore),n=this.xc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Nc(i)}))}).catch(r=>{this.Nc(r)})})}xc(e){try{const n=this.updateFunction(e);return!fg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!_K(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mye{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=Gz.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function S3(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JK(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function E3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TD(t);ee("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>nN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>nN(e.remoteStore,o)),t.onlineComponents=e}async function TD(t){return t.offlineComponents||(ee("FirestoreClient","Using default OfflineComponentProvider"),await S3(t,new w3)),t.offlineComponents}async function Yw(t){return t.onlineComponents||(ee("FirestoreClient","Using default OnlineComponentProvider"),await E3(t,new ID)),t.onlineComponents}function C3(t){return TD(t).then(e=>e.persistence)}function DD(t){return TD(t).then(e=>e.localStore)}function b3(t){return Yw(t).then(e=>e.remoteStore)}function kD(t){return Yw(t).then(e=>e.syncEngine)}async function md(t){const e=await Yw(t),n=e.eventManager;return n.onListen=Gve.bind(null,e.syncEngine),n.onUnlisten=Yve.bind(null,e.syncEngine),n}function vye(t){return t.asyncQueue.enqueue(async()=>{const e=await C3(t),n=await b3(t);return e.setNetworkEnabled(!0),function(r){const i=le(r);return i.lu.delete(0),wg(i)}(n)})}function yye(t){return t.asyncQueue.enqueue(async()=>{const e=await C3(t),n=await b3(t);return e.setNetworkEnabled(!1),async function(r){const i=le(r);i.lu.add(0),await Fd(i),i._u.set("Offline")}(n)})}function wye(t,e){const n=new On;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const s=await function(a,u){const l=le(a);return l.persistence.runTransaction("read document","readonly",d=>l.localDocuments.getDocument(d,u))}(r,i);s.isFoundDocument()?o.resolve(s):s.isNoDocument()?o.resolve(null):o.reject(new Z(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const a=Bd(s,`Failed to get document '${i} from cache`);o.reject(a)}}(await DD(t),e,n)),n.promise}function I3(t,e,n={}){const r=new On;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,u){const l=new Gw({next:f=>{o.enqueueAndForget(()=>mD(i,d));const p=f.docs.has(s);!p&&f.fromCache?u.reject(new Z(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&a&&a.source==="server"?u.reject(new Z(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new yD(Pd(s.path),l,{includeMetadataChanges:!0,Du:!0});return gD(i,d)}(await md(t),t.asyncQueue,e,n,r)),r.promise}function _ye(t,e){const n=new On;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const s=await zy(r,i,!0),a=new g3(i,s.ji),u=a.Ku(s.documents),l=a.applyChanges(u,!1);o.resolve(l.snapshot)}catch(s){const a=Bd(s,`Failed to execute query '${i} against cache`);o.reject(a)}}(await DD(t),e,n)),n.promise}function T3(t,e,n={}){const r=new On;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,u){const l=new Gw({next:f=>{o.enqueueAndForget(()=>mD(i,d)),f.fromCache&&a.source==="server"?u.reject(new Z(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new yD(s,l,{includeMetadataChanges:!0,Du:!0});return gD(i,d)}(await md(t),t.asyncQueue,e,n,r)),r.promise}function Sye(t,e){const n=new Gw(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){le(r).Tu.add(i),i.next()}(await md(t),n)),()=>{n.Tc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){le(r).Tu.delete(i)}(await md(t),n))}}function Eye(t,e,n){const r=new On;return t.asyncQueue.enqueueAndForget(async()=>{const i=await function(o){return Yw(o).then(s=>s.datastore)}(t);new gye(t.asyncQueue,i,n,e,r).run()}),r.promise}function Cye(t,e,n,r){const i=function(o,s){let a;return a=typeof o=="string"?new TextEncoder().encode(o):o,function(u,l){return new hye(u,l)}(function(u,l){if(u instanceof Uint8Array)return aN(u,l);if(u instanceof ArrayBuffer)return aN(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),s)}(n,yg(e));t.asyncQueue.enqueueAndForget(async()=>{dye(await kD(t),i,r)})}function bye(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=le(n);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ds.getNamedQuery(o,r))}(await DD(t),e))}const uN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D3(t,e,n,r){if(e===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lN(t){if(!ue.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cN(t){if(ue.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qw(t);throw new Z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function k3(t,e){if(e<=0)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,D3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dN({}),this._settingsFrozen=!1,e instanceof Vs?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vs(i.options.projectId)}(e))}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dN(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Ige;switch(n.type){case"gapi":const r=n.client;return ke(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new xge(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uN.get(e);n&&(ee("ComponentProvider","Removing Datastore"),uN.delete(e),n.terminate())}(this),Promise.resolve()}}function Iye(t,e,n,r={}){var i;const o=(t=ot(t,_g))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&ad("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=kn.MOCK_USER;else{s=R4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kn(u)}t._authCredentials=new Tge(new qz(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class pr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pr(this.firestore,e,this._query)}}class Jo extends pr{constructor(e,n,r){super(e,n,Pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ue(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function x3(t,e,...n){if(t=Se(t),xD("collection","path",e),t instanceof _g){const r=Ze.fromString(e,...n);return cN(r),new Jo(t,null,r)}{if(!(t instanceof Pt||t instanceof Jo))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return cN(r),new Jo(t.firestore,null,r)}}function Tye(t,e){if(t=ot(t,_g),xD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pr(t,null,function(n){return new Zs(Ze.emptyPath(),n)}(e))}function Wy(t,e,...n){if(t=Se(t),arguments.length===1&&(e=Gz.I()),xD("doc","path",e),t instanceof _g){const r=Ze.fromString(e,...n);return lN(r),new Pt(t,null,new ue(r))}{if(!(t instanceof Pt||t instanceof Jo))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return lN(r),new Pt(t.firestore,t instanceof Jo?t.converter:null,new ue(r))}}function O3(t,e){return t=Se(t),e=Se(e),(t instanceof Pt||t instanceof Jo)&&(e instanceof Pt||e instanceof Jo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function A3(t,e){return t=Se(t),e=Se(e),t instanceof pr&&e instanceof pr&&t.firestore===e.firestore&&pg(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dye{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new cD(this,"async_queue_retry"),this.Kc=()=>{const n=Cv();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Cv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new On;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}async jc(){if(this.Oc.length!==0){try{await this.Oc[0](),this.Oc.shift(),this.So.reset()}catch(e){if(!cu(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Oc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw on("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Mc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=pD.createAndSchedule(this,e,n,r,o=>this.Wc(o));return this.$c.push(i),i}Gc(){this.Bc&&me()}verifyOperationInProgress(){}async zc(){let e;do e=this.Mc,await e;while(e!==this.Mc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function wC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class kye{constructor(){this._progressObserver={},this._taskCompletionResolver=new On,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye=-1;class en extends _g{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Dye,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||R3(this),this._firestoreClient.terminate()}}function Bn(t){return t._firestoreClient||R3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function R3(t){var e;const n=t._freezeSettings(),r=function(i,o,s,a){return new zge(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new mye(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Oye(t,e){N3(t=ot(t,en));const n=Bn(t),r=t._freezeSettings(),i=new ID;return P3(n,i,new _3(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Aye(t){N3(t=ot(t,en));const e=Bn(t),n=t._freezeSettings(),r=new ID;return P3(e,r,new fye(r,n.cacheSizeBytes))}function P3(t,e,n){const r=new On;return t.asyncQueue.enqueue(async()=>{try{await S3(t,n),await E3(t,e),r.resolve()}catch(i){const o=i;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:typeof DOMException!="undefined"&&s instanceof DOMException?s.code===22||s.code===20||s.code===11:!0}(o))throw o;ad("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}}).then(()=>r.promise)}function Rye(t){if(t._initialized&&!t._terminated)throw new Z(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new On;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!co.V())return Promise.resolve();const r=n+"main";await co.delete(r)}(aD(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Pye(t){return function(e){const n=new On;return e.asyncQueue.enqueueAndForget(async()=>eye(await kD(e),n)),n.promise}(Bn(t=ot(t,en)))}function Nye(t){return vye(Bn(t=ot(t,en)))}function Mye(t){return yye(Bn(t=ot(t,en)))}function Fye(t,e){const n=Bn(t=ot(t,en)),r=new kye;return Cye(n,t._databaseId,e,r),r}function Lye(t,e){return bye(Bn(t=ot(t,en)),e).then(n=>n?new pr(t,null,n.query):null)}function N3(t){if(t._initialized||t._terminated)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(Cn.fromBase64String(e))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ye=/^__.*__$/;class Bye{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nd(e,this.data,n,this.fieldTransforms)}}class M3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function F3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class Jw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Jw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Hy(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(F3(this.Zc)&&$ye.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Uye{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||yg(e)}aa(e,n,r,i=!1){return new Jw({Zc:e,methodName:n,ca:r,path:sn.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Bl(t){const e=t._freezeSettings(),n=yg(t._databaseId);return new Uye(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zw(t,e,n,r,i,o={}){const s=t.aa(o.merge||o.mergeFields?2:0,e,n,i);PD("Data must be an object, but it was:",s,r);const a=B3(r,s);let u,l;if(o.merge)u=new mi(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=_C(e,f,n);if(!s.contains(p))throw new Z(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);z3(d,p)||d.push(p)}u=new mi(d),l=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=s.fieldTransforms;return new Bye(new Gn(a),u,l)}class Sg extends $l{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sg}}function L3(t,e,n){return new Jw({Zc:3,ca:e.settings.ca,methodName:t._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class OD extends $l{_toFieldTransform(e){return new gg(e.path,new cd)}isEqual(e){return e instanceof OD}}class zye extends $l{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=L3(this,e,!0),r=this.ha.map(o=>Ul(o,n)),i=new ml(r);return new gg(e.path,i)}isEqual(e){return this===e}}class Kye extends $l{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=L3(this,e,!0),r=this.ha.map(o=>Ul(o,n)),i=new vl(r);return new gg(e.path,i)}isEqual(e){return this===e}}class Vye extends $l{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new dd(e.wt,hK(e.wt,this.la));return new gg(e.path,n)}isEqual(e){return this===e}}function AD(t,e,n,r){const i=t.aa(1,e,n);PD("Data must be an object, but it was:",i,r);const o=[],s=Gn.empty();Ll(r,(u,l)=>{const d=ND(e,u,n);l=Se(l);const f=i.ia(d);if(l instanceof Sg)o.push(d);else{const p=Ul(l,f);p!=null&&(o.push(d),s.set(d,p))}});const a=new mi(o);return new M3(s,a,i.fieldTransforms)}function RD(t,e,n,r,i,o){const s=t.aa(1,e,n),a=[_C(e,r,n)],u=[i];if(o.length%2!=0)throw new Z(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(_C(e,o[p])),u.push(o[p+1]);const l=[],d=Gn.empty();for(let p=a.length-1;p>=0;--p)if(!z3(l,a[p])){const g=a[p];let m=u[p];m=Se(m);const _=s.ia(g);if(m instanceof Sg)l.push(g);else{const C=Ul(m,_);C!=null&&(l.push(g),d.set(g,C))}}const f=new mi(l);return new M3(d,f,s.fieldTransforms)}function $3(t,e,n,r=!1){return Ul(n,t.aa(r?4:3,e))}function Ul(t,e){if(U3(t=Se(t)))return PD("Unsupported field value:",e,t),B3(t,e);if(t instanceof $l)return function(n,r){if(!F3(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Ul(s,r.ra(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Se(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hK(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Wt.fromDate(n);return{timestampValue:vp(r.wt,i)}}if(n instanceof Wt){const i=new Wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vp(r.wt,i)}}if(n instanceof Xw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rs)return{bytesValue:DK(r.wt,n._byteString)};if(n instanceof Pt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ZT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Qw(n)}`)}(t,e)}function B3(t,e){const n={};return tK(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,(r,i)=>{const o=Ul(i,e.ea(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function U3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Xw||t instanceof rs||t instanceof Pt||t instanceof $l)}function PD(t,e,n){if(!U3(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Qw(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function _C(t,e,n){if((e=Se(e))instanceof Ja)return e._internalPath;if(typeof e=="string")return ND(t,e);throw Hy("Field path arguments must be of type string or ",t,!1,void 0,n)}const jye=new RegExp("[~\\*/\\[\\]]");function ND(t,e,n){if(e.search(jye)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ja(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Z(U.INVALID_ARGUMENT,a+t+u)}function z3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wye extends Ep{data(){return super.data()}}function e_(t,e){return typeof e=="string"?ND(t,e):e instanceof Ja?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends Ep{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(e_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ih extends js{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ih(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new Ih(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Wu(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Ih(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Wu(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:Hye(s.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hye(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}function K3(t,e){return t instanceof js&&e instanceof js?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Za&&e instanceof Za&&t._firestore===e._firestore&&A3(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}function pa(t,...e){for(const n of e)t=n._apply(t);return t}class qye extends Eg{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=Bl(e.firestore),r=function(i,o,s,a,u,l,d){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new Z(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){hN(d,l);const g=[];for(const m of d)g.push(fN(a,i,m));f={arrayValue:{values:g}}}else f=fN(a,i,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||hN(d,l),f=$3(s,o,d,l==="in"||l==="not-in");const p=Yn.create(u,l,f);return function(g,m){if(m.ht()){const C=YT(g);if(C!==null&&!C.isEqual(m.field))throw new Z(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${C.toString()}' and '${m.field.toString()}'`);const w=GT(g);w!==null&&G3(g,m.field,w)}const _=function(C,w){for(const y of C.filters)if(w.indexOf(y.op)>=0)return y.op;return null}(g,function(C){switch(C){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(_!==null)throw _===m.op?new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${_.toString()}' filters.`)}(i,p),p}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new pr(e.firestore,e.converter,function(i,o){const s=i.filters.concat([o]);return new Zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Gye(t,e,n){const r=e,i=e_("where",t);return new qye(i,r,n)}class Yye extends Eg{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new Z(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Z(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new qc(i,o);return function(a,u){if(GT(a)===null){const l=YT(a);l!==null&&G3(a,l,u.field)}}(r,s),s}(e._query,this.fa,this.wa);return new pr(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Zs(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Qye(t,e="asc"){const n=e,r=e_("orderBy",t);return new Yye(r,n)}class j3 extends Eg{constructor(e,n,r){super(),this.type=e,this.ma=n,this.ga=r}_apply(e){return new pr(e.firestore,e.converter,$y(e._query,this.ma,this.ga))}}function Xye(t){return k3("limit",t),new j3("limit",t,"F")}function Jye(t){return k3("limitToLast",t),new j3("limitToLast",t,"L")}class W3 extends Eg{constructor(e,n,r){super(),this.type=e,this.ya=n,this.pa=r}_apply(e){const n=q3(e,this.type,this.ya,this.pa);return new pr(e.firestore,e.converter,function(r,i){return new Zs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function Zye(...t){return new W3("startAt",t,!0)}function e0e(...t){return new W3("startAfter",t,!1)}class H3 extends Eg{constructor(e,n,r){super(),this.type=e,this.ya=n,this.pa=r}_apply(e){const n=q3(e,this.type,this.ya,this.pa);return new pr(e.firestore,e.converter,function(r,i){return new Zs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function t0e(...t){return new H3("endBefore",t,!1)}function n0e(...t){return new H3("endAt",t,!0)}function q3(t,e,n,r){if(n[0]=Se(n[0]),n[0]instanceof Ep)return function(i,o,s,a,u){if(!a)throw new Z(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const l=[];for(const d of ld(i))if(d.field.isKeyField())l.push(pl(o,a.key));else{const f=a.data.field(d.field);if(qT(f))throw new Z(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new Z(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}l.push(f)}return new Qa(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bl(t.firestore);return function(o,s,a,u,l,d){const f=o.explicitOrderBy;if(l.length>f.length)throw new Z(U.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<l.length;g++){const m=l[g];if(f[g].field.isKeyField()){if(typeof m!="string")throw new Z(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!QT(o)&&m.indexOf("/")!==-1)throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const _=o.path.child(Ze.fromString(m));if(!ue.isDocumentKey(_))throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const C=new ue(_);p.push(pl(s,C))}else{const _=$3(a,u,m);p.push(_)}}return new Qa(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function fN(t,e,n){if(typeof(n=Se(n))=="string"){if(n==="")throw new Z(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QT(e)&&n.indexOf("/")!==-1)throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ue.isDocumentKey(r))throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pl(t,new ue(r))}if(n instanceof Pt)return pl(t,n._key);throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qw(n)}.`)}function hN(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Z(U.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function G3(t,e,n){if(!n.isEqual(e))throw new Z(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0e={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{convertValue(e,n="none"){switch(hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){const r={};return Ll(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Xw(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nK(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hp(e));default:return null}}convertTimestamp(e){const n=Ga(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);ke(FK(r));const i=new Vs(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||on(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class i0e extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bl(e)}set(e,n,r){this._verifyNotCommitted();const i=Ea(e,this._firestore),o=t_(i.converter,n,r),s=Zw(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,qt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ea(e,this._firestore);let s;return s=typeof(n=Se(n))=="string"||n instanceof Ja?RD(this._dataReader,"WriteBatch.update",o._key,n,r,i):AD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,qt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ea(e,this._firestore);return this._mutations=this._mutations.concat(new Md(n._key,qt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ea(t,e){if((t=Se(t)).firestore!==e)throw new Z(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0e(t){t=ot(t,Pt);const e=ot(t.firestore,en);return I3(Bn(e),t._key).then(n=>FD(e,t,n))}class zl extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function a0e(t){t=ot(t,Pt);const e=ot(t.firestore,en),n=Bn(e),r=new zl(e);return wye(n,t._key).then(i=>new js(e,r,t._key,i,new Wu(i!==null&&i.hasLocalMutations,!0),t.converter))}function u0e(t){t=ot(t,Pt);const e=ot(t.firestore,en);return I3(Bn(e),t._key,{source:"server"}).then(n=>FD(e,t,n))}function l0e(t){t=ot(t,pr);const e=ot(t.firestore,en),n=Bn(e),r=new zl(e);return V3(t._query),T3(n,t._query).then(i=>new Za(e,r,t,i))}function c0e(t){t=ot(t,pr);const e=ot(t.firestore,en),n=Bn(e),r=new zl(e);return _ye(n,t._query).then(i=>new Za(e,r,t,i))}function d0e(t){t=ot(t,pr);const e=ot(t.firestore,en),n=Bn(e),r=new zl(e);return T3(n,t._query,{source:"server"}).then(i=>new Za(e,r,t,i))}function pN(t,e,n){t=ot(t,Pt);const r=ot(t.firestore,en),i=t_(t.converter,e,n);return Cg(r,[Zw(Bl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qt.none())])}function gN(t,e,n,...r){t=ot(t,Pt);const i=ot(t.firestore,en),o=Bl(i);let s;return s=typeof(e=Se(e))=="string"||e instanceof Ja?RD(o,"updateDoc",t._key,e,n,r):AD(o,"updateDoc",t._key,e),Cg(i,[s.toMutation(t._key,qt.exists(!0))])}function f0e(t){return Cg(ot(t.firestore,en),[new Md(t._key,qt.none())])}function h0e(t,e){const n=ot(t.firestore,en),r=Wy(t),i=t_(t.converter,e);return Cg(n,[Zw(Bl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qt.exists(!1))]).then(()=>r)}function Y3(t,...e){var n,r,i;t=Se(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||wC(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(wC(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,d;if(t instanceof Pt)l=ot(t.firestore,en),d=Pd(t._key.path),u={next:f=>{e[s]&&e[s](FD(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=ot(t,pr);l=ot(f.firestore,en),d=f._query;const p=new zl(l);u={next:g=>{e[s]&&e[s](new Za(l,p,f,g))},error:e[s+1],complete:e[s+2]},V3(t._query)}return function(f,p,g,m){const _=new Gw(m),C=new yD(p,_,g);return f.asyncQueue.enqueueAndForget(async()=>gD(await md(f),C)),()=>{_.Tc(),f.asyncQueue.enqueueAndForget(async()=>mD(await md(f),C))}}(Bn(l),d,a,u)}function p0e(t,e){return Sye(Bn(t=ot(t,en)),wC(e)?e:{next:e})}function Cg(t,e){return function(n,r){const i=new On;return n.asyncQueue.enqueueAndForget(async()=>Qve(await kD(n),r,i)),i.promise}(Bn(t),e)}function FD(t,e,n){const r=n.docs.get(e._key),i=new zl(t);return new js(t,i,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0e extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Bl(e)}get(e){const n=Ea(e,this._firestore),r=new i0e(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return me();const o=i[0];if(o.isFoundDocument())return new Ep(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Ep(this._firestore,r,n._key,null,n.converter);throw me()})}set(e,n,r){const i=Ea(e,this._firestore),o=t_(i.converter,n,r),s=Zw(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const o=Ea(e,this._firestore);let s;return s=typeof(n=Se(n))=="string"||n instanceof Ja?RD(this._dataReader,"Transaction.update",o._key,n,r,i):AD(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=Ea(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ea(e,this._firestore),r=new zl(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,n._key,i._document,new Wu(!1,!1),n.converter))}}function m0e(t,e,n){t=ot(t,en);const r=Object.assign(Object.assign({},r0e),n);return function(i){if(i.maxAttempts<1)throw new Z(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),Eye(Bn(t),i=>e(new g0e(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0e(){return new Sg("deleteField")}function y0e(){return new OD("serverTimestamp")}function w0e(...t){return new zye("arrayUnion",t)}function _0e(...t){return new Kye("arrayRemove",t)}function S0e(t){return new Vye("increment",t)}(function(t,e=!0){(function(n){Rd=n})(iu),Bs(new vo("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),o=new en(i,new Dge(n.getProvider("auth-internal")),new Age(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC")),zi(fP,"3.4.14",t),zi(fP,"3.4.14","esm2017")})();const E0e="@firebase/firestore-compat",C0e="0.1.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){if(typeof Uint8Array=="undefined")throw new Z("unimplemented","Uint8Arrays are not available in this environment.")}function vN(){if(!Bge())throw new Z("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Cp{constructor(e){this._delegate=e}static fromBase64String(e){return vN(),new Cp(rs.fromBase64String(e))}static fromUint8Array(e){return mN(),new Cp(rs.fromUint8Array(e))}toBase64(){return vN(),this._delegate.toBase64()}toUint8Array(){return mN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){return b0e(t,["next","error","complete"])}function b0e(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0e{enableIndexedDbPersistence(e,n){return Oye(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Aye(e._delegate)}clearIndexedDbPersistence(e){return Rye(e._delegate)}}class Q3{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&ad("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Iye(this._delegate,e,n,r)}enableNetwork(){return Nye(this._delegate)}disableNetwork(){return Mye(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,D3("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Pye(this._delegate)}onSnapshotsInSync(e){return p0e(this._delegate,e)}get app(){if(!this._appCompat)throw new Z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vd(this,x3(this._delegate,e))}catch(n){throw Ir(n,"collection()","Firestore.collection()")}}doc(e){try{return new Bi(this,Wy(this._delegate,e))}catch(n){throw Ir(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new br(this,Tye(this._delegate,e))}catch(n){throw Ir(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return m0e(this._delegate,n=>e(new X3(this,n)))}batch(){return Bn(this._delegate),new J3(new o0e(this._delegate,e=>Cg(this._delegate,e)))}loadBundle(e){return Fye(this._delegate,e)}namedQuery(e){return Lye(this._delegate,e).then(n=>n?new br(this,n):null)}}class n_ extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cp(new rs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Bi.forKey(n,this.firestore,null)}}function T0e(t){Cge(t)}class X3{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new n_(e)}get(e){const n=Hu(e);return this._delegate.get(n).then(r=>new bp(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Hu(e);return r?(LD("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Hu(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Hu(e);return this._delegate.delete(n),this}}class J3{constructor(e){this._delegate=e}set(e,n,r){const i=Hu(e);return r?(LD("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Hu(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Hu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Sl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ih(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ip(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Sl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Sl(e,new n_(e),n),i.set(n,o)),o}}Sl.INSTANCES=new WeakMap;class Bi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new n_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bi(n,new Pt(n._delegate,r,new ue(e)))}static forKey(e,n,r){return new Bi(n,new Pt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vd(this.firestore,x3(this._delegate,e))}catch(n){throw Ir(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Se(e),e instanceof Pt?O3(this._delegate,e):!1}set(e,n){n=LD("DocumentReference.set",n);try{return n?pN(this._delegate,e,n):pN(this._delegate,e)}catch(r){throw Ir(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?gN(this._delegate,e):gN(this._delegate,e,n,...r)}catch(i){throw Ir(i,"updateDoc()","DocumentReference.update()")}}delete(){return f0e(this._delegate)}onSnapshot(...e){const n=Z3(e),r=eV(e,i=>new bp(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Y3(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=a0e(this._delegate):(e==null?void 0:e.source)==="server"?n=u0e(this._delegate):n=s0e(this._delegate),n.then(r=>new bp(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Bi(this.firestore,e?this._delegate.withConverter(Sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ir(t,e,n){return t.message=t.message.replace(e,n),t}function Z3(t){for(const e of t)if(typeof e=="object"&&!SC(e))return e;return{}}function eV(t,e){var n,r;let i;return SC(t[0])?i=t[0]:SC(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class bp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Bi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return K3(this._delegate,e._delegate)}}class Ip extends bp{data(e){const n=this._delegate.data(e);return bge(n!==void 0),n}}class br{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new n_(e)}where(e,n,r){try{return new br(this.firestore,pa(this._delegate,Gye(e,n,r)))}catch(i){throw Ir(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new br(this.firestore,pa(this._delegate,Qye(e,n)))}catch(r){throw Ir(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new br(this.firestore,pa(this._delegate,Xye(e)))}catch(n){throw Ir(n,"limit()","Query.limit()")}}limitToLast(e){try{return new br(this.firestore,pa(this._delegate,Jye(e)))}catch(n){throw Ir(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new br(this.firestore,pa(this._delegate,Zye(...e)))}catch(n){throw Ir(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new br(this.firestore,pa(this._delegate,e0e(...e)))}catch(n){throw Ir(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new br(this.firestore,pa(this._delegate,t0e(...e)))}catch(n){throw Ir(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new br(this.firestore,pa(this._delegate,n0e(...e)))}catch(n){throw Ir(n,"endAt()","Query.endAt()")}}isEqual(e){return A3(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=c0e(this._delegate):(e==null?void 0:e.source)==="server"?n=d0e(this._delegate):n=l0e(this._delegate),n.then(r=>new EC(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Z3(e),r=eV(e,i=>new EC(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Y3(this._delegate,n,r)}withConverter(e){return new br(this.firestore,e?this._delegate.withConverter(Sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class D0e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ip(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EC{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new br(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ip(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new D0e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ip(this._firestore,r))})}isEqual(e){return K3(this._delegate,e._delegate)}}class vd extends br{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bi(this.firestore,e):null}doc(e){try{return e===void 0?new Bi(this.firestore,Wy(this._delegate)):new Bi(this.firestore,Wy(this._delegate,e))}catch(n){throw Ir(n,"doc()","CollectionReference.doc()")}}add(e){return h0e(this._delegate,e).then(n=>new Bi(this.firestore,n))}isEqual(e){return O3(this._delegate,e._delegate)}withConverter(e){return new vd(this.firestore,e?this._delegate.withConverter(Sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Hu(t){return ot(t,Pt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(...e){this._delegate=new Ja(...e)}static documentId(){return new $D(sn.keyField().canonicalString())}isEqual(e){return e=Se(e),e instanceof Ja?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this._delegate=e}static serverTimestamp(){const e=y0e();return e._methodName="FieldValue.serverTimestamp",new Fu(e)}static delete(){const e=v0e();return e._methodName="FieldValue.delete",new Fu(e)}static arrayUnion(...e){const n=w0e(...e);return n._methodName="FieldValue.arrayUnion",new Fu(n)}static arrayRemove(...e){const n=_0e(...e);return n._methodName="FieldValue.arrayRemove",new Fu(n)}static increment(e){const n=S0e(e);return n._methodName="FieldValue.increment",new Fu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0e={Firestore:Q3,GeoPoint:Xw,Timestamp:Wt,Blob:Cp,Transaction:X3,WriteBatch:J3,DocumentReference:Bi,DocumentSnapshot:bp,Query:br,QueryDocumentSnapshot:Ip,QuerySnapshot:EC,CollectionReference:vd,FieldPath:$D,FieldValue:Fu,setLogLevel:T0e,CACHE_SIZE_UNLIMITED:xye};function x0e(t,e){t.INTERNAL.registerComponent(new vo("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},k0e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0e(t){x0e(t,(e,n)=>new Q3(e,n,new I0e)),t.registerVersion(E0e,C0e)}O0e(Qo);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0e=2e3;async function R0e(t,e,n){var r;const{BuildInfo:i}=El();yo(e.sessionId,"AuthEvent did not contain a session ID");const o=await L0e(e.sessionId),s={};return bd()?s.ibi=i.packageName:Fp()?s.apn=i.packageName:Rn(t,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,i1(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)}async function P0e(t){const{BuildInfo:e}=El(),n={};bd()?n.iosBundleId=e.packageName:Fp()?n.androidPackageName=e.packageName:Rn(t,"operation-not-supported-in-this-environment"),await c$(t,n)}function N0e(t){const{cordova:e}=El();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,_q()?"_blank":"_system","location=yes"),n(i)})})}async function M0e(t,e,n){const{cordova:r}=El();let i=()=>{};try{await new Promise((o,s)=>{let a=null;function u(){var f;o();const p=(f=r.plugins.browsertab)===null||f===void 0?void 0:f.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{s(Xn(t,"redirect-cancelled-by-user"))},A0e))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),Fp()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function F0e(t){var e,n,r,i,o,s,a,u,l,d;const f=El();re(typeof((e=f==null?void 0:f.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof((n=f==null?void 0:f.BuildInfo)===null||n===void 0?void 0:n.packageName)!="undefined",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re(typeof((o=(i=(r=f==null?void 0:f.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re(typeof((u=(a=(s=f==null?void 0:f.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re(typeof((d=(l=f==null?void 0:f.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function L0e(t){const e=$0e(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function $0e(t){if(yo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder!="undefined")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0e=20;class U0e extends u${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function z0e(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:j0e(),postBody:null,tenantId:t.tenantId,error:Xn(t,"no-auth-event")}}function K0e(t,e){return CC()._set(bC(t),e)}async function yN(t){const e=await CC()._get(bC(t));return e&&await CC()._remove(bC(t)),e}function V0e(t,e){var n,r;const i=H0e(e);if(i.includes("/__/auth/callback")){const o=bv(i),s=o.firebaseError?W0e(decodeURIComponent(o.firebaseError)):null,a=(r=(n=s==null?void 0:s.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Xn(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function j0e(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<B0e;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function CC(){return fi(Lp)}function bC(t){return Qu("authEvent",t.config.apiKey,t.name)}function W0e(t){try{return JSON.parse(t)}catch{return null}}function H0e(t){const e=bv(t),n=e.link?decodeURIComponent(e.link):void 0,r=bv(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return bv(i).link||i||r||n||t}function bv(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ec(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0e=500;class G0e{constructor(){this._redirectPersistence=Ha,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z0,this._overrideRedirectResult=gI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new U0e(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){F0e(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),g8(),await this._originValidation(e);const s=z0e(e,r,i);await K0e(e,s);const a=await R0e(e,s,n),u=await N0e(a);return M0e(e,o,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P0e(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=El(),s=setTimeout(async()=>{await yN(e),n.onEvent(wN())},q0e),a=async d=>{clearTimeout(s);const f=await yN(e);let p=null;f&&(d==null?void 0:d.url)&&(p=V0e(f,d.url)),n.onEvent(p||wN())};typeof r!="undefined"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${o.packageName.toLowerCase()}://`;El().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(l)&&a({url:d}),typeof u=="function")try{u(d)}catch(f){console.error(f)}}}}const Y0e=G0e;function wN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0e(t,e){Pn(t)._logFramework(e)}var X0e="@firebase/auth-compat",J0e="0.2.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0e=1e3;function Th(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function ewe(){return Th()==="http:"||Th()==="https:"}function tV(t=Nt()){return!!((Th()==="file:"||Th()==="ionic:"||Th()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function twe(){return x0()||Qb()}function nwe(){return Jb()&&(document==null?void 0:document.documentMode)===11}function rwe(t=Nt()){return/Edge\/\d+/.test(t)}function iwe(t=Nt()){return nwe()||rwe(t)}function nV(){try{const t=self.localStorage,e=$p();if(t)return t.setItem(e,"1"),t.removeItem(e),iwe()?qh():!0}catch{return BD()&&qh()}return!1}function BD(){return typeof global!="undefined"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ZS(){return(ewe()||Xb()||tV())&&!twe()&&nV()&&!BD()}function rV(){return tV()&&typeof document!="undefined"}async function owe(){return rV()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Z0e);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function swe(){return typeof window!="undefined"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui={LOCAL:"local",NONE:"none",SESSION:"session"},$f=re,iV="persistence";function awe(t,e){if($f(Object.values(ui).includes(e),t,"invalid-persistence-type"),x0()){$f(e!==ui.SESSION,t,"unsupported-persistence-type");return}if(Qb()){$f(e===ui.NONE,t,"unsupported-persistence-type");return}if(BD()){$f(e===ui.NONE||e===ui.LOCAL&&qh(),t,"unsupported-persistence-type");return}$f(e===ui.NONE||nV(),t,"unsupported-persistence-type")}async function IC(t){await t._initializationPromise;const e=oV(),n=Qu(iV,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function uwe(t,e){const n=oV();if(!n)return[];const r=Qu(iV,t,e);switch(n.getItem(r)){case ui.NONE:return[rd];case ui.LOCAL:return[od,Ha];case ui.SESSION:return[Ha];default:return[]}}function oV(){var t;try{return((t=swe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lwe=re;class Oa{constructor(){this.browserResolver=fi(d$),this.cordovaResolver=fi(Y0e),this.underlyingResolver=null,this._redirectPersistence=Ha,this._completeRedirectFn=z0,this._overrideRedirectResult=gI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return rV()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lwe(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await owe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){return t.unwrap()}function cwe(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dwe(t){return aV(t)}function fwe(t,e){var n,r;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(((r=e)===null||r===void 0?void 0:r.code)==="auth/multi-factor-auth-required"){const o=e;o.resolver=new hwe(t,w5(t,e))}else if(i){const o=aV(e),s=e;o&&(s.credential=o,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function aV(t){const{_tokenResponse:e}=t instanceof lr?t.customData:t;if(!e)return null;if(!(t instanceof lr)&&"temporaryProof"in e&&"phoneNumber"in e)return po.credentialFromResult(t);const n=e.providerId;if(!n||n===gf.PASSWORD)return null;let r;switch(n){case gf.GOOGLE:r=Uo;break;case gf.FACEBOOK:r=Bo;break;case gf.GITHUB:r=zo;break;case gf.TWITTER:r=Ko;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:u}=e;return!o&&!s&&!i&&!a?null:a?n.startsWith("saml.")?id._create(n,a):es._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:o}):new Fc(n).credential({idToken:i,accessToken:o,rawNonce:u})}return t instanceof lr?r.credentialFromError(t):r.credentialFromResult(t)}function Kr(t,e){return e.catch(n=>{throw n instanceof lr&&fwe(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:dwe(n),additionalUserInfo:m5(n),user:xs.getOrCreate(i)}})}async function TC(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Kr(t,n.confirm(r))}}class hwe{constructor(e,n){this.resolver=n,this.auth=cwe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Kr(sV(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._delegate=e,this.multiFactor=C5(e)}static getOrCreate(e){return xs.USER_MAP.has(e)||xs.USER_MAP.set(e,new xs(e)),xs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Kr(this.auth,zL(this._delegate,e))}async linkWithPhoneNumber(e,n){return TC(this.auth,n8(this._delegate,e,n))}async linkWithPopup(e){return Kr(this.auth,d8(this._delegate,e,Oa))}async linkWithRedirect(e){return await IC(Pn(this.auth)),_8(this._delegate,e,Oa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Kr(this.auth,KL(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return TC(this.auth,r8(this._delegate,e,n))}reauthenticateWithPopup(e){return Kr(this.auth,c8(this._delegate,e,Oa))}async reauthenticateWithRedirect(e){return await IC(Pn(this.auth)),y8(this._delegate,e,Oa)}sendEmailVerification(e){return s5(this._delegate,e)}async unlink(e){return await Gq(this._delegate,e),this}updateEmail(e){return l5(this._delegate,e)}updatePassword(e){return c5(this._delegate,e)}updatePhoneNumber(e){return i8(this._delegate,e)}updateProfile(e){return HL(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return a5(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=re;class DC{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Bf(r,"invalid-api-key",{appName:e.name}),Bf(r,"invalid-api-key",{appName:e.name});const i=typeof window!="undefined"?Oa:void 0;this._delegate=n.initialize({options:{persistence:pwe(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(eq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Tq(this._delegate,e,n)}applyActionCode(e){return Zq(this._delegate,e)}checkActionCode(e){return VL(this._delegate,e)}confirmPasswordReset(e,n){return Jq(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Kr(this._delegate,jL(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return o5(this._delegate,e)}isSignInWithEmailLink(e){return n5(this._delegate,e)}async getRedirectResult(){Bf(ZS(),this._delegate,"operation-not-supported-in-this-environment");const e=await E8(this._delegate,Oa);return e?Kr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Q0e(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:s}=_N(e,n,r);return this._delegate.onAuthStateChanged(i,o,s)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:s}=_N(e,n,r);return this._delegate.onIdTokenChanged(i,o,s)}sendSignInLinkToEmail(e,n){return t5(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Xq(this._delegate,e,n||void 0)}async setPersistence(e){awe(this._delegate,e);let n;switch(e){case ui.SESSION:n=Ha;break;case ui.LOCAL:n=await fi(od)._isAvailable()?od:Lp;break;case ui.NONE:n=rd;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Kr(this._delegate,qq(this._delegate))}signInWithCredential(e){return Kr(this._delegate,M0(this._delegate,e))}signInWithCustomToken(e){return Kr(this._delegate,Qq(this._delegate,e))}signInWithEmailAndPassword(e,n){return Kr(this._delegate,WL(this._delegate,e,n))}signInWithEmailLink(e,n){return Kr(this._delegate,r5(this._delegate,e,n))}signInWithPhoneNumber(e,n){return TC(this._delegate,t8(this._delegate,e,n))}async signInWithPopup(e){return Bf(ZS(),this._delegate,"operation-not-supported-in-this-environment"),Kr(this._delegate,l8(this._delegate,e,Oa))}async signInWithRedirect(e){return Bf(ZS(),this._delegate,"operation-not-supported-in-this-environment"),await IC(this._delegate),m8(this._delegate,e,Oa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return e5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}DC.Persistence=ui;function _N(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&xs.getOrCreate(s)),error:e,complete:n}}function pwe(t,e){const n=uwe(t,e);if(typeof self!="undefined"&&!n.includes(od)&&n.push(od),typeof window!="undefined")for(const r of[Lp,Ha])n.includes(r)||n.push(r);return n.includes(rd)||n.push(rd),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.providerId="phone",this._delegate=new po(sV(Qo.auth()))}static credential(e,n){return po.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}UD.PHONE_SIGN_IN_METHOD=po.PHONE_SIGN_IN_METHOD;UD.PROVIDER_ID=po.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gwe=re;class mwe{constructor(e,n,r=Qo.app()){var i;gwe((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Z5(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vwe="auth-compat";function ywe(t){t.INTERNAL.registerComponent(new vo(vwe,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new DC(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yl.EMAIL_SIGNIN,PASSWORD_RESET:Yl.PASSWORD_RESET,RECOVER_EMAIL:Yl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Yl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Yl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Yl.VERIFY_EMAIL}},EmailAuthProvider:ou,FacebookAuthProvider:Bo,GithubAuthProvider:zo,GoogleAuthProvider:Uo,OAuthProvider:Fc,SAMLAuthProvider:ny,PhoneAuthProvider:UD,PhoneMultiFactorGenerator:f$,RecaptchaVerifier:mwe,TwitterAuthProvider:Ko,Auth:DC,AuthCredential:Id,Error:lr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(X0e,J0e)}ywe(Qo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="firebasestorage.googleapis.com",lV="storageBucket",wwe=2*60*1e3,_we=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends lr{constructor(e,n){super(eE(e),`Firebase Storage: ${n} (${eE(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}_codeEquals(e){return eE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function eE(t){return"storage/"+t}function zD(){const t="An unknown error occurred, please check the error payload for server response.";return new an("unknown",t)}function Swe(t){return new an("object-not-found","Object '"+t+"' does not exist.")}function Ewe(t){return new an("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cwe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an("unauthenticated",t)}function bwe(){return new an("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Iwe(t){return new an("unauthorized","User does not have permission to access '"+t+"'.")}function Twe(){return new an("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Dwe(){return new an("canceled","User canceled the upload/download.")}function kwe(t){return new an("invalid-url","Invalid URL '"+t+"'.")}function xwe(t){return new an("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Owe(){return new an("no-default-bucket","No default bucket found. Did you set the '"+lV+"' property when initializing the app?")}function Awe(){return new an("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rwe(){return new an("no-download-url","The given file does not have any download URLs.")}function kC(t){return new an("invalid-argument",t)}function cV(){return new an("app-deleted","The Firebase app was deleted.")}function Pwe(t){return new an("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dh(t,e){return new an("invalid-format","String does not match format '"+t+"': "+e)}function Uf(t){throw new an("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hi.makeFromUrl(e,n)}catch{return new hi(e,"")}if(r.path==="")return r;throw xwe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),m={bucket:1,path:3},_=n===uV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${C}`,"i"),S=[{regex:a,indices:u,postModify:o},{regex:g,indices:m,postModify:l},{regex:w,indices:{bucket:1,path:2},postModify:l}];for(let I=0;I<S.length;I++){const k=S[I],O=k.regex.exec(e);if(O){const A=O[k.indices.bucket];let F=O[k.indices.path];F||(F=""),r=new hi(A,F),k.postModify(r);break}}if(r==null)throw kwe(e);return r}}class Nwe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mwe(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function d(...C){l||(l=!0,e.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,t(g,u())},C)}function p(){o&&clearTimeout(o)}function g(C,...w){if(l){p();return}if(C){p(),d.call(null,C,...w);return}if(u()||s){p(),d.call(null,C,...w);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,f(S)}let m=!1;function _(C){m||(m=!0,p(),!l&&(i!==null?(C||(a=2),clearTimeout(i),f(0)):C||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function Fwe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lwe(t){return t!==void 0}function $we(t){return typeof t=="object"&&!Array.isArray(t)}function KD(t){return typeof t=="string"||t instanceof String}function SN(t){return VD()&&t instanceof Blob}function VD(){return typeof Blob!="undefined"}function EN(t,e,n,r){if(r<e)throw kC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kC(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var el;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(el||(el={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bwe{constructor(e,n,r,i,o,s,a,u,l,d,f){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===el.NO_ERROR,u=o.getStatus();if(!a||this.isRetryStatusCode_(u)){const d=o.getErrorCode()===el.ABORT;r(!1,new Hm(!1,null,d));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Hm(l,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Lwe(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=zD();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?cV():Dwe();s(u)}else{const u=Twe();s(u)}};this.canceled_?n(!1,new Hm(!1,null,!0)):this.backoffId_=Mwe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fwe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o}}class Hm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Uwe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zwe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Kwe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vwe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jwe(t,e,n,r,i,o){const s=dV(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return Kwe(u,e),Uwe(u,n),zwe(u,o),Vwe(u,r),new Bwe(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wwe(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function Hwe(...t){const e=Wwe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(VD())return new Blob(t);throw new an("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function qwe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tE{constructor(e,n){this.data=e,this.contentType=n||null}}function Ywe(t,e){switch(t){case qo.RAW:return new tE(fV(e));case qo.BASE64:case qo.BASE64URL:return new tE(hV(t,e));case qo.DATA_URL:return new tE(Xwe(e),Jwe(e))}throw zD()}function fV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Qwe(t){let e;try{e=decodeURIComponent(t)}catch{throw Dh(qo.DATA_URL,"Malformed data URL.")}return fV(e)}function hV(t,e){switch(t){case qo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Dh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Dh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gwe(e)}catch{throw Dh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dh(qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Zwe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Xwe(t){const e=new pV(t);return e.base64?hV(qo.BASE64,e.rest):Qwe(e.rest)}function Jwe(t){return new pV(t).contentType}function Zwe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){let r=0,i="";SN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(SN(this.data_)){const r=this.data_,i=qwe(r,e,n);return i===null?null:new Ca(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ca(r,!0)}}static getBlob(...e){if(VD()){const n=e.map(r=>r instanceof Ca?r.data_:r);return new Ca(Hwe.apply(null,n))}else{const n=e.map(s=>KD(s)?Ywe(qo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ca(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){let e;try{e=JSON.parse(t)}catch{return null}return $we(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function t_e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function mV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_e(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||n_e}}let qm=null;function r_e(t){return!KD(t)||t.length<2?t:mV(t)}function vV(){if(qm)return qm;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(o,s){return r_e(s)}const n=new Er("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),qm=t,qm}function i_e(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new hi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function o_e(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return i_e(r,t),r}function yV(t,e,n){const r=gV(e);return r===null?null:o_e(t,r,n)}function s_e(t,e,n,r){const i=gV(e);if(i===null||!KD(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const d=t.bucket,f=t.fullPath,p="/b/"+s(d)+"/o/"+s(f),g=jD(p,n,r),m=dV({alt:"media",token:l});return g+m})[0]}function a_e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class wV{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){if(!t)throw zD()}function u_e(t,e){function n(r,i){const o=yV(t,i,e);return _V(o!==null),o}return n}function l_e(t,e){function n(r,i){const o=yV(t,i,e);return _V(o!==null),s_e(o,i,t.host,t._protocol)}return n}function SV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=bwe():i=Cwe():n.getStatus()===402?i=Ewe(t.bucket):n.getStatus()===403?i=Iwe(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function c_e(t){const e=SV(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Swe(t.path)),o.serverResponse=i.serverResponse,o}return n}function d_e(t,e,n){const r=e.fullServerUrl(),i=jD(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new wV(i,o,l_e(t,n),s);return a.errorHandler=c_e(e),a}function f_e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function h_e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=f_e(null,e)),r}function p_e(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let I=0;I<2;I++)S=S+Math.random().toString().slice(2);return S}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const l=h_e(e,r,i),d=a_e(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,p=`\r
--`+u+"--",g=Ca.getBlob(f,r,p);if(g===null)throw Awe();const m={name:l.fullPath},_=jD(o,t.host,t._protocol),C="POST",w=t.maxUploadRetryTime,y=new wV(_,C,u_e(t,n),w);return y.urlParams=m,y.headers=s,y.body=g.uploadData(),y.errorHandler=SV(e),y}class g_e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=el.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=el.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=el.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Uf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class m_e extends g_e{initXhr(){this.xhr_.responseType="text"}}function EV(){return new m_e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this._service=e,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cl(e,n)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mV(this._location.path)}get storage(){return this._service}get parent(){const e=e_e(this._location.path);if(e===null)return null;const n=new hi(this._location.bucket,e);return new Cl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Pwe(e)}}function v_e(t,e,n){t._throwIfRoot("uploadBytes");const r=p_e(t.storage,t._location,vV(),new Ca(e,!0),n);return t.storage.makeRequestWithTokens(r,EV).then(i=>({metadata:i,ref:t}))}function y_e(t){t._throwIfRoot("getDownloadURL");const e=d_e(t.storage,t._location,vV());return t.storage.makeRequestWithTokens(e,EV).then(n=>{if(n===null)throw Rwe();return n})}function w_e(t,e){const n=t_e(t._location.path,e),r=new hi(t._location.bucket,n);return new Cl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __e(t){return/^[A-Za-z]+:\/\//.test(t)}function S_e(t,e){return new Cl(t,e)}function CV(t,e){if(t instanceof WD){const n=t;if(n._bucket==null)throw Owe();const r=new Cl(n,n._bucket);return e!=null?CV(r,e):r}else return e!==void 0?w_e(t,e):t}function E_e(t,e){if(e&&__e(e)){if(t instanceof WD)return S_e(t,e);throw kC("To use ref(service, url), the first argument must be a Storage instance.")}else return CV(t,e)}function CN(t,e){const n=e==null?void 0:e[lV];return n==null?null:hi.makeFromBucketSpec(n,t)}class WD{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=uV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wwe,this._maxUploadRetryTime=_we,this._requests=new Set,i!=null?this._bucket=hi.makeFromBucketSpec(i,this._host):this._bucket=CN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=CN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cl(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new Nwe(cV());{const o=jwe(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bN="@firebase/storage",IN="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="storage";function C_e(t,e,n){return t=Se(t),v_e(t,e,n)}function IV(t){return t=Se(t),y_e(t)}function TV(t,e){return t=Se(t),E_e(t,e)}function b_e(t=tI(),e){return t=Se(t),Np(t,bV).getImmediate({identifier:e})}function I_e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new WD(n,r,i,e,iu)}function T_e(){Bs(new vo(bV,I_e,"PUBLIC").setMultipleInstances(!0)),zi(bN,IN,""),zi(bN,IN,"esm2017")}T_e();const D_e={apiKey:"AIzaSyDtufOv6ScvHdl-SGog3CQmdEhtjl8oX6Q",authDomain:"ulearn-42d0d.firebaseapp.com",databaseURL:"https://ulearn-42d0d-default-rtdb.firebaseio.com/",projectId:"ulearn-42d0d",storageBucket:"ulearn-42d0d.appspot.com",messagingSenderId:"897319107558",appId:"1:1:897319107558:web:ba8d79e49bbd752e0ef427"};let xC="";Qo.apps.length?xC=Qo.app():xC=Qo.initializeApp(D_e);const tl=Qo.auth(xC),go=Qo.firestore(),DV=b_e(),k_e=x1.exports.WidthProvider(x1.exports.Responsive);function nE(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}function TN(t){return(t.default||t).map(r=>{const i=r.text||"";return r.editorState=r.editorState||Cc.EditorState.createWithContent(Cc.ContentState.createFromText(i)),r})}function x_e(t){return Object.assign([],t).map(r=>(r.text=r.editorState.getCurrentContent().getPlainText(),r))}class O_e extends we.exports.Component{constructor(e){super(e),this.state={notes:e.notes?TN(e.notes):[],dateFormat:e.dateFormat||"lll"},this.createBlankNote=this.createBlankNote.bind(this),this.renderNote=this.renderNote.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),this.university=e.university,this.type=e.type}componentDidMount(){this.props.notes&&!this.props.notes.length&&this.fetch()}componentWillReceiveProps(e){e.notes&&e.notes.length&&this.setState({notes:TN(e.notes)}),this.setState({dateFormat:e.dateFormat||"lll"})}handleTitleChange(e,n){n.disable=!1;const{notes:r}=this.state;r.forEach(i=>{n.id===i.id&&(i.title=e.target.value)}),this.setState({notes:r},()=>{this.props.onTitleChange&&this.props.onTitleChange(e,n)})}onBreakpointChange(e){this.setState({cols:e})}onChange(e,n){n.disable=!1;const{notes:r}=this.state,{dateFormat:i}=this.state;r.forEach(o=>{n.id===o.id&&(o.editorState=e,o.timeStamp=ce().format(i))}),typeof this.props.onChange=="function"&&this.props.onChange(x_e(this.state.notes),"update")}noteFirebase(e){const{title:n}=e,{text:r}=e,i=e.timeStamp,{id:o}=e;go.collection("notitas").doc(this.university).collection(this.university).doc(o).set({content:r,date:i,title:n})}deleteNote(e){const{notes:n}=this.state,{id:r}=e;go.collection("notitas").doc(this.university).collection(this.university).doc(r).delete(),n.forEach((i,o)=>{e.id===i.id&&n.splice(o,1)}),this.setState({notes:n},()=>{typeof this.props.onChange=="function"&&(this.props.onChange(this.state.notes,"delete"),typeof this.props.onDelete=="function"&&this.props.onDelete(e))})}createBlankNote(){const{dateFormat:e}=this.state,n=this.props.grid||{},r=nE(),i={grid:{i:`${r}`,x:this.state.notes.length*2%(this.state.cols||12),y:1/0,w:n.w||2,h:n.h||2},id:r,editorState:Cc.EditorState.createEmpty(),title:"T\xEDtulo",color:this.generateRandomColors(),degree:this.generateRandomDegree(-2,2),timeStamp:ce().format(e),contentEditable:!0,disable:!0};this.setState({notes:this.state.notes.concat(i)}),typeof this.props.onAdd=="function"&&this.props.onAdd(i)}createNote(e,n,r,i,o){const s=this.props.grid||{},u={grid:{i:`${nE()}`,x:o*2%(this.state.cols||12),y:1/0,w:s.w||2,h:s.h||2},id:i,editorState:Cc.EditorState.createWithContent(Cc.ContentState.createFromText(n)),title:e,color:this.generateRandomColors(),degree:this.generateRandomDegree(-2,2),timeStamp:r,contentEditable:!1,disable:!0};return typeof this.props.onAdd=="function"&&this.props.onAdd(u),u}onLayoutChange(e){const{notes:n}=this.state;n.forEach(r=>{e.forEach(i=>{i.i===r.id&&(r.grid=i)})}),this.setState({notes:n},()=>{typeof this.props.onChange=="function"&&(this.props.onChange(this.state.notes,"layout"),typeof this.props.onLayoutChange=="function"&&this.props.onLayoutChange(e))})}generateRandomDegree(e,n){return`${Math.floor(Math.random()*(e-n+1))+n}deg`}generateRandomColors(){const e=["#B32168","#0487A4","#F7C536","#E84A64","#10B6C1","#E84A64"];return e[Math.floor(Math.random()*(e.length-1))]}fetch(){const e=[],n=[],r=[],i=[],o=nE();go.collection("notitas").doc(this.university).collection(this.university).get().then(s=>{s.forEach(u=>{e.push(u.get("title")),n.push(u.get("content")),r.push(u.get("date")),i.push(u.id)});const a=[];for(let u=0;u<e.length;u++)a.push(this.createNote(e[u],n[u],r[u],i[u],a.length));e.length===0&&a.push(this.createNote("Hola","Esto es un ejemplo","Mayo 1, 2022 3:17 PM",o)),this.setState({notes:a})})}isSuperUser(){return!this.type}renderNote(e){const n={display:"block",...this.props.closeStyle||{}},r=this.props.addStyle||{},i=this.isSuperUser(),o=this.props.addIcon||"",s={background:e.color,transform:e.degree,...this.props.noteStyle||{}},a={display:"block",...this.props.noteHeaderStyle||{}},u=this.props.noteBodyStyle||{},l={display:"block",...this.props.noteTitleStyle||{}},d={display:"block",...this.props.noteFooterStyle||{}},{i:f}=e.grid,{grid:p}=e;return M("div",{"data-grid":p,children:ct("aside",{className:"note-wrap note tape",style:s,children:[ct("div",{className:"pushpin tilted",children:[M("div",{className:"pinhead"}),M("div",{className:"pinbase"}),M("div",{className:"pinshaft"}),M("div",{className:"pinpoint"})]}),ct("div",{className:"note-header",style:a,children:[M("div",{className:"add",onClick:this.createBlankNote,style:r,children:o}),M("div",{className:"title",stycle:l,children:M(ape,{html:e.title,onChange:g=>this.handleTitleChange(g,e)})}),M("div",{className:"close",style:n,onClick:()=>this.deleteNote(e),children:i})]}),M("input",{disabled:e.disable,className:"note-footerB",style:d,type:"button",id:"save",value:"Guardar",onClick:()=>this.noteFirebase(e)}),M("div",{className:"note-body",id:"myInput",style:u,children:M(Cc.Editor,{editorState:e.editorState,onChange:g=>this.onChange(g,e),placeholder:"Comparte tus pensamientos..."})}),M("div",{className:"note-footer",style:d,children:e.timeStamp})]})},f)}render(){const e=this.props.grid||{},n={className:"layout",cols:e.cols||{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:e.rowHeight||100,isDraggable:!0,isResizable:!0,useCSSTransforms:!0,margin:e.margin},r=this.props.wrapperStyle||{};return M("div",{className:"react-stickies-wrapper clearfix",style:r,children:M(k_e,{onLayoutChange:this.onLayoutChange,...n,children:this.state.notes.map(this.renderNote)})})}}class kV extends we.exports.Component{constructor(e){super(e),this.state={notes:[],showTape:!0,showTitle:!0,output:""},this.toggleValue=this.toggleValue.bind(this),this.onChange=this.onChange.bind(this)}onChange(e){this.setState({output:JSON.stringify(e,null,2),notes:e})}toggleValue(e){this.setState({[e.target.name]:!this.state[e.target.name]})}render(){const e={};return M("div",{children:M(O_e,{notes:this.state.notes,tape:this.state.showTape,style:{float:"left"},title:this.state.showTitle,footer:this.state.showFooter,onChange:this.onChange,wrapperStyle:e,university:this.context.userInfo.university,type:this.context.userInfo.type})})}}Xe(kV,"contextType",Hs);function A_e(t,e){return t.length>e?`${t.slice(0,e-1)}...`:t}function R_e(t){const e=t.books.map(n=>M("div",{className:"book-item",onClick:()=>t.setButton(!0,n),children:M("h2",{className:"title_book",children:A_e(n.title,8)})},n.id));return M("div",{className:"books_container",children:e})}function OC(t){return t.trigger?M("div",{className:"popup",children:ct("div",{className:"popup-inner",children:[M("button",{id:"close-btn",type:"button",className:"close-btn",onClick:()=>t.setTrigger(!1),children:"x"}),t.children]})}):""}function P_e(t){const e=[];return new Promise(n=>{go.collection("archivos").get().then(r=>{r.forEach(i=>{const o=i.get("titulo"),s=i.get("content"),a=i.get("file"),u=i.get("universidad"),l=i.id,{id:d}=i,f={id:d,title:o,content:s,file:a,code:l};u===t&&e.push(f)}),n(e)})})}function N_e(t,e,n,r){const i=t,o=e,s=n,a=r;go.collection("archivos").add({titulo:i,content:o,file:s,universidad:a})}function M_e(t){const e=t.toString();go.collection("archivos").doc(e).delete()}function F_e(t){const e=TV(DV,t);IV(e).then(n=>{const r=document.createElement("a");r.href=n,r.target="_blank",r.download="Funciona",document.body.appendChild(r),r.click(),document.body.removeChild(r)}).catch(n=>{})}let Gm="",DN=!1,rE="";function L_e(t){const{userInfo:e}=we.exports.useContext(Hs);rE=e.university,DN=e.type;const[n,r]=we.exports.useState(!1),[i,o]=we.exports.useState(),[s,a]=we.exports.useState([]),u=()=>{P_e(rE).then(_=>{a(_)})};we.exports.useEffect(()=>{u()},[]);const l=()=>{Gm=""},d=_=>{const C=_.target.files[0];if(C){const w=TV(DV,C.name);C_e(w,C).then(()=>{IV(w).then(y=>{Gm=y,alert("Upload file")})})}},f=()=>{const _=document.getElementById("titulo").value,C=document.getElementById("descripcion").value;_===""||C===""||_.match(/^ *$/)!==null||C.match(/^ *$/)!==null?alert("Faltan campos por llenar"):Gm===""?alert("No puede subir archivos vac\xEDos a la biblioteca"):(N_e(_,C,Gm,rE),u(),setTimeout(()=>{r(!1)},500),l())},p=_=>{M_e(_.code),u(),setTimeout(()=>{r(!1)},500)},g=(_,C)=>{r(_),o(ct("div",{children:[M("h1",{className:"name",children:C.title}),M("p",{className:"details",children:C.content}),M("button",{type:"button",className:"popUp-btn",onClick:()=>{F_e(C.file)},children:"Abrir"}),M("button",{type:"button",className:"delete_btn",disabled:!DN,onClick:()=>p(C),children:"Eliminar"})]}))},m=_=>{r(_),o(ct("div",{className:"addPopUp",children:[M("input",{type:"text",placeholder:"T\xEDtulo",id:"titulo"}),M("input",{type:"text",placeholder:"Descripci\xF3n",id:"descripcion"}),M("input",{type:"file",name:"file",onChange:d}),M("button",{id:"subir_archivo",type:"button",className:"popUp-btn",onClick:()=>f(),children:"Subir"})]}))};return ct("div",{className:"biblioteca",children:[M(R_e,{books:s,setButton:g}),M(OC,{id:"pop_up",trigger:n,setTrigger:r,onClick:()=>{l(),t.setButton(!1)},children:i}),M("div",{className:"botonAgregarDiv",children:M("button",{type:"button",className:"botonAgregar",onClick:()=>m(!0),children:"+"})})]})}class $_e extends we.exports.Component{render(){return M("div",{children:M(L_e,{})})}}const B_e=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"],U_e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],z_e=(t=B_e,e=U_e)=>{const n=new Date,r=`${n.getDate()}-${n.getMonth()+1}-${n.getFullYear()}`,i=[1,2,3,4,5,6,0],[o,s]=we.exports.useState(n),a=new Date(o.getFullYear(),o.getMonth()+1,0),u=new Date(o.getFullYear(),o.getMonth(),0),l=a.getDate(),d=new Date(o.getFullYear(),o.getMonth(),1).getDay(),f=i.indexOf(d)+1;let p=u.getDate()-i.indexOf(d)+1,g=1,m=1;const _=6,C=7,w={};for(let I=1;I<_+1;I++)for(let k=1;k<C+1;k++)w[I]||(w[I]=[]),I===1?k<f?(w[I]=[...w[I],{classes:"in-prev-month",date:`${p}-${o.getMonth()===0?12:o.getMonth()}-${o.getMonth()===0?o.getFullYear()-1:o.getFullYear()}`,value:p}],p++):(w[I]=[...w[I],{classes:"in-this-month",date:`${g}-${o.getMonth()+1}-${o.getFullYear()}`,value:g}],g++):I>1&&g<l+1?(w[I]=[...w[I],{classes:"in-this-month",date:`${g}-${o.getMonth()+1}-${o.getFullYear()}`,value:g}],g++):(w[I]=[...w[I],{classes:"in-next-month",date:`${m}-${o.getMonth()+2===13?1:o.getMonth()+2}-${o.getMonth()+2===13?o.getFullYear()+1:o.getFullYear()}`,value:m}],m++);return{daysShort:t,monthNames:e,todayFormatted:r,calendarRows:w,selectedDate:o,getPrevMonth:()=>{s(I=>new Date(I.getFullYear(),I.getMonth()-1,1))},getNextMonth:()=>{s(I=>new Date(I.getFullYear(),I.getMonth()+1,1))}}};function K_e(t){const{calendarRows:e,selectedDate:n,todayFormatted:r,daysShort:i,monthNames:o,getNextMonth:s,getPrevMonth:a}=z_e(),[u,l]=we.exports.useState([]),[d,f]=we.exports.useState(!1),[p,g]=we.exports.useState(!1),[m,_]=we.exports.useState([]);we.exports.useState(""),we.exports.useState(""),we.exports.useState("");const[C,w]=we.exports.useState(""),[y,S]=we.exports.useState(""),[I,k]=we.exports.useState("");we.exports.useEffect(()=>{let Q="",ie="",ae="",_e="",De="";const Ie=[];go.collection("eventos").get().then(Ae=>{Ae.forEach(X=>{_e=X.id,Q=X.get("contenido"),ie=X.get("fecha"),ae=X.get("titulo"),De=X.get("user"),De===t.email&&(Ie.push({id:_e,contenido:Q,fecha:ie,titulo:ae,user:De}),l(Ie))})})},[]);function O(Q){let ie="";return Q===r&&(ie="today"),u.forEach(ae=>{if(Q===ae.fecha)return ie+="Event",ie}),ie}const A=(Q,ie=I,ae=C,_e=t.email,De=I,Ie=y)=>{go.collection("eventos").add({contenido:Ie,fecha:ie,titulo:ae,user:_e}),g(!1)},F=Q=>{Q.target.name==="titulo"?w(Q.target.value):Q.target.name==="contenido"&&S(Q.target.value),_({contenido:"",fecha:"",titulo:"",id:""})},G=()=>{const{id:Q}=m;go.collection("eventos").doc(Q).delete()},Y=Q=>{let ie=!1;u.forEach(ae=>{Q===ae.fecha&&(ie=!0,_({fecha:ae.fecha,titulo:ae.titulo,contenido:ae.contenido}),f(!0))}),ie?f(!0):(k(Q),g(!0))};return ct(G$,{children:[M("p",{className:"mountTitle",children:` ${o[n.getMonth()]} - ${n.getFullYear()}`}),ct("table",{className:"table",children:[M("thead",{children:M("tr",{children:i.map(Q=>M("th",{children:Q},Q))})}),M("tbody",{children:Object.values(e).map(Q=>M("tr",{children:Q.map(ie=>M("td",{className:`${ie.classes} ${O(ie.date)}`,onClick:()=>Y(ie.date),children:ie.value},ie.date))},Q[0].date))})]}),ct("div",{className:"megacontenedordebotones8000",children:[M("button",{type:"button",className:"buttonControl",onClick:a,children:"Previo"}),M("button",{type:"button",className:"buttonControl",onClick:s,children:"Siguiente"})]}),M(OC,{trigger:p,setTrigger:g,children:ct("div",{className:"preguntaInador",children:[M("div",{className:"cabeza",children:M("h3",{children:I})}),M("div",{className:"fechaInador1",children:ct("div",{className:"ingresador",children:[M("h3",{children:"T\xEDtulo"}),M("input",{type:"text",name:"titulo",onChange:F})]})}),M("div",{className:"fechaInador3",children:ct("div",{className:"ingresador",children:[M("h3",{children:"Contenido"}),M("input",{name:"contenido",type:"text",onChange:F})]})}),M("button",{className:"continuaBotoncito",type:"button",onClick:A,children:"Continuar"})]})}),M(OC,{trigger:d,setTrigger:f,children:ct("div",{className:"eventDiv",children:[ct("div",{className:"eventDiv1",children:[M("h1",{children:m.fecha}),ct("h2",{children:["T\xEDtulo:",m.titulo]})]}),M("div",{className:"eventDiv2",children:ct("h2",{children:["Informaci\xF3n:",m.contenido]})}),M("button",{type:"button",className:"buttonControl",onClick:G,children:"BORRAR"})]})})]})}class xV extends we.exports.Component{render(){return M("div",{className:"Calendario",children:M("div",{className:"container has-text-centered",children:M(K_e,{email:this.context.userInfo.email})})})}}Xe(xV,"contextType",Hs);var AC={exports:{}},bg={};(function(t){(function(e,n){n(t)})(li,function(e){var n=e;function r(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}n.classCallCheck=r;function i(y,S){for(var I=0;I<S.length;I++){var k=S[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(y,k.key,k)}}function o(y,S,I){return S&&i(y.prototype,S),I&&i(y,I),y}n.createClass=o;function s(y,S,I){return S in y?Object.defineProperty(y,S,{value:I,enumerable:!0,configurable:!0,writable:!0}):y[S]=I,y}n.defineProperty=s;function a(){return n.extends=a=Object.assign||function(y){for(var S=1;S<arguments.length;S++){var I=arguments[S];for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&(y[k]=I[k])}return y},a.apply(this,arguments)}n.extends=a;function u(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(S&&S.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),S&&n.setPrototypeOf(y,S)}n.inherits=u;function l(y){return n.getPrototypeOf=l=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},l(y)}n.getPrototypeOf=l;function d(y,S){return n.setPrototypeOf=d=Object.setPrototypeOf||function(k,O){return k.__proto__=O,k},d(y,S)}n.setPrototypeOf=d;function f(y){return y&&y.__esModule?y:{default:y}}n.interopRequireDefault=f;function p(){if(typeof WeakMap!="function")return null;var y=new WeakMap;return p=function(){return y},y}function g(y){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var S=p();if(S&&S.has(y))return S.get(y);var I={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in y)if(Object.prototype.hasOwnProperty.call(y,O)){var A=k?Object.getOwnPropertyDescriptor(y,O):null;A&&(A.get||A.set)?Object.defineProperty(I,O,A):I[O]=y[O]}return I.default=y,S&&S.set(y,I),I}n.interopRequireWildcard=g;function m(y,S){if(y==null)return{};var I={},k=Object.keys(y),O,A;for(A=0;A<k.length;A++)O=k[A],!(S.indexOf(O)>=0)&&(I[O]=y[O]);return I}n.objectWithoutPropertiesLoose=m;function _(y,S){if(y==null)return{};var I=n.objectWithoutPropertiesLoose(y,S),k,O;if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(y);for(O=0;O<A.length;O++)k=A[O],!(S.indexOf(k)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,k)||(I[k]=y[k]))}return I}n.objectWithoutProperties=_;function C(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}n.assertThisInitialized=C;function w(y,S){return S&&(typeof S=="object"||typeof S=="function")?S:n.assertThisInitialized(y)}n.possibleConstructorReturn=w})})(bg);function V_e(t,e){if(!(!e||!t.setAttribute)){for(var n=GD(t),r=e.split(" "),i,o=0;o<r.length;o++)i=r[o].trim(),n.indexOf(" "+i+" ")===-1&&(n+=i+" ");t.setAttribute("class",n.trim())}}function j_e(t,e,n){if(e===void 0)return getComputedStyle(t);var r=RC(e);if(r==="object"){for(var a in e)t.style[PC(a)]=e[a];return}r==="string"&&n!==void 0&&(t.style[PC(e)]=n);var i=getComputedStyle(t),o=RC(e)==="array";if(!o)return kN(t,e,i);for(var s={},a,u=0;u<e.length;u++)a=e[u],s[a]=kN(t,a,i);return s}function W_e(t,e){return!e||!t.getAttribute?!1:GD(t).indexOf(" "+e+" ")>-1}function RC(t){if(t===void 0)return"undefined";var e=Object.prototype.toString.call(t);if(e.indexOf("[object ")===0)return e.slice(8,-1).toLowerCase();throw new Error("MUI: Could not understand type: "+e)}function OV(t,e,n,r){r=r===void 0?!1:r;var i=t._muiEventCache=t._muiEventCache||{};e.split(" ").map(function(o){t.addEventListener(o,n,r),i[o]=i[o]||[],i[o].push([n,r])})}function AV(t,e,n,r){r=r===void 0?!1:r;var i=t._muiEventCache=t._muiEventCache||{},o,s,a;e.split(" ").map(function(u){for(o=i[u]||[],a=o.length;a--;)s=o[a],(n===void 0||s[0]===n&&s[1]===r)&&(o.splice(a,1),t.removeEventListener(u,s[0],s[1]))})}function H_e(t,e,n,r){e.split(" ").map(function(i){OV(t,i,function o(s){n&&n.apply(this,arguments),AV(t,i,o,r)},r)})}function HD(t,e){var n=window;if(e===void 0)if(t===n){var r=document.documentElement;return(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}else return t.scrollLeft;t===n?n.scrollTo(e,qD(n)):t.scrollLeft=e}function qD(t,e){var n=window;if(e===void 0)if(t===n){var r=document.documentElement;return(n.pageYOffset||r.scrollTop)-(r.clientTop||0)}else return t.scrollTop;t===n?n.scrollTo(HD(n),e):t.scrollTop=e}function q_e(t){var e=window,n=t.getBoundingClientRect(),r=qD(e),i=HD(e);return{top:n.top+r,left:n.left+i,height:n.height,width:n.width}}function G_e(t){var e=!1,n=!0,r=document,i=r.defaultView,o=r.documentElement,s=r.addEventListener?"addEventListener":"attachEvent",a=r.addEventListener?"removeEventListener":"detachEvent",u=r.addEventListener?"":"on",l=function(f){f.type=="readystatechange"&&r.readyState!="complete"||((f.type=="load"?i:r)[a](u+f.type,l,!1),!e&&(e=!0)&&t.call(i,f.type||f))},d=function(){try{o.doScroll("left")}catch{setTimeout(d,50);return}l("poll")};if(r.readyState=="complete")t.call(i,"lazy");else{if(r.createEventObject&&o.doScroll){try{n=!i.frameElement}catch{}n&&d()}r[s](u+"DOMContentLoaded",l,!1),r[s](u+"readystatechange",l,!1),i[s](u+"load",l,!1)}}function Y_e(t,e){if(!(!e||!t.setAttribute)){for(var n=GD(t),r=e.split(" "),i,o=0;o<r.length;o++)for(i=r[o].trim();n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");t.setAttribute("class",n.trim())}}var Q_e=/([\:\-\_]+(.))/g,X_e=/^moz([A-Z])/;function GD(t){var e=(t.getAttribute("class")||"").replace(/[\n\t]/g,"");return" "+e+" "}function PC(t){return t.replace(Q_e,function(e,n,r,i){return i?r.toUpperCase():r}).replace(X_e,"Moz$1")}function kN(t,e,n){var r;return r=n.getPropertyValue(e),r===""&&!t.ownerDocument&&(r=t.style[PC(e)]),r}var YD={addClass:V_e,css:j_e,hasClass:W_e,off:AV,offset:q_e,on:OV,one:H_e,ready:G_e,removeClass:Y_e,type:RC,scrollLeft:HD,scrollTop:qD},ya=YD,kh=0,NC="mui-scroll-lock",MC,FC,QD,Ym,Qm;QD=function(t){t.target.tagName||t.stopImmediatePropagation()};function J_e(){var t=window;if(typeof t.console!="undefined")try{t.console.log.apply(t.console,arguments)}catch{var e=Array.prototype.slice.call(arguments);t.console.log(e.join(`
`))}}function RV(t){var e=document,n;n=e.head||e.getElementsByTagName("head")[0]||e.documentElement;var r=e.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),n.insertBefore(r,n.firstChild),r}function Z_e(t,e){if(e)typeof console!="undefined"&&console.warn("MUI Warning: "+t);else throw new Error("MUI: "+t)}function eSe(t){var e="";for(var n in t)e+=t[n]?n+" ":"";return e.trim()}function tSe(){if(Qm!==void 0)return Qm;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",Qm=t.style.pointerEvents==="auto",Qm}function nSe(t,e){return function(){t[e].apply(t,arguments)}}function rSe(t,e,s,a,i){var o=document.createEvent("HTMLEvents"),s=s!==void 0?s:!0,a=a!==void 0?a:!0,u;if(o.initEvent(e,s,a),i)for(u in i)o[u]=i[u];return t&&t.dispatchEvent(o),o}function iSe(){if(kh+=1,kh===1){var t=document,e=window,n=t.documentElement,r=t.body,i=sSe(),o,s,a;o=["overflow:hidden"],i&&(n.scrollHeight>n.clientHeight&&(a=parseInt(ya.css(r,"padding-right"))+i,o.push("padding-right:"+a+"px")),n.scrollWidth>n.clientWidth&&(a=parseInt(ya.css(r,"padding-bottom"))+i,o.push("padding-bottom:"+a+"px"))),s="."+NC+"{",s+=o.join(" !important;")+" !important;}",FC=RV(s),ya.on(e,"scroll",QD,!0),MC={left:ya.scrollLeft(e),top:ya.scrollTop(e)},ya.addClass(r,NC)}}function oSe(t){kh!==0&&(kh-=1,kh===0&&(ya.removeClass(document.body,NC),t&&window.scrollTo(MC.left,MC.top),ya.off(window,"scroll",QD,!0),setTimeout(function(){FC.parentNode.removeChild(FC)},0)))}var sSe=function(){if(Ym!==void 0)return Ym;var t=document,e=t.body,n=t.createElement("div");return n.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',n=n.firstChild,e.appendChild(n),Ym=n.offsetWidth-n.clientWidth,e.removeChild(n),Ym};function aSe(t){var e=window.requestAnimationFrame;e?e(t):setTimeout(t,0)}var XD={callback:nSe,classNames:eSe,disableScrollLock:oSe,dispatchEvent:rSe,enableScrollLock:iSe,log:J_e,loadStyle:RV,raiseError:Z_e,requestAnimationFrame:aSe,supportsPointerEvents:tSe};(function(t,e){var n=bg;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n.interopRequireDefault(we.exports),i=n.interopRequireWildcard(YD),o=n.interopRequireWildcard(XD);function s(p){var g=a();return function(){var _=n.getPrototypeOf(p),C;if(g){var w=n.getPrototypeOf(this).constructor;C=Reflect.construct(_,arguments,w)}else C=_.apply(this,arguments);return n.possibleConstructorReturn(this,C)}}function a(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var u="mui-btn",l={color:1,variant:1,size:1},d=function(p){n.inherits(m,p);var g=s(m);function m(_){var C;n.classCallCheck(this,m),C=g.call(this,_),n.defineProperty(n.assertThisInitialized(C),"state",{rippleStyle:{},rippleIsVisible:!1});var w=o.callback;return C.onMouseDownCB=w(n.assertThisInitialized(C),"onMouseDown"),C.onMouseUpCB=w(n.assertThisInitialized(C),"onMouseUp"),C.onMouseLeaveCB=w(n.assertThisInitialized(C),"onMouseLeave"),C.onTouchStartCB=w(n.assertThisInitialized(C),"onTouchStart"),C.onTouchEndCB=w(n.assertThisInitialized(C),"onTouchEnd"),C}return n.createClass(m,[{key:"componentDidMount",value:function(){var C=this.buttonElRef;C._muiDropdown=!0,C._muiRipple=!0}},{key:"onMouseDown",value:function(C){this.showRipple(C);var w=this.props.onMouseDown;w&&w(C)}},{key:"onMouseUp",value:function(C){this.hideRipple(C);var w=this.props.onMouseUp;w&&w(C)}},{key:"onMouseLeave",value:function(C){this.hideRipple(C);var w=this.props.onMouseLeave;w&&w(C)}},{key:"onTouchStart",value:function(C){this.showRipple(C);var w=this.props.onTouchStart;w&&w(C)}},{key:"onTouchEnd",value:function(C){this.hideRipple(C);var w=this.props.onTouchEnd;w&&w(C)}},{key:"showRipple",value:function(C){var w=this.buttonElRef;if(!("ontouchstart"in w&&C.type==="mousedown")){var y=i.offset(this.buttonElRef),S;C.type==="touchstart"&&C.touches?S=C.touches[0]:S=C;var I=Math.sqrt(y.width*y.width+y.height*y.height),k=I*2+"px";this.setState({rippleStyle:{top:Math.round(S.pageY-y.top-I)+"px",left:Math.round(S.pageX-y.left-I)+"px",width:k,height:k},rippleIsVisible:!0})}}},{key:"hideRipple",value:function(C){this.setState({rippleIsVisible:!1})}},{key:"componentDidUpdate",value:function(C,w){var y=this.state,S=this.rippleElRef;y.rippleIsVisible&&!w.rippleIsVisible&&(i.removeClass(S,"mui--is-animating"),i.addClass(S,"mui--is-visible"),o.requestAnimationFrame(function(){i.addClass(S,"mui--is-animating")})),!y.rippleIsVisible&&w.rippleIsVisible&&o.requestAnimationFrame(function(){i.removeClass(S,"mui--is-visible")})}},{key:"render",value:function(){var C=this,w=u,y,S,I=this.props;I.color,I.size,I.variant;var k=n.objectWithoutProperties(I,["color","size","variant"]);for(y in l)S=this.props[y],S!=="default"&&(w+=" "+u+"--"+S);return r.default.createElement("button",n.extends({},k,{ref:function(A){C.buttonElRef=A},className:w+" "+this.props.className,onMouseUp:this.onMouseUpCB,onMouseDown:this.onMouseDownCB,onMouseLeave:this.onMouseLeaveCB,onTouchStart:this.onTouchStartCB,onTouchEnd:this.onTouchEndCB}),this.props.children,r.default.createElement("span",{className:"mui-btn__ripple-container"},r.default.createElement("span",{ref:function(A){C.rippleElRef=A},className:"mui-ripple",style:this.state.rippleStyle})))}}]),m}(r.default.Component);n.defineProperty(d,"defaultProps",{className:"",color:"default",size:"default",variant:"default"});var f=d;e.default=f,t.exports=e.default})(AC,AC.exports);var Tp=BC(AC.exports),uSe="https://ldsc2002.github.io/ULearn-React-UI/assets/studentUlearn.5d9f386f.jpeg";class PV extends we.exports.Component{constructor(n){super(n);Xe(this,"onClick_LogOut",async()=>{tl.signOut(),this.context.appActions.goToScreen("logIn",this.context.baseScreenId,{transitionId:"fadeIn"})});this.state={s_email:"",s_name:"",s_major:""}}componentDidMount(){this.setState({s_email:this.context.userInfo.email}),this.setState({s_name:this.context.userInfo.name}),this.setState({s_major:this.context.userInfo.mayor})}render(){const n={background:"rgba(255, 255, 255, 1.000)"},r={color:"black",textAlign:"center"},i={height:200,width:200,borderRadius:100},o={color:"black",paddingTop:"30px",fontFamily:"Arial"},s={color:"black",paddingTop:"10px",fontFamily:"Arial"},a={display:"block",color:"#fff",textAlign:"center",backgroundColor:"rgba(250, 54, 54, 1.000)",cursor:"pointer",pointerEvents:"auto"};return ct("div",{className:"Usuario",children:[M("div",{className:"background",children:M("div",{className:"containerMinHeight elBackgroundShape",style:n})}),ct("div",{className:"layoutFlow",children:[M("div",{className:"elText",children:ct("div",{className:"baseFont",style:r,children:[M("img",{src:uSe,style:i,alt:"Imagen de usuario"}),M("div",{className:"name",style:o,children:this.state.s_name}),M("div",{className:"info",style:s,children:this.state.s_major}),M("div",{className:"info",style:s,children:this.state.s_email})]})}),M("div",{className:"elButton",children:M(Tp,{className:"elButton",style:a,onClick:this.onClick_LogOut,children:"Cerrar Sesi\xF3n"})})]})]})}}Xe(PV,"contextType",Hs);class eh extends we.exports.Component{constructor(e){super(e),this.state={}}renderState0(){const e=(r=>{if(r instanceof String||typeof r=="string")return r;try{return JSON.stringify(r)}catch{return r.toString()}})(this.props.title);return M("div",{className:"TabBarButton",children:M("div",{className:"foreground",children:M("div",{className:"baseFont state0_elTitle",style:{color:"#fefeff",textAlign:"center"},children:M("div",{children:e})})})})}renderState1(){const e=(i=>{if(i instanceof String||typeof i=="string")return i;try{return JSON.stringify(i)}catch{return i.toString()}})(this.props.title);return M("div",{className:"TabBarButton",children:ct("div",{className:"foreground",children:[M("div",{className:"baseFont state1_elTitle",style:{color:"#fa3636",textAlign:"center"},children:M("div",{children:e})}),M("div",{className:"state1_elSelectionMarker",style:{background:"rgba(250, 54, 54, 1.000)"}})]})})}render(){switch(parseInt(this.state&&this.state.visualStateIndexOverride!==void 0?this.state.visualStateIndexOverride:this.props.visualStateIndex,10)){case 0:return this.renderState0();case 1:return this.renderState1();default:return""}}}Xe(eh,"contextType",Hs);class NV extends we.exports.Component{constructor(n){super(n);Xe(this,"selectorSelectionChanged",(n,r)=>{this.setState({selectedIndex_selector:n}),this.context.appActions.updateDataSlot("ds_SlotSelectedTab",n.toString())});this.state={}}componentDidMount(){const n=eG();y5(n,r=>{r||this.context.appActions.goToScreen("logIn",this.context.baseScreenId,{transitionId:"fadeIn"})})}render(){const n={},r={};this.context.transitionId&&this.context.transitionId.length>0&&this.context.atTopOfScreenStack&&this.context.transitionForward&&(r.animation=`0.25s ease-in-out ${this.context.transitionId}`),this.context.atTopOfScreenStack||(n.height="100vh",n.overflow="hidden");const i=(()=>{let d=this.context.appActions.dataSlots?this.context.appActions.dataSlots.ds_SlotSelectedTab:"";return d!==void 0&&(d=parseInt(d,10),!Number.isNaN(d))?d:Number.isNaN(this.state.selectedIndex_selector)?0:this.state.selectedIndex_selector})(),o={background:"rgba(255, 255, 255, 1.000)"};let s;switch(i){case 0:s=M(kV,{...this.props});break;case 1:s=M($_e,{...this.props});break;case 2:s=M(xV,{...this.props});break;case 3:s=M(PV,{...this.props});break}const a={background:"rgba(161, 14, 24, 1.000)"},u={overflow:"hidden"},l={display:"inline-block",position:"relative",width:"25.0%",cursor:"pointer",pointerEvents:"auto"};return ct("div",{className:"AppScreen StartScreen",style:r,children:[M("div",{className:"background",children:M("div",{className:"containerMinHeight elBackgroundShape",style:o})}),M("div",{className:"layoutFlow",style:n,children:M("div",{className:"hasNestedComps elTabContent",children:M("div",{children:s})})}),M("div",{className:"screenFgContainer",children:ct("div",{className:"foreground",children:[M("div",{className:"elRectangle",style:a}),ct("div",{className:"hasNestedComps elSelector",style:u,children:[M("div",{style:l,onClick:this.selectorSelectionChanged.bind(this,0),children:M(eh,{visualStateIndex:i===0?1:0,title:"Pizarr\xF3n",unselectedStateIndex:"0",selectedStateIndex:"0"})}),M("div",{style:l,onClick:this.selectorSelectionChanged.bind(this,1),children:M(eh,{visualStateIndex:i===1?1:0,title:"Biblioteca"})}),M("div",{style:l,onClick:this.selectorSelectionChanged.bind(this,2),children:M(eh,{visualStateIndex:i===2?1:0,title:"Calendario"})}),M("div",{style:l,onClick:this.selectorSelectionChanged.bind(this,3),children:M(eh,{visualStateIndex:i===3?1:0,title:"Usuario"})})]})]})})]})}}Xe(NV,"contextType",Hs);var LC={exports:{}},r_={},lSe=Object.prototype.hasOwnProperty;function xN(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ON(t,e){if(xN(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!lSe.call(e,n[i])||!xN(t[n[i]],e[n[i]]))return!1;return!0}function cSe(t,e,n){return!ON(t.props,e)||!ON(t.state,n)}var dSe=cSe,fSe="You provided a `value` prop to a form field without an `OnChange` handler. Please see React documentation on controlled components",hSe={controlledMessage:fSe},Xt=bg;Object.defineProperty(r_,"__esModule",{value:!0});r_.textfieldWrapper=void 0;var kc=Xt.interopRequireDefault(we.exports),pSe=Xt.interopRequireDefault(dSe),gSe=Xt.interopRequireWildcard(YD),zf=Xt.interopRequireWildcard(XD),mSe=hSe;function MV(t){var e=vSe();return function(){var r=Xt.getPrototypeOf(t),i;if(e){var o=Xt.getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Xt.possibleConstructorReturn(this,i)}}function vSe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ySe=function(e){var n,r;return r=n=function(i){Xt.inherits(s,i);var o=MV(s);function s(a){var u;Xt.classCallCheck(this,s),u=o.call(this,a),u.state={isEmpty:iE("value"in a?a.value:a.defaultValue),isTouched:!1,isPristine:!0},"value"in a&&!a.onChange&&zf.raiseError(mSe.controlledMessage,!0);var l=zf.callback;return u.onBlurCB=l(Xt.assertThisInitialized(u),"onBlur"),u.onChangeCB=l(Xt.assertThisInitialized(u),"onChange"),u.onLabelClickCB=l(Xt.assertThisInitialized(u),"onLabelClick"),u}return Xt.createClass(s,[{key:"onBlur",value:function(u){document.activeElement!==this.controlEl&&this.setState({isTouched:!0});var l=this.props.onBlur;l&&l(u)}},{key:"onChange",value:function(u){this.setState({isEmpty:iE(u.target.value),isPristine:!1});var l=this.props.onChange;l&&l(u)}},{key:"onLabelClick",value:function(u){zf.supportsPointerEvents()===!1&&(u.target.style.cursor="text",this.controlEl.focus())}},{key:"UNSAFE_componentWillReceiveProps",value:function(u){"value"in u&&this.setState({isEmpty:iE(u.value)})}},{key:"shouldComponentUpdate",value:function(u,l){return(0,pSe.default)(this,u,l)}},{key:"componentDidMount",value:function(){this.controlEl._muiTextfield=!0}},{key:"render",value:function(){var u=this,l={},d={},f,p=this.props;p.children;var g=p.className,m=p.style,_=p.hint,C=p.invalid,w=p.label,y=p.floatingLabel,S=Xt.objectWithoutProperties(p,["children","className","style","hint","invalid","label","floatingLabel"]),I=gSe.type(w);return(I=="string"&&w.length||I=="object")&&(f=kc.default.createElement(FV,{text:w,onClick:this.onClickCB,htmlFor:this.props.id})),l["mui-textfield"]=!0,l["mui-textfield--float-label"]=y,l=zf.classNames(l),d["mui--is-touched"]=this.state.isTouched,d["mui--is-untouched"]=!this.state.isTouched,d["mui--is-pristine"]=this.state.isPristine,d["mui--is-dirty"]=!this.state.isPristine,d["mui--is-empty"]=this.state.isEmpty,d["mui--is-not-empty"]=!this.state.isEmpty,d["mui--is-invalid"]=C,d=zf.classNames(d),kc.default.createElement("div",{className:l+" "+g,style:m},kc.default.createElement(e,Xt.extends({className:d,inputRef:function(O){u.controlEl=O},placeholder:_},S,{onBlur:this.onBlurCB,onChange:this.onChangeCB})),f)}}]),s}(kc.default.Component),Xt.defineProperty(n,"defaultProps",{className:"",hint:null,invalid:!1,label:null,floatingLabel:!1}),r};r_.textfieldWrapper=ySe;var FV=function(t){Xt.inherits(n,t);var e=MV(n);function n(){var r;Xt.classCallCheck(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xt.defineProperty(Xt.assertThisInitialized(r),"state",{style:{}}),r}return Xt.createClass(n,[{key:"componentDidMount",value:function(){var i=this;this.styleTimer=setTimeout(function(){var o=".15s ease-out",s;s={transition:o,WebkitTransition:o,MozTransition:o,OTransition:o,msTransform:o},i.setState({style:s})},150)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.styleTimer)}},{key:"render",value:function(){return kc.default.createElement("label",{style:this.state.style,onClick:this.props.onClick,htmlFor:this.props.htmlFor,tabIndex:"-1"},this.props.text)}}]),n}(kc.default.Component);Xt.defineProperty(FV,"defaultProps",{text:"",onClick:null});function iE(t){return t==null||t===""}(function(t,e){var n=bg;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n.interopRequireDefault(we.exports),i=r_,o=(0,i.textfieldWrapper)(function(a){var u=a.inputRef,l=n.objectWithoutProperties(a,["inputRef"]);return r.default.createElement("input",n.extends({ref:u},l))}),s=o;e.default=s,t.exports=e.default})(LC,LC.exports);var xh=BC(LC.exports),LV="https://ldsc2002.github.io/ULearn-React-UI/assets/books.d1b2730b.jpg",$V="https://ldsc2002.github.io/ULearn-React-UI/assets/CrearCuentaScreen_elPerson_405468.fc65032c.png";class BV extends we.exports.Component{constructor(n){super(n);Xe(this,"getValue_elField2",()=>this.state.field2||"");Xe(this,"getValue_elField",()=>this.state.field||"");Xe(this,"getValue_elFieldCopy2",()=>this.state.fieldCopy2||"");Xe(this,"getValue_elFieldCopy",()=>this.state.fieldCopy||"");Xe(this,"getValue_Universidad",()=>this.state.universidad||"");Xe(this,"onClick_elButtonCopy",async()=>{try{const n=await jL(tl,this.state.registerEmail,this.state.registerPassword);HL(tl.currentUser,{displayName:this.state.registerName,photoURL:this.state.registerMajor}),go.collection("usuarios").doc(tl.currentUser.uid).set({usuario:this.state.registerEmail,nombre:this.state.registerName,carrera:this.state.registerMajor,universidad:this.state.registerCollege,tipo:!1}),this.context.userInfo.university=this.state.registerCollege,this.context.userInfo.type=!1,this.context.userInfo.name=this.state.registerName,this.context.userInfo.mayor=this.state.registerMajor,this.context.userInfo.email=this.state.loginEmail,this.context.appActions.goToScreen("start",this.context.baseScreenId,{transitionId:"fadeIn"})}catch(n){n.code==="auth/user-not-found"||this.state.errorType==="auth/user-not-found"?alert(`Usario no existe.
Por favor cree una cuenta.`):n.code==="auth/wrong-password"||this.state.errorType==="auth/wrong-password"?alert(`Contrase\xF1a incorrecta.
Intente de nuevo.`):n.code==="auth/email-already-in-use"||this.state.errorType==="auth/email-already-in-use"?alert(`Por favor utilice otro correo.
Este correo ya esta en uso.`,[{text:"Ok",onPress:()=>null,style:"cancel"},{text:"Contactar a servicio tecnico",onPress:()=>window.open("mailto:ara20261@uvg.edu.gt")}]):n.code==="auth/invalid-email"||this.state.errorType==="auth/invalid-email"?alert(`Correo invalido.
Por favor revise que haya ingresado un correo valido.`):alert(`Error desconocido.
Intente m\xE1s tarde.`)}});Xe(this,"textErrorTypeChanged_elField",n=>{this.setState({errorType:n})});Xe(this,"textInputChanged_elField",n=>{this.setState({field:n.target.value}),this.setState({registerName:n.target.value})});Xe(this,"textInputChanged_elField2",n=>{this.setState({field2:n.target.value}),this.setState({registerMajor:n.target.value})});Xe(this,"textInputChanged_elFieldCopy2",n=>{this.setState({fieldCopy2:n.target.value}),this.setState({registerEmail:n.target.value})});Xe(this,"textInputChanged_elFieldCopy",n=>{this.setState({fieldCopy:n.target.value}),this.setState({registerPassword:n.target.value})});Xe(this,"textInputChanged_Universidad",n=>{this.setState({universidad:n.target.value}),this.setState({registerCollege:n.target.value})});Xe(this,"onClick_elButton",async()=>{this.context.appActions.goToScreen("logIn",this.context.baseScreenId,{transitionId:"fadeIn"})});this.state={registerEmail:"",registerPassword:"",registerName:"",registerMajor:"",registerCollege:"",errorType:""}}render(){const n={},r={};this.context.transitionId&&this.context.transitionId.length>0&&this.context.atTopOfScreenStack&&this.context.transitionForward&&(r.animation=`0.25s ease-in-out ${this.context.transitionId}`),this.context.atTopOfScreenStack||(n.height="100vh",n.overflow="hidden");const i={backgroundImage:`url(${LV})`,backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover"},o={boxSizing:"border-box",backgroundColor:"white",filter:"drop-shadow(0.0px 2.3px 18px rgba(0, 0, 0, 0.1600))",overflow:"visible"},s={display:"block",paddingTop:0,textAlign:"left",pointerEvents:"auto"},a={display:"block",color:"(null)",textAlign:"center",backgroundColor:"rgba(250, 54, 54, 1.000)",cursor:"pointer",pointerEvents:"auto"},u={display:"block",color:"#fff",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5000)",cursor:"pointer",pointerEvents:"auto"},l={backgroundImage:`url(${$V})`,backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover"};return ct("div",{className:"AppScreen CrearCuentaScreen",style:r,children:[M("div",{className:"background",children:M("div",{className:"containerMinHeight elCitCopy",style:i})}),ct("div",{className:"layoutFlow",style:n,children:[M("div",{className:"elCard",style:o,children:M("div",{className:"cardBg"})}),M("div",{className:"elField",children:M(xh,{className:"baseFont",style:s,type:"text",placeholder:"Nombre completo",onChange:this.textInputChanged_elField,value:this.getValue_elField()})}),M("div",{className:"elFieldCopy",children:ct("select",{className:"baseFont",id:"uni",style:s,placeholder:"Universidad",onChange:this.textInputChanged_Universidad,value:this.getValue_Universidad(),children:[M("option",{disabled:!0,value:"",children:"Universidad"}),M("option",{value:"ufm",children:"Universidad Francisco Marroquin"}),M("option",{value:"umg",children:"Universidad Mariano Galvez"}),M("option",{value:"url",children:"Universidad Rafael Landivar"}),M("option",{value:"usac",children:"Universidad San Carlos de Guatemala"}),M("option",{value:"uvg",children:"Universidad del Valle de Guatemala"})]})}),M("div",{className:"elFieldCopy",children:ct("select",{className:"baseFont",id:"carrera",style:s,placeholder:"Carrera",onChange:this.textInputChanged_elField2,value:this.getValue_elField2(),children:[M("option",{disabled:!0,value:"",children:"Carrera"}),M("option",{value:"Ingenier\xEDa Biom\xE9dica",children:"Ingenier\xEDa Biom\xE9dica"}),M("option",{value:"Ingenier\xEDa Biotecnolog\xEDa Industrial",children:"Ingenier\xEDa Biotecnolog\xEDa Industrial"}),M("option",{value:"Ingenier\xEDa en Ciencias de Alimentos",children:"Ingenier\xEDa en Ciencias de Alimentos"}),M("option",{value:"Ingenier\xEDa en Ciencias de Alimentos Industrial",children:"Ingenier\xEDa en Ciencias de Alimentos Industrial"}),M("option",{value:"Ingenier\xEDa en Ciencias de la Administraci\xF3n",children:"Ingenier\xEDa en Ciencias de la Administraci\xF3n"}),M("option",{value:"Ingenier\xEDa en Ciencia de los Datos",children:"Ingenier\xEDa en Ciencia de los Datos"}),M("option",{value:"Ingenier\xEDa Civil",children:"Ingenier\xEDa Civil"}),M("option",{value:"Ingenier\xEDa Civil Ambiental",children:"Ingenier\xEDa Civil Ambiental"}),M("option",{value:"Ingenier\xEDa Civil Arquitect\xF3nica",children:"Ingenier\xEDa Civil Arquitect\xF3nica"}),M("option",{value:"Ingenier\xEDa Civil Industrial",children:"Ingenier\xEDa Civil Industrial"}),M("option",{value:"Ingenier\xEDa en Computaci\xF3n y Tecnolog\xEDas de la Informaci\xF3n",children:"Ingenier\xEDa en Computaci\xF3n y Tecnolog\xEDas de la Informaci\xF3n"}),M("option",{value:"Ingenier\xEDa Electr\xF3nica",children:"Ingenier\xEDa Electr\xF3nica"}),M("option",{value:"Ingenier\xEDa Industrial",children:"Ingenier\xEDa Industrial"}),M("option",{value:"Ingenier\xEDa Mec\xE1nica",children:"Ingenier\xEDa Mec\xE1nica"}),M("option",{value:"Ingenier\xEDa Mec\xE1nica Industrial",children:"Ingenier\xEDa Mec\xE1nica Industrial"}),M("option",{value:"Ingenier\xEDa Mecatr\xF3nica",children:"Ingenier\xEDa Mecatr\xF3nica"}),M("option",{value:"Ingenier\xEDa Qu\xEDmica",children:"Ingenier\xEDa Qu\xEDmica"}),M("option",{value:"Ingenier\xEDa Qu\xEDmica Industrial",children:"Ingenier\xEDa Qu\xEDmica Industrial"})]})}),M("div",{className:"elFieldCopy2",children:M(xh,{className:"baseFont",style:s,type:"email",placeholder:"alguien@ejemplo.com",onChange:this.textInputChanged_elFieldCopy2,value:this.getValue_elFieldCopy2()})}),M("div",{className:"elFieldCopy2",children:M(xh,{className:"baseFont",style:s,type:"password",placeholder:"Contrase\xF1a",onChange:this.textInputChanged_elFieldCopy,value:this.getValue_elFieldCopy()})}),M("div",{className:"elButtonCopy",children:M(Tp,{className:"actionFont",style:a,color:"accent",onClick:this.onClick_elButtonCopy,children:"Crear cuenta"})}),M("div",{className:"elButton",children:M(Tp,{className:"actionFont",style:u,onClick:this.onClick_elButton,children:"Iniciar sesi\xF3n"})})]}),M("div",{className:"screenFgContainer",children:M("div",{className:"foreground",children:M("div",{className:"elPerson",style:l})})})]})}}Xe(BV,"contextType",Hs);var $C={exports:{}};(function(t,e){var n=bg;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n.interopRequireDefault(we.exports);n.interopRequireWildcard(XD);function i(u){var l=o();return function(){var f=n.getPrototypeOf(u),p;if(l){var g=n.getPrototypeOf(this).constructor;p=Reflect.construct(f,arguments,g)}else p=f.apply(this,arguments);return n.possibleConstructorReturn(this,p)}}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var s=function(u){n.inherits(d,u);var l=i(d);function d(){return n.classCallCheck(this,d),l.apply(this,arguments)}return n.createClass(d,[{key:"render",value:function(){var p=this,g=this.props;g.children;var m=g.className,_=g.label,C=g.autoFocus,w=g.checked,y=g.defaultChecked,S=g.defaultValue,I=g.disabled,k=g.form,O=g.name,A=g.required,F=g.value,G=g.onChange,Y=n.objectWithoutProperties(g,["children","className","label","autoFocus","checked","defaultChecked","defaultValue","disabled","form","name","required","value","onChange"]);return r.default.createElement("div",n.extends({},Y,{className:"mui-checkbox "+m}),r.default.createElement("label",null,r.default.createElement("input",{ref:function(ie){p.controlEl=ie},type:"checkbox",autoFocus:C,checked:w,defaultChecked:y,defaultValue:S,disabled:I,form:k,name:O,required:A,value:F,onChange:G}),_))}}]),d}(r.default.Component);n.defineProperty(s,"defaultProps",{className:"",label:null});var a=s;e.default=a,t.exports=e.default})($C,$C.exports);var wSe=BC($C.exports);class UV extends we.exports.Component{constructor(n){super(n);Xe(this,"textInputChanged_elField",n=>{this.setState({field:n.target.value}),this.setState({loginEmail:n.target.value})});Xe(this,"getValue_elField",()=>this.state.field||"");Xe(this,"textInputChanged_elFieldCopy",n=>{this.setState({fieldCopy:n.target.value}),this.setState({loginPassword:n.target.value})});Xe(this,"getValue_elFieldCopy",()=>this.state.fieldCopy||"");Xe(this,"getValue_elCheckbox",()=>this.state.checkbox!==void 0?this.state.checkbox:"false");Xe(this,"checkboxChanged_elCheckbox",n=>{this.setState({checkbox:n.target.checked?"true":"false"})});Xe(this,"onClick_elButton",async()=>{try{const n=await WL(tl,this.state.loginEmail,this.state.loginPassword);v5(tl,Lp).then(()=>n),go.collection("usuarios").doc(tl.currentUser.uid).get().then(r=>{this.context.userInfo.university=r.data().universidad,this.context.userInfo.type=r.data().tipo,this.context.userInfo.name=r.data().nombre,this.context.userInfo.mayor=r.data().carrera,this.context.userInfo.email=this.state.loginEmail,this.context.appActions.goToScreen("start",this.context.baseScreenId,{transitionId:"fadeIn"})})}catch(n){n.code==="auth/user-not-found"?alert(`Usario no existe.
Por favor cree una cuenta.`):n.code==="auth/wrong-password"?alert(`Contrase\xF1a incorrecta.
Intente de nuevo.`):n.code==="auth/email-already-in-use"?alert(`Por favor utilice otro correo.
Este correo ya esta en uso.`,[{text:"Ok",onPress:()=>null,style:"cancel"},{text:"Contactar a servicio tecnico",onPress:()=>window.open("mailto:ara20261@yvg.edu.gt")}]):n.code==="auth/invalid-email"?alert(`Correo invalido.
Por favor revise que haya ingresado un correo valido.`):alert(`Error desconocido.
Intente m\xE1s tarde.`)}});Xe(this,"onClick_elButtonCopy",async()=>{this.context.appActions.goToScreen("crearCuenta",this.context.baseScreenId,{transitionId:"fadeIn"})});this.state={loginEmail:"",loginPassword:""}}render(){const n={},r={};this.context.transitionId&&this.context.transitionId.length>0&&this.context.atTopOfScreenStack&&this.context.transitionForward&&(r.animation=`0.25s ease-in-out ${this.context.transitionId}`),this.context.atTopOfScreenStack||(n.height="100vh",n.overflow="hidden");const i={backgroundImage:`url(${LV})`,backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover"},o={boxSizing:"border-box",backgroundColor:"white",filter:"drop-shadow(0.0px 2.3px 18px rgba(0, 0, 0, 0.1600))",overflow:"visible"},s={display:"block",paddingTop:0,textAlign:"left",pointerEvents:"auto"},a={display:"block",paddingTop:0,textAlign:"left",pointerEvents:"auto"},u=this.getValue_elCheckbox(),l={cursor:"pointer",pointerEvents:"auto"},d={display:"block",color:"(null)",backgroundColor:"rgba(250, 54, 54, 1.000)",textAlign:"center",cursor:"pointer",pointerEvents:"auto"},f={display:"block",color:"#fff",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5000)",cursor:"pointer",pointerEvents:"auto"},p={backgroundImage:`url(${$V})`,backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover"};return ct("div",{className:"AppScreen LogInScreen",style:r,children:[M("div",{className:"background",children:M("div",{className:"containerMinHeight elCit",style:i})}),ct("div",{className:"layoutFlow",style:n,children:[M("div",{className:"elCard",style:o,children:M("div",{className:"cardBg"})}),M("div",{className:"elField",children:M(xh,{className:"baseFont",style:s,type:"email",placeholder:"alguien@ejemplo.com",onChange:this.textInputChanged_elField,value:this.getValue_elField()})}),M("div",{className:"elFieldCopy",children:M(xh,{className:"baseFont",style:a,type:"password",placeholder:"Contrase\xF1a",onChange:this.textInputChanged_elFieldCopy,value:this.getValue_elFieldCopy()})}),M("div",{className:"elCheckbox",children:M(wSe,{className:"baseFont",style:l,label:"Recordarme",checked:u==="true"||u===!0||`${u}`=="1",onChange:this.checkboxChanged_elCheckbox})}),M("div",{className:"elButton",children:M(Tp,{className:"actionFont",style:d,color:"accent",onClick:this.onClick_elButton,children:"Iniciar sesi\xF3n"})}),M("div",{className:"elButtonCopy",children:M(Tp,{className:"actionFont",style:f,onClick:this.onClick_elButtonCopy,children:"Crear cuenta"})})]}),M("div",{className:"screenFgContainer",children:M("div",{className:"foreground",children:M("div",{className:"elPerson",style:p})})})]})}}Xe(UV,"contextType",Hs);class _Se extends we.exports.Component{constructor(n){super(n);Xe(this,"windowDidResize",()=>{const n=window.innerWidth;let r;n<576?r="narrow-phone":n<768?r="wide-phone":n<1024?r="narrow-tablet":r="wide-tablet",r!==this.state.screenFormatId&&this.setState({screenFormatId:r})});Xe(this,"goToScreen",(n,r,i)=>{let o=`/${n}`;r&&r.length>0&&(o=`/${r}${o}`,i={}),this.props.history.push(o,{...i}),window.scrollTo(0,0)});Xe(this,"updateDataSlot",(n,r,i)=>{r!==this.dataSlots[n]&&(this.dataSlots[n]=r,this.setState({}))});this.dataSlots={},this.dataSlots.ds_SlotSelectedTab="0",this.userInfo={},this.state={}}componentDidMount(){this.windowDidResize(),window.addEventListener("resize",this.windowDidResize)}componentWillUnmount(){window.removeEventListener("resize",this.windowDidResize)}render(){const n=(r,i,o,s,a)=>{const u={...i,atTopOfScreenStack:o,transitionForward:s,appActions:this,userInfo:this,deviceInfo:{screenFormatId:this.state.screenFormatId}};let l;switch(r){case"crearCuenta":l=M(BV,{...i});break;case"logIn":l=M(UV,{...i});break;case"start":l=M(NV,{...i});break;default:l=null}if(l)return M(Hs.Provider,{value:u,children:l})};return M("div",{className:"App",children:ct(_4,{children:[M(pm,{path:"/",render:r=>n("logIn",r.location.state,!0,!0),exact:!0}),M(pm,{path:"/crearCuenta",render:r=>n("crearCuenta",r.location.state,!0,!0)}),M(pm,{path:"/logIn",render:r=>n("logIn",r.location.state,!0,!0)}),M(pm,{path:"/start",render:r=>n("start",r.location.state,!0,!0)})]})})}}var SSe=S4(_Se);const ESe=UF(document.getElementById("root"));ESe.render(M(E4,{children:M(SSe,{})}))});export default CSe();
